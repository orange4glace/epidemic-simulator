!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(){function t(){var t=this;this.timeFactor=100,this.dayFactor=10,this.version=1,this.societyColumnLength=3,this.societyRowLength=3,this.societyPopulation=500,this.societySize=1e3,this.initialInfectionPossiblity=.1,this.infectionRate=.1,this.infectionDiscoveryRate=.5,this.infectionRecoveryRate=.05,this.infectionRadius=40,this.shoppingRate=.2,this.travelingRate=.1,this.quarantined=!0,this.quarantineRate=.1,this.dequarantineAfterRecovered=!0,this.socialDistance=40,this.socialDistanceParticipantRatio=.5;var e=localStorage.getItem("SIRModel");if(console.log(e),e)try{var n=JSON.parse(e);for(var r in console.log(n),n){var o=n[r];isNaN(o)||(this[r]=o)}}catch(t){console.error("Error loading SIR Model",t,e)}i.autorun((function(){t.timeFactor,t.dayFactor,t.societyColumnLength,t.societyRowLength,t.societyPopulation,t.societySize,t.initialInfectionPossiblity,t.infectionRate,t.infectionDiscoveryRate,t.infectionRecoveryRate,t.infectionRadius,t.shoppingRate,t.travelingRate,t.quarantined,t.quarantineRate,t.dequarantineAfterRecovered,t.socialDistance,t.socialDistanceParticipantRatio,localStorage.setItem("SIRModel",JSON.stringify(t))}))}return r([i.observable],t.prototype,"version",void 0),r([i.observable],t.prototype,"timeFactor",void 0),r([i.observable],t.prototype,"dayFactor",void 0),r([i.observable],t.prototype,"societyColumnLength",void 0),r([i.observable],t.prototype,"societyRowLength",void 0),r([i.observable],t.prototype,"societyPopulation",void 0),r([i.observable],t.prototype,"societySize",void 0),r([i.observable],t.prototype,"initialInfectionPossiblity",void 0),r([i.observable],t.prototype,"infectionRate",void 0),r([i.observable],t.prototype,"infectionDiscoveryRate",void 0),r([i.observable],t.prototype,"infectionRecoveryRate",void 0),r([i.observable],t.prototype,"infectionRadius",void 0),r([i.observable],t.prototype,"shoppingRate",void 0),r([i.observable],t.prototype,"travelingRate",void 0),r([i.observable],t.prototype,"quarantined",void 0),r([i.observable],t.prototype,"quarantineRate",void 0),r([i.observable],t.prototype,"dequarantineAfterRecovered",void 0),r([i.observable],t.prototype,"socialDistance",void 0),r([i.observable],t.prototype,"socialDistanceParticipantRatio",void 0),t}();e._SIRModelImpl=o,e.SIRModel=new o,window.SIRModel=e.SIRModel},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=new(function(){function t(){this.lastTimestamp_=-1,this.elasped_=0,this.paused=!1,this.entities_=[]}return Object.defineProperty(t.prototype,"delta",{get:function(){return this.delta_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elasped",{get:function(){return this.elasped_},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.entities_.push(t)},t.prototype.update=function(t){if(-1!=this.lastTimestamp_){var e=this.lastTimestamp_;this.lastTimestamp_=t,this.paused||(this.delta_=t-e,this.elasped_+=this.delta_,this.entities_.forEach((function(t){t.update()})))}else this.lastTimestamp_=t},t.prototype.clear=function(){this.lastTimestamp_=-1,this.elasped_=0,this.entities_.forEach((function(t){t.dispose()})),this.entities_=[]},r([i.observable],t.prototype,"paused",void 0),t}());e.Engine=o,window.Engine=o},function(t,e,n){"use strict";n.r(e),function(t,r){n.d(e,"$mobx",(function(){return A})),n.d(e,"FlowCancellationError",(function(){return Re})),n.d(e,"IDerivationState",(function(){return Q})),n.d(e,"ObservableMap",(function(){return _n})),n.d(e,"ObservableSet",(function(){return xn})),n.d(e,"Reaction",(function(){return Gt})),n.d(e,"_allowStateChanges",(function(){return xt})),n.d(e,"_allowStateChangesInsideComputed",(function(){return At})),n.d(e,"_allowStateReadsEnd",(function(){return dt})),n.d(e,"_allowStateReadsStart",(function(){return pt})),n.d(e,"_endAction",(function(){return wt})),n.d(e,"_getAdministration",(function(){return jn})),n.d(e,"_getGlobalState",(function(){return Ut})),n.d(e,"_interceptReads",(function(){return Te})),n.d(e,"_isComputingDerivation",(function(){return st})),n.d(e,"_resetGlobalState",(function(){return Lt})),n.d(e,"_startAction",(function(){return St})),n.d(e,"action",(function(){return ie})),n.d(e,"autorun",(function(){return ue})),n.d(e,"comparer",(function(){return C})),n.d(e,"computed",(function(){return nt})),n.d(e,"configure",(function(){return ve})),n.d(e,"createAtom",(function(){return T})),n.d(e,"decorate",(function(){return ye})),n.d(e,"entries",(function(){return Le})),n.d(e,"extendObservable",(function(){return be})),n.d(e,"flow",(function(){return Oe})),n.d(e,"get",(function(){return qe})),n.d(e,"getAtom",(function(){return Nn})),n.d(e,"getDebugName",(function(){return Dn})),n.d(e,"getDependencyTree",(function(){return _e})),n.d(e,"getObserverTree",(function(){return we})),n.d(e,"has",(function(){return ze})),n.d(e,"intercept",(function(){return Ce})),n.d(e,"isAction",(function(){return se})),n.d(e,"isArrayLike",(function(){return _})),n.d(e,"isBoxedObservable",(function(){return Pt})),n.d(e,"isComputed",(function(){return Ne})),n.d(e,"isComputedProp",(function(){return je})),n.d(e,"isFlowCancellationError",(function(){return Ae})),n.d(e,"isObservable",(function(){return Me})),n.d(e,"isObservableArray",(function(){return bn})),n.d(e,"isObservableMap",(function(){return Sn})),n.d(e,"isObservableObject",(function(){return In})),n.d(e,"isObservableProp",(function(){return Ve})),n.d(e,"isObservableSet",(function(){return En})),n.d(e,"keys",(function(){return ke})),n.d(e,"observable",(function(){return J})),n.d(e,"observe",(function(){return We})),n.d(e,"onBecomeObserved",(function(){return he})),n.d(e,"onBecomeUnobserved",(function(){return pe})),n.d(e,"onReactionError",(function(){return Kt})),n.d(e,"reaction",(function(){return fe})),n.d(e,"remove",(function(){return Fe})),n.d(e,"runInAction",(function(){return oe})),n.d(e,"set",(function(){return Be})),n.d(e,"spy",(function(){return te})),n.d(e,"toJS",(function(){return Ge})),n.d(e,"trace",(function(){return Ke})),n.d(e,"transaction",(function(){return Je})),n.d(e,"untracked",(function(){return lt})),n.d(e,"values",(function(){return Ue})),n.d(e,"when",(function(){return Ze}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=[];Object.freeze(c);var l={};function f(){return++kt.mobxGuid}function h(t){throw p(!1,t),"X"}function p(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(l);function d(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var v=function(){};function y(t){return null!==t&&"object"==typeof t}function b(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function g(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function m(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return y(t)&&!0===t[n]}}function _(t){return Array.isArray(t)||bn(t)}function S(t){return t instanceof Map}function w(t){return t instanceof Set}function x(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function E(t){return t&&t.toString?t.toString():new String(t).toString()}function R(t){return null===t?null:"object"==typeof t?""+t:t}var A=Symbol("mobx administration"),O=function(){function t(t){void 0===t&&(t="Atom@"+f()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Q.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Ht(this)},t.prototype.reportChanged=function(){qt(),function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.isTracing!==$.NONE&&Yt(e,t),e.onBecomeStale()),e.dependenciesState=Q.STALE}))}(this),Wt()},t.prototype.toString=function(){return this.name},t}(),P=m("Atom",O);function T(t,e,n){void 0===e&&(e=v),void 0===n&&(n=v);var r=new O(t);return e!==v&&he(r,e),n!==v&&pe(r,n),r}var C={identity:function(t,e){return t===e},structural:function(t,e){return Vn(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return Vn(t,e,1)}},I=Symbol("mobx did run lazy initializers"),N=Symbol("mobx pending decorators"),j={},D={};function M(t,e){var n=e?j:D;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return V(this),this[t]},set:function(e){V(this),this[t]=e}})}function V(t){var e,n;if(!0!==t[I]){var r=t[N];if(r){g(t,I,!0);var i=u(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=s(i),a=o.next();!a.done;a=o.next()){var c=r[a.value];c.propertyCreator(t,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}function k(t,e){return function(){var n,r=function(r,i,s,a){if(!0===a)return e(r,i,s,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,N)){var u=r[N];g(r,N,o({},u))}return r[N][i]={prop:i,propertyCreator:e,descriptor:s,decoratorTarget:r,decoratorArguments:n},M(i,t)};return U(arguments)?(n=c,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function U(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function L(t,e,n){return Me(t)?t:Array.isArray(t)?J.array(t,{name:n}):b(t)?J.object(t,void 0,{name:n}):S(t)?J.map(t,{name:n}):w(t)?J.set(t,{name:n}):t}function B(t){return t}function F(e){p(e);var n=k(!0,(function(t,n,r,i,o){var s=r?r.initializer?r.initializer.call(t):r.value:void 0;An(t).addObservableProp(n,s,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function q(t){return null==t?z:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(z);var W=F(L),H=F((function(t,e,n){return null==t||In(t)||bn(t)||Sn(t)||En(t)?t:Array.isArray(t)?J.array(t,{name:n,deep:!1}):b(t)?J.object(t,void 0,{name:n,deep:!1}):S(t)?J.map(t,{name:n,deep:!1}):w(t)?J.set(t,{name:n,deep:!1}):h(!1)})),Y=F(B),G=F((function(t,e,n){return Vn(t,e)?e:t}));function K(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?B:L}var X={box:function(t,e){arguments.length>2&&Z("box");var n=q(e);return new Ot(t,K(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Z("array");var n=q(e);return hn(t,K(n),n.name)},map:function(t,e){arguments.length>2&&Z("map");var n=q(e);return new _n(t,K(n),n.name)},set:function(t,e){arguments.length>2&&Z("set");var n=q(e);return new xn(t,K(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&Z("object");var r=q(n);if(!1===r.proxy)return be({},t,e,r);var i=ge(r),o=be({},void 0,void 0,r),s=rn(o);return me(s,t,e,i),s},ref:Y,shallow:H,deep:W,struct:G},J=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return W.apply(null,arguments);if(Me(t))return t;var r=b(t)?J.object(t,e,n):Array.isArray(t)?J.array(t,e):S(t)?J.map(t,e):w(t)?J.set(t,e):t;if(r!==t)return r;h(!1)};function Z(t){h("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(X).forEach((function(t){return J[t]=X[t]}));var Q,$,tt=k(!1,(function(t,e,n,r,i){var s=n.get,a=n.set,u=i[0]||{};An(t).addComputedProp(t,e,o({get:s,set:a,context:t},u))})),et=tt({equals:C.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Tt(r)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Q||(Q={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}($||($={}));var rt=function(t){this.cause=t};function it(t){return t instanceof rt}function ot(t){switch(t.dependenciesState){case Q.UP_TO_DATE:return!1;case Q.NOT_TRACKING:case Q.STALE:return!0;case Q.POSSIBLY_STALE:for(var e=pt(!0),n=ft(),r=t.observing,i=r.length,o=0;o<i;o++){var s=r[o];if(Ct(s)){if(kt.disableErrorBoundaries)s.get();else try{s.get()}catch(t){return ht(n),dt(e),!0}if(t.dependenciesState===Q.STALE)return ht(n),dt(e),!0}}return vt(t),ht(n),dt(e),!1}}function st(){return null!==kt.trackingDerivation}function at(t){var e=t.observers.size>0;kt.computationDepth>0&&e&&h(!1),kt.allowStateChanges||!e&&"strict"!==kt.enforceActions||h(!1)}function ut(t,e,n){var r=pt(!0);vt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++kt.runId;var i,o=kt.trackingDerivation;if(kt.trackingDerivation=t,!0===kt.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(t){i=new rt(t)}return kt.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Q.UP_TO_DATE,i=0,o=t.unboundDepsCount,s=0;s<o;s++){0===(a=n[s]).diffValue&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){0===(a=e[o]).diffValue&&Ft(a,t),a.diffValue=0}for(;i--;){var a;1===(a=n[i]).diffValue&&(a.diffValue=0,Bt(a,t))}r!==Q.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),dt(r),i}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ft(e[n],t);t.dependenciesState=Q.NOT_TRACKING}function lt(t){var e=ft();try{return t()}finally{ht(e)}}function ft(){var t=kt.trackingDerivation;return kt.trackingDerivation=null,t}function ht(t){kt.trackingDerivation=t}function pt(t){var e=kt.allowStateReads;return kt.allowStateReads=t,e}function dt(t){kt.allowStateReads=t}function vt(t){if(t.dependenciesState!==Q.UP_TO_DATE){t.dependenciesState=Q.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Q.UP_TO_DATE}}var yt=0,bt=1,gt=Object.getOwnPropertyDescriptor((function(){}),"name");gt&&gt.configurable;function mt(t,e,n){var r=function(){return _t(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function _t(t,e,n,r){var i=St(t,n,r);try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{wt(i)}}function St(t,e,n){var r=0,i=ft();qt();var o={prevDerivation:i,prevAllowStateChanges:Et(!0),prevAllowStateReads:pt(!0),notifySpy:!1,startTime:r,actionId:bt++,parentActionId:yt};return yt=o.actionId,o}function wt(t){yt!==t.actionId&&h("invalid action stack. did you forget to finish an action?"),yt=t.parentActionId,void 0!==t.error&&(kt.suppressReactionErrors=!0),Rt(t.prevAllowStateChanges),dt(t.prevAllowStateReads),Wt(),ht(t.prevDerivation),t.notifySpy,kt.suppressReactionErrors=!1}function xt(t,e){var n,r=Et(t);try{n=e()}finally{Rt(r)}return n}function Et(t){var e=kt.allowStateChanges;return kt.allowStateChanges=t,e}function Rt(t){kt.allowStateChanges=t}function At(t){var e,n=kt.computationDepth;kt.computationDepth=0;try{e=t()}finally{kt.computationDepth=n}return e}var Ot=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+f()),void 0===i&&(i=!0),void 0===o&&(o=C.default);var s=t.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=o,s.hasUnreportedChange=!1,s.value=n(e,void 0,r),s}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==kt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(at(this),on(this)){var e=an(this,{object:this,type:"update",newValue:t});if(!e)return kt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?kt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),un(this)&&ln(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return sn(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),cn(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return R(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(O),Pt=m("ObservableValue",Ot),Tt=function(){function t(t){this.dependenciesState=Q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=$.NONE,p(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+f(),t.set&&(this.setter=mt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?C.structural:C.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Q.UP_TO_DATE)return;t.lowestObserverState=Q.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.dependenciesState=Q.POSSIBLY_STALE,e.isTracing!==$.NONE&&Yt(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&h("Cycle detected in computation "+this.name+": "+this.derivation),0!==kt.inBatch||0!==this.observers.size||this.keepAlive?(Ht(this),ot(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.POSSIBLY_STALE?e.dependenciesState=Q.STALE:e.dependenciesState===Q.UP_TO_DATE&&(t.lowestObserverState=Q.UP_TO_DATE)}))}(this)):ot(this)&&(this.warnAboutUntrackedRead(),qt(),this.value=this.computeValue(!1),Wt());var t=this.value;if(it(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(it(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else p(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Q.NOT_TRACKING,n=this.computeValue(!0),r=e||it(t)||it(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,kt.computationDepth++,t)e=ut(this,this.derivation,this.scope);else if(!0===kt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return kt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return ue((function(){var o=n.get();if(!r||e){var s=ft();t({type:"update",object:n,newValue:o,oldValue:i}),ht(s)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return R(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Ct=m("ComputedValue",Tt),It=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Nt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},jt={};function Dt(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:jt}var Mt=!0,Vt=!1,kt=function(){var t=Dt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Mt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Nt).version&&(Mt=!1),Mt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Nt):(setTimeout((function(){Vt||h("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Nt)}();function Ut(){return kt}function Lt(){var t=new Nt;for(var e in t)-1===It.indexOf(e)&&(kt[e]=t[e]);kt.allowStateChanges=!kt.enforceActions}function Bt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ft(t,e){t.observers.delete(e),0===t.observers.size&&zt(t)}function zt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,kt.pendingUnobservations.push(t))}function qt(){kt.inBatch++}function Wt(){if(0==--kt.inBatch){Jt();for(var t=kt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Tt&&n.suspend())}kt.pendingUnobservations=[]}}function Ht(t){var e=kt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&kt.inBatch>0&&zt(t),!1)}function Yt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===$.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)}))}(_e(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Tt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Gt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+f()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=$.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,kt.pendingReactions.push(this),Jt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(qt(),this._isScheduled=!1,ot(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Wt()}},t.prototype.track=function(t){if(!this.isDisposed){qt();0,this._isRunning=!0;var e=ut(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),it(e)&&this.reportExceptionInDerivation(e.cause),Wt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(kt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";kt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),kt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(qt(),ct(this),Wt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[A]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),Ke(this,t)},t}();function Kt(t){return kt.globalReactionErrorHandlers.push(t),function(){var e=kt.globalReactionErrorHandlers.indexOf(t);e>=0&&kt.globalReactionErrorHandlers.splice(e,1)}}var Xt=function(t){return t()};function Jt(){kt.inBatch>0||kt.isRunningReactions||Xt(Zt)}function Zt(){kt.isRunningReactions=!0;for(var t=kt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}kt.isRunningReactions=!1}var Qt=m("Reaction",Gt);function $t(t){var e=Xt;Xt=function(n){return t((function(){return e(n)}))}}function te(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ee(){h(!1)}function ne(t){return function(e,n,r){if(r){if(r.value)return{value:mt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return mt(t,i.call(this))}}}return re(t).apply(this,arguments)}}function re(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){g(this,n,ie(t,e))}})}}var ie=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?mt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?mt(t,e):1===arguments.length&&"string"==typeof t?ne(t):!0!==r?ne(e).apply(null,arguments):void g(t,e,mt(t.name||e,n.value,this))};function oe(t,e){return _t("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function se(t){return"function"==typeof t&&!0===t.isMobxAction}function ae(t,e,n){g(t,e,mt(e,n.bind(t)))}function ue(t,e){void 0===e&&(e=l);var n,r=e&&e.name||t.name||"Autorun@"+f();if(!e.scheduler&&!e.delay)n=new Gt(r,(function(){this.track(s)}),e.onError,e.requiresObservable);else{var i=le(e),o=!1;n=new Gt(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(s)})))}),e.onError,e.requiresObservable)}function s(){t(n)}return n.schedule(),n.getDisposer()}ie.bound=function(t,e,n,r){return!0===r?(ae(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ae(this,e,n.value||n.initializer.call(this)),this[e]},set:ee}:{enumerable:!1,configurable:!0,set:function(t){ae(this,e,t)},get:function(){}}};var ce=function(t){return t()};function le(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ce}function fe(t,e,n){void 0===n&&(n=l);var r,i,o,s=n.name||"Reaction@"+f(),a=ie(s,n.onError?(r=n.onError,i=e,function(){try{return i.apply(this,arguments)}catch(t){r.call(this,t)}}):e),u=!n.scheduler&&!n.delay,c=le(n),h=!0,p=!1,d=n.compareStructural?C.structural:n.equals||C.default,v=new Gt(s,(function(){h||u?y():p||(p=!0,c(y))}),n.onError,n.requiresObservable);function y(){if(p=!1,!v.isDisposed){var e=!1;v.track((function(){var n=t(v);e=h||!d(o,n),o=n})),h&&n.fireImmediately&&a(o,v),h||!0!==e||a(o,v),h&&(h=!1)}}return v.schedule(),v.getDisposer()}function he(t,e,n){return de("onBecomeObserved",t,e,n)}function pe(t,e,n){return de("onBecomeUnobserved",t,e,n)}function de(t,e,n,r){var i="function"==typeof r?Nn(e,n):Nn(e),o="function"==typeof r?r:n,s=t+"Listeners";return i[s]?i[s].add(o):i[s]=new Set([o]),"function"!=typeof i[t]?h(!1):function(){var t=i[s];t&&(t.delete(o),0===t.size&&delete i[s])}}function ve(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,o=t.reactionScheduler,s=t.reactionRequiresObservable,a=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((kt.pendingReactions.length||kt.inBatch||kt.isRunningReactions)&&h("isolateGlobalState should be called before MobX is running any reactions"),Vt=!0,Mt&&(0==--Dt().__mobxInstanceCount&&(Dt().__mobxGlobals=void 0),kt=new Nt)),void 0!==e){var u=void 0;switch(e){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:h("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}kt.enforceActions=u,kt.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(kt.computedRequiresReaction=!!n),void 0!==s&&(kt.reactionRequiresObservable=!!s),void 0!==a&&(kt.observableRequiresReaction=!!a,kt.allowStateReads=!kt.observableRequiresReaction),void 0!==r&&(kt.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),kt.disableErrorBoundaries=!!i),o&&$t(o)}function ye(t,e){var n="function"==typeof t?t.prototype:t,r=function(t){var r=e[t];Array.isArray(r)||(r=[r]);var i=Object.getOwnPropertyDescriptor(n,t),o=r.reduce((function(e,r){return r(n,t,e)}),i);o&&Object.defineProperty(n,t,o)};for(var i in e)r(i);return t}function be(t,e,n,r){var i=ge(r=q(r));return V(t),An(t,r.name,i.enhancer),e&&me(t,e,n,i),t}function ge(t){return t.defaultDecorator||(!1===t.deep?Y:W)}function me(t,e,n,r){var i,o;qt();try{var a=x(e);try{for(var u=s(a),c=u.next();!c.done;c=u.next()){var l=c.value,f=Object.getOwnPropertyDescriptor(e,l);0;var h=(n&&l in n?n[l]:f.get?tt:r)(t,l,f,!0);h&&Object.defineProperty(t,l,h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}finally{Wt()}}function _e(t,e){return Se(Nn(t,e))}function Se(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(Se)),r}function we(t,e){return xe(Nn(t,e))}function xe(t){var e={name:t.name};return function(t){return t.observers&&t.observers.size>0}(t)&&(e.observers=Array.from(function(t){return t.observers}(t)).map(xe)),e}var Ee=0;function Re(){this.message="FLOW_CANCELLED"}function Ae(t){return t instanceof Re}function Oe(t){1!==arguments.length&&h("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++Ee,s=ie(e+" - runid: "+o+" - init",t).apply(r,i),a=void 0,u=new Promise((function(t,r){var i=0;function u(t){var n;a=void 0;try{n=ie(e+" - runid: "+o+" - yield "+i++,s.next).call(s,t)}catch(t){return r(t)}l(n)}function c(t){var n;a=void 0;try{n=ie(e+" - runid: "+o+" - yield "+i++,s.throw).call(s,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,c);e.then(l,r)}n=r,u(void 0)}));return u.cancel=ie(e+" - runid: "+o+" - cancel",(function(){try{a&&Pe(a);var t=s.return(void 0),e=Promise.resolve(t.value);e.then(v,v),Pe(e),n(new Re)}catch(t){n(t)}})),u}}function Pe(t){"function"==typeof t.cancel&&t.cancel()}function Te(t,e,n){var r;if(Sn(t)||bn(t)||Pt(t))r=jn(t);else{if(!In(t))return h(!1);if("string"!=typeof e)return h(!1);r=jn(t,e)}return void 0!==r.dehancer?h(!1):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}function Ce(t,e,n){return"function"==typeof n?function(t,e,n){return jn(t,e).intercept(n)}(t,e,n):function(t,e){return jn(t).intercept(e)}(t,e)}function Ie(t,e){if(null==t)return!1;if(void 0!==e){if(!1===In(t))return!1;if(!t[A].values.has(e))return!1;var n=Nn(t,e);return Ct(n)}return Ct(t)}function Ne(t){return arguments.length>1?h(!1):Ie(t)}function je(t,e){return"string"!=typeof e?h(!1):Ie(t,e)}function De(t,e){return null!=t&&(void 0!==e?!!In(t)&&t[A].values.has(e):In(t)||!!t[A]||P(t)||Qt(t)||Ct(t))}function Me(t){return 1!==arguments.length&&h(!1),De(t)}function Ve(t,e){return"string"!=typeof e?h(!1):De(t,e)}function ke(t){return In(t)?t[A].getKeys():Sn(t)||En(t)?Array.from(t.keys()):bn(t)?t.map((function(t,e){return e})):h(!1)}function Ue(t){return In(t)?ke(t).map((function(e){return t[e]})):Sn(t)?ke(t).map((function(e){return t.get(e)})):En(t)?Array.from(t.values()):bn(t)?t.slice():h(!1)}function Le(t){return In(t)?ke(t).map((function(e){return[e,t[e]]})):Sn(t)?ke(t).map((function(e){return[e,t.get(e)]})):En(t)?Array.from(t.entries()):bn(t)?t.map((function(t,e){return[e,t]})):h(!1)}function Be(t,e,n){if(2!==arguments.length||En(t))if(In(t)){var r=t[A],i=r.values.get(e);i?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(Sn(t))t.set(e,n);else if(En(t))t.add(e);else{if(!bn(t))return h(!1);"number"!=typeof e&&(e=parseInt(e,10)),p(e>=0,"Not a valid index: '"+e+"'"),qt(),e>=t.length&&(t.length=e+1),t[e]=n,Wt()}else{qt();var o=e;try{for(var s in o)Be(t,s,o[s])}finally{Wt()}}}function Fe(t,e){if(In(t))t[A].remove(e);else if(Sn(t))t.delete(e);else if(En(t))t.delete(e);else{if(!bn(t))return h(!1);"number"!=typeof e&&(e=parseInt(e,10)),p(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function ze(t,e){return In(t)?jn(t).has(e):Sn(t)||En(t)?t.has(e):bn(t)?e>=0&&e<t.length:h(!1)}function qe(t,e){if(ze(t,e))return In(t)?t[e]:Sn(t)?t.get(e):bn(t)?t[e]:h(!1)}function We(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return jn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return jn(t).observe(e,n)}(t,e,n)}Re.prototype=Object.create(Error.prototype);var He={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ye(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Ge(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=He),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),function t(e,n,r){if(!n.recurseEverything&&!Me(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Pt(e))return t(e.get(),n,r);if(Me(e)&&ke(e),!0===n.detectCycles&&null!==e&&r.has(e))return r.get(e);if(bn(e)||Array.isArray(e)){var i=Ye(r,e,[],n),o=e.map((function(e){return t(e,n,r)}));i.length=o.length;for(var s=0,a=o.length;s<a;s++)i[s]=o[s];return i}if(En(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=Ye(r,e,new Set,n);return e.forEach((function(e){u.add(t(e,n,r))})),u}var c=Ye(r,e,[],n);return e.forEach((function(e){c.push(t(e,n,r))})),c}if(Sn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Ye(r,e,new Map,n);return e.forEach((function(e,i){l.set(i,t(e,n,r))})),l}var f=Ye(r,e,{},n);return e.forEach((function(e,i){f[i]=t(e,n,r)})),f}var h=Ye(r,e,{},n);return x(e).forEach((function(i){h[i]=t(e[i],n,r)})),h}(t,e,n)}function Ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Xe(t);if(!r)return h(!1);r.isTracing===$.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?$.BREAK:$.LOG}function Xe(t){switch(t.length){case 0:return kt.trackingDerivation;case 1:return Nn(t[0]);case 2:return Nn(t[0],t[1])}}function Je(t,e){void 0===e&&(e=void 0),qt();try{return t.apply(e)}finally{Wt()}}function Ze(t,e,n){return 1===arguments.length||e&&"object"==typeof e?$e(t,e):Qe(t,e,n||{})}function Qe(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!o[A].isDisposed){o();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+f();var i=mt(n.name+"-effect",e),o=ue((function(e){t()&&(e.dispose(),r&&clearTimeout(r),i())}),n);return o}function $e(t,e){var n;var r=new Promise((function(r,i){var s=Qe(t,r,o(o({},e),{onError:i}));n=function(){s(),i("WHEN_CANCELLED")}}));return r.cancel=n,r}function tn(t){return t[A]}function en(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var nn={has:function(t,e){if(e===A||"constructor"===e||e===I)return!0;var n=tn(t);return en(e)?n.has(e):e in t},get:function(t,e){if(e===A||"constructor"===e||e===I)return t[e];var n=tn(t),r=n.values.get(e);if(r instanceof O){var i=r.get();return void 0===i&&n.has(e),i}return en(e)&&n.has(e),t[e]},set:function(t,e,n){return!!en(e)&&(Be(t,e,n),!0)},deleteProperty:function(t,e){return!!en(e)&&(tn(t).remove(e),!0)},ownKeys:function(t){return tn(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return h("Dynamic observable objects cannot be frozen"),!1}};function rn(t){var e=new Proxy(t,nn);return t[A].proxy=e,e}function on(t){return void 0!==t.interceptors&&t.interceptors.length>0}function sn(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),d((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function an(t,e){var n=ft();try{for(var r=u(t.interceptors||[]),i=0,o=r.length;i<o&&(p(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{ht(n)}}function un(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function cn(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),d((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ln(t,e){var n=ft(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);ht(n)}}var fn={get:function(t,e){return e===A?t[A]:"length"===e?t[A].getArrayLength():"number"==typeof e?dn.get.call(t,e):"string"!=typeof e||isNaN(e)?dn.hasOwnProperty(e)?dn[e]:t[e]:dn.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[A].setArrayLength(n),"number"==typeof e&&dn.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:dn.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return h("Observable arrays cannot be frozen"),!1}};function hn(t,e,n,r){void 0===n&&(n="ObservableArray@"+f()),void 0===r&&(r=!1);var i,o,s,a=new pn(n,e,r);i=a.values,o=A,s=a,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:s});var u=new Proxy(a.values,fn);if(a.proxy=u,t&&t.length){var c=Et(!0);a.spliceWithArray(0,0,t),Rt(c)}return u}var pn=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new O(t||"ObservableArray@"+f()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return sn(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),cn(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;at(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=c),on(this)){var o=an(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!o)return c;e=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var s=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,u([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=un(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&ln(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=un(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&ln(this,o)},t}(),dn={intercept:function(t){return this[A].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[A].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[A];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[A];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[A].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[A];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[A].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[A];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[A],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[A];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[A],r=n.values;if(t<r.length){at(n.atom);var i=r[t];if(on(n)){var o=an(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){dn[t]=function(){var e=this[A];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}}));var vn,yn=m("ObservableArrayAdministration",pn);function bn(t){return y(t)&&yn(t[A])}var gn,mn={},_n=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableMap@"+f()),this.enhancer=e,this.name=n,this[vn]=mn,this._keysAtom=T(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!kt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new Ot(this._has(t),B,this.name+"."+E(t)+"?",!1);this._hasMap.set(t,r),pe(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(on(this)){var r=an(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(on(this)&&!(r=an(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=un(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Je((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&ln(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==kt.UNCHANGED){var r=un(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&ln(this,i)}},t.prototype._addValue=function(t,e){var n=this;at(this._keysAtom),Je((function(){var r=new Ot(e,n.enhancer,n.name+"."+E(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=un(this),i=r?{type:"add",object:this,name:t,newValue:e}:null;r&&ln(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Ln({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Ln({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(vn=A,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=s(this),o=i.next();!o.done;o=i.next()){var u=a(o.value,2),c=u[0],l=u[1];t.call(e,l,c,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return Sn(t)&&(t=t.toJS()),Je((function(){b(t)?x(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=a(t,2),r=n[0],i=n[1];return e.set(r,i)})):S(t)?(t.constructor!==Map&&h("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&h("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Je((function(){lt((function(){var e,n;try{for(var r=s(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Je((function(){var n,r=b(n=t)?Object.keys(n):Array.isArray(n)?n.map((function(t){return a(t,1)[0]})):S(n)||Sn(n)?Array.from(n.keys()):h("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=s(this),i=r.next();!i.done;i=r.next()){var o=a(i.value,2),u=o[0],c=o[1];n["symbol"==typeof u?u:E(u)]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return E(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return sn(this,t)},t}(),Sn=m("ObservableMap",_n),wn={},xn=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableSet@"+f()),this.name=n,this[gn]=wn,this._data=new Set,this._atom=T(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Je((function(){lt((function(){var e,n;try{for(var r=s(t._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=s(this),o=i.next();!o.done;o=i.next()){var a=o.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((at(this._atom),on(this))&&!(r=an(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Je((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=un(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&ln(this,r)}return this},t.prototype.delete=function(t){var e=this;if(on(this)&&!(r=an(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=un(this),r=n?{type:"delete",object:this,oldValue:t}:null;return Je((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&ln(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Ln({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Ln({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return En(t)&&(t=t.toJS()),Je((function(){Array.isArray(t)||w(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&h("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return sn(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(gn=A,Symbol.iterator)]=function(){return this.values()},t}(),En=m("ObservableSet",xn),Rn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new O(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof Tt)r.set(e);else{if(on(this)){if(!(o=an(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==kt.UNCHANGED){var i=un(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&ln(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new Ot(r,B,this.name+"."+E(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(on(this)){var i=an(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new Ot(e,n,this.name+"."+E(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return On[t]||(On[t]={configurable:!0,enumerable:!0,get:function(){return this[A].read(t)},set:function(e){this[A].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,s=this.target;n.name=n.name||this.name+"."+E(e),this.values.set(e,new Tt(n)),(t===s||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return Pn[t]||(Pn[t]={configurable:kt.computedConfigurable,enumerable:!1,get:function(){return Tn(this).read(t)},set:function(e){Tn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(on(this))if(!(s=an(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{qt();var n=un(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var s=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;0,n&&ln(this,s)}finally{Wt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return cn(this,t)},t.prototype.intercept=function(t){return sn(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=un(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&ln(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=s(this.values),i=r.next();!i.done;i=r.next()){var o=a(i.value,2),u=o[0];o[1]instanceof Ot&&n.push(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function An(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=L),Object.prototype.hasOwnProperty.call(t,A))return t[A];b(t)||(e=(t.constructor.name||"ObservableObject")+"@"+f()),e||(e="ObservableObject@"+f());var r=new Rn(t,new Map,E(e),n);return g(t,A,r),r}var On=Object.create(null),Pn=Object.create(null);function Tn(t){var e=t[A];return e||(V(t),t[A])}var Cn=m("ObservableObjectAdministration",Rn);function In(t){return!!y(t)&&(V(t),Cn(t[A]))}function Nn(t,e){if("object"==typeof t&&null!==t){if(bn(t))return void 0!==e&&h(!1),t[A].atom;if(En(t))return t[A];if(Sn(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||h(!1),r)}var r;if(V(t),e&&!t[A]&&t[e],In(t))return e?((r=t[A].values.get(e))||h(!1),r):h(!1);if(P(t)||Ct(t)||Qt(t))return t}else if("function"==typeof t&&Qt(t[A]))return t[A];return h(!1)}function jn(t,e){return t||h("Expecting some object"),void 0!==e?jn(Nn(t,e)):P(t)||Ct(t)||Qt(t)||Sn(t)||En(t)?t:(V(t),t[A]?t[A]:void h(!1))}function Dn(t,e){return(void 0!==e?Nn(t,e):In(t)||Sn(t)||En(t)?jn(t):Nn(t)).name}var Mn=Object.prototype.toString;function Vn(t,e,n){return void 0===n&&(n=-1),function t(e,n,r,i,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;var a=Mn.call(e);if(a!==Mn.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}e=kn(e),n=kn(n);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,l=n.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var f=(i=i||[]).length;for(;f--;)if(i[f]===e)return o[f]===n;if(i.push(e),o.push(n),u){if((f=e.length)!==n.length)return!1;for(;f--;)if(!t(e[f],n[f],r-1,i,o))return!1}else{var h=Object.keys(e),p=void 0;if(f=h.length,Object.keys(n).length!==f)return!1;for(;f--;)if(p=h[f],!Un(n,p)||!t(e[p],n[p],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(t,e,n)}function kn(t){return bn(t)?t.slice():S(t)||Sn(t)||w(t)||En(t)?Array.from(t.entries()):t}function Un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ln(t){return t[Symbol.iterator]=Bn,t}function Bn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:te,extras:{getDebugName:Dn},$mobx:A})}.call(this,n(13),n(14))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.x_=t,this.y_=e,this.magnitude_=void 0,this.update()}return Object.defineProperty(t.prototype,"x",{get:function(){return this.x_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.y_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"squaredMagnitude",{get:function(){return this.squaredMagnitude_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"magnitude",{get:function(){return void 0===this.magnitude_&&(this.magnitude_=Math.sqrt(this.squaredMagnitude_)),this.magnitude_},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.magnitude_=void 0,this.squaredMagnitude_=this.x*this.x+this.y*this.y},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},t.prototype.normalize=function(){if(0==this.magnitude)return new t(0,0);var e=this.magnitude;return new t(this.x/e,this.y/e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e,this.y*e)},t.prototype.mul2=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div2=function(e){return new t(this.x/e.x,this.y/e.y)},t}();e.Vector2=r,e.rand=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.random()*(e-t)+t},e.randInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Suspectible=0]="Suspectible",t[t.Infectious=1]="Infectious",t[t.Infectious_Unknown=2]="Infectious_Unknown",t[t.Recovered=3]="Recovered"}(e.SIRState||(e.SIRState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=n(1),o=function(){function t(){this.components_=[],this.transform_=this.addComponent(new r.Transform),i.Engine.add(this)}return Object.defineProperty(t.prototype,"transform",{get:function(){return this.transform_},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.components_.forEach((function(t){t.update()})),this.doUpdate()},t.prototype.addComponent=function(t){return this.components_.push(t),t},t.prototype.getCompnoent=function(t){for(var e=null,n=0;n<this.components_.length;n++){var r=this.components_[n];if(r instanceof t){e=r;break}}return e},t.prototype.removeComponent=function(t){for(var e=0;e<this.components_.length;e++){if(this.components_[e]instanceof t){this.components_.splice(e,1);break}}},t.prototype.dispose=function(){},t}();e.Entity=o},function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return x})),n.d(e,"ConnectableObservable",(function(){return N})),n.d(e,"GroupedObservable",(function(){return D})),n.d(e,"observable",(function(){return m})),n.d(e,"Subject",(function(){return P})),n.d(e,"BehaviorSubject",(function(){return V})),n.d(e,"ReplaySubject",(function(){return et})),n.d(e,"AsyncSubject",(function(){return rt})),n.d(e,"asapScheduler",(function(){return ft})),n.d(e,"asyncScheduler",(function(){return ht})),n.d(e,"queueScheduler",(function(){return F})),n.d(e,"animationFrameScheduler",(function(){return dt})),n.d(e,"VirtualTimeScheduler",(function(){return vt})),n.d(e,"VirtualAction",(function(){return yt})),n.d(e,"Scheduler",(function(){return L})),n.d(e,"Subscription",(function(){return p})),n.d(e,"Subscriber",(function(){return y})),n.d(e,"Notification",(function(){return Q})),n.d(e,"NotificationKind",(function(){return H})),n.d(e,"pipe",(function(){return S})),n.d(e,"noop",(function(){return _})),n.d(e,"identity",(function(){return bt})),n.d(e,"isObservable",(function(){return gt})),n.d(e,"ArgumentOutOfRangeError",(function(){return mt})),n.d(e,"EmptyError",(function(){return _t})),n.d(e,"ObjectUnsubscribedError",(function(){return R})),n.d(e,"UnsubscriptionError",(function(){return h})),n.d(e,"TimeoutError",(function(){return St})),n.d(e,"bindCallback",(function(){return Rt})),n.d(e,"bindNodeCallback",(function(){return Pt})),n.d(e,"combineLatest",(function(){return Ft})),n.d(e,"concat",(function(){return Jt})),n.d(e,"defer",(function(){return Zt})),n.d(e,"empty",(function(){return q})),n.d(e,"forkJoin",(function(){return Qt})),n.d(e,"from",(function(){return Ht})),n.d(e,"fromEvent",(function(){return te})),n.d(e,"fromEventPattern",(function(){return ee})),n.d(e,"generate",(function(){return ne})),n.d(e,"iif",(function(){return ie})),n.d(e,"interval",(function(){return se})),n.d(e,"merge",(function(){return ue})),n.d(e,"never",(function(){return le})),n.d(e,"of",(function(){return X})),n.d(e,"onErrorResumeNext",(function(){return fe})),n.d(e,"pairs",(function(){return he})),n.d(e,"partition",(function(){return ge})),n.d(e,"race",(function(){return me})),n.d(e,"range",(function(){return we})),n.d(e,"throwError",(function(){return J})),n.d(e,"timer",(function(){return Ee})),n.d(e,"using",(function(){return Ae})),n.d(e,"zip",(function(){return Oe})),n.d(e,"scheduled",(function(){return Wt})),n.d(e,"EMPTY",(function(){return z})),n.d(e,"NEVER",(function(){return ce})),n.d(e,"config",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var s=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function u(t){setTimeout((function(){throw t}),0)}var c={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function f(t){return null!==t&&"object"==typeof t}var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s){n[s].remove(this)}if(o(r))try{r.call(this)}catch(t){e=t instanceof h?d(t.errors):[t]}if(l(i)){s=-1;for(var a=i.length;++s<a;){var u=i[s];if(f(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof h?e=e.concat(d(t.errors)):e.push(t)}}}if(e)throw new h(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var v=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=c;break;case 1:if(!n){o.destination=c;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new b(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new b(o,n,r,i)}return o}return i(e,t),e.prototype[v]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),b=function(t){function e(e,n,r,i){var s,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return o(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==c&&(o((u=Object.create(n)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=s,a._error=r,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);function g(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof y?r:null}return!0}var m=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function _(){}function S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:_}var x=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof y)return t;if(t[v])return t[v]()}return t||e||n?new y(t,e,n):new y(c)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),g(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=E(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[m]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:w(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=E(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function E(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var R=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),A=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(p),O=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(y),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[v]=function(){return new O(this)},e.prototype.lift=function(t){var e=new T(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new R;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new R;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new R;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new R;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new R;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new x;return t.source=this,t},e.create=function(t,e){return new T(t,e)},e}(x),T=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):p.EMPTY},e}(P);var C=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new I(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),I=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(y),N=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new j(this.getSubject(),this))),t.closed&&(this._connection=null,t=p.EMPTY)),t},e.prototype.refCount=function(){return(t=this).lift(new C(t));var t},e}(x),j=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(O);var D=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return i(e,t),e.prototype._subscribe=function(t){var e=new p,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new M(n)),e.add(r.subscribe(t)),e},e}(x),M=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(p),V=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(P),k=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(p)),U=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(k),L=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),B=function(t){function e(n,r){void 0===r&&(r=L.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(L),F=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(B))(U),z=new x((function(t){return t.complete()}));function q(t){return t?function(t){return new x((function(e){return t.schedule((function(){return e.complete()}))}))}(t):z}function W(t){return t&&"function"==typeof t.schedule}var H,Y=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function G(t,e){return new x((function(n){var r=new p,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function K(t,e){return e?G(t,e):new x(Y(t))}function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return W(n)?(t.pop(),G(t,n)):K(t)}function J(t,e){return new x(e?function(n){return e.schedule(Z,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function Z(t){var e=t.error;t.subscriber.error(e)}H||(H={});var Q=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return X(this.value);case"E":return J(this.error);case"C":return q()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var $=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new tt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Q.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Q.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()},e}(y),tt=function(){return function(t,e){this.notification=t,this.destination=e}}(),et=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new nt(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new R;if(this.isStopped||this.hasError?e=p.EMPTY:(this.observers.push(t),e=new A(this,t)),i&&t.add(t=new $(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||F).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(P),nt=function(){return function(t,e){this.time=t,this.value=e}}(),rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),p.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),p.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(P),it=1,ot=function(){return Promise.resolve()}(),st={};function at(t){return t in st&&(delete st[t],!0)}var ut=function(t){var e=it++;return st[e]=!0,ot.then((function(){return at(e)&&t()})),e},ct=function(t){at(t)},lt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=ut(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(ct(n),e.scheduled=void 0)},e}(k),ft=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(B))(lt),ht=new B(k),pt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(k),dt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(B))(pt),vt=function(t){function e(e,n){void 0===e&&(e=yt),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(B),yt=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return i(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(k);function bt(t){return t}function gt(t){return!!t&&(t instanceof x||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var mt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),_t=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),St=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function wt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new xt(t,e))}}var xt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.project,this.thisArg))},t}(),Et=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function Rt(t,e,n){if(e){if(!W(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Rt(t,n).apply(void 0,r).pipe(wt((function(t){return l(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o=this,s={context:o,subject:i,callbackFunc:t,scheduler:n};return new x((function(r){if(n){var a={args:e,subscriber:r,params:s};return n.schedule(At,0,a)}if(!i){i=new rt;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){g(i)?i.error(t):console.warn(t)}}return i.subscribe(r)}))}}function At(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new rt;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(a.schedule(Ot,0,{value:r,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(r))}function Ot(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Pt(t,e,n){if(e){if(!W(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Pt(t,n).apply(void 0,r).pipe(wt((function(t){return l(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new x((function(r){var o=i.context,s=i.subject;if(n)return n.schedule(Tt,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new rt;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){g(s)?s.error(t):console.warn(t)}}return s.subscribe(r)}))}}function Tt(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new rt;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(a.schedule(It,0,{err:r,subject:u}));else{var i=t.length<=1?t[0]:t;e.add(a.schedule(Ct,0,{value:i,subject:u}))}}]))}catch(t){this.add(a.schedule(It,0,{err:t,subject:u}))}}this.add(u.subscribe(r))}function Ct(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function It(t){var e=t.err;t.subject.error(e)}var Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(y),jt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(y);function Dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Mt=Dt(),Vt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function kt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Ut=function(t){if(t&&"function"==typeof t[m])return r=t,function(t){var e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Vt(t))return Y(t);if(kt(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,u),t};if(t&&"function"==typeof t[Mt])return e=t,function(t){for(var n=e[Mt]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=f(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Lt(t,e,n,r,i){if(void 0===i&&(i=new jt(t,n,r)),!i.closed)return e instanceof x?e.subscribe(i):Ut(e)(i)}var Bt={};function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return W(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),K(t,r).lift(new zt(n))}var zt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new qt(t,this.resultSelector))},t}(),qt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(Bt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Lt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===Bt?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Nt);function Wt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new x((function(n){var r=new p;return r.add(e.schedule((function(){var i=t[m]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(kt(t))return function(t,e){return new x((function(n){var r=new p;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Vt(t))return G(t,e);if(function(t){return t&&"function"==typeof t[Mt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new x((function(n){var r,i=new p;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Mt](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Ht(t,e){return e?Wt(t,e):t instanceof x?t:new x(Ut(t))}var Yt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Gt(t,this.project,this.concurrent))},t}(),Gt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new jt(this,e,n),i=this.destination;i.add(r);var o=Lt(this,t,void 0,void 0,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Nt);function Kt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t((function(t,r){return Ht(e(t,r)).pipe(wt((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new Yt(e,r))})}(bt,t)}function Xt(){return Kt(1)}function Jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xt()(X.apply(void 0,t))}function Zt(t){return new x((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Ht(n):q()).subscribe(e)}))}function Qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(l(n))return $t(n,null);if(f(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return $t(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return $t(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(wt((function(t){return i.apply(void 0,t)})))}return $t(t,null)}function $t(t,e){return new x((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=Ht(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}function te(t,e,n,r){return o(n)&&(r=n,n=void 0),r?te(t,e,n).pipe(wt((function(t){return l(t)?r.apply(void 0,t):r(t)}))):new x((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function ee(t,e,n){return n?ee(t,e).pipe(wt((function(t){return l(t)?n.apply(void 0,t):n(t)}))):new x((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(o(e))return function(){return e(i,r)}}))}function ne(t,e,n,r,i){var o,s;if(1==arguments.length){var a=t;s=a.initialState,e=a.condition,n=a.iterate,o=a.resultSelector||bt,i=a.scheduler}else void 0===r||W(r)?(s=t,o=bt,i=r):(s=t,o=r);return new x((function(t){var r=s;if(i)return i.schedule(re,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){var a=void 0;try{a=e(r)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var u=void 0;try{u=o(r)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}}))}function re(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function ie(t,e,n){return void 0===e&&(e=z),void 0===n&&(n=z),Zt((function(){return t()?e:n}))}function oe(t){return!l(t)&&t-parseFloat(t)+1>=0}function se(t,e){return void 0===t&&(t=0),void 0===e&&(e=ht),(!oe(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=ht),new x((function(n){return n.add(e.schedule(ae,t,{subscriber:n,counter:0,period:t})),n}))}function ae(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function ue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return W(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof x?t[0]:Kt(n)(K(t,r))}var ce=new x(_);function le(){return ce}function fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return z;var n=t[0],r=t.slice(1);return 1===t.length&&l(n)?fe.apply(void 0,n):new x((function(t){var e=function(){return t.add(fe.apply(void 0,r).subscribe(t))};return Ht(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function he(t,e){return new x(e?function(n){var r=Object.keys(t),i=new p;return i.add(e.schedule(pe,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function pe(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function de(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function ve(t,e){return function(n){return n.lift(new ye(t,e))}}var ye=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new be(t,this.predicate,this.thisArg))},t}(),be=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y);function ge(t,e,n){return[ve(e,n)(new x(Ut(t))),ve(de(e,n))(new x(Ut(t)))]}function me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return K(t,void 0).lift(new _e)}var _e=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Se(t))},t}(),Se=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Lt(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(Nt);function we(t,e,n){return void 0===t&&(t=0),new x((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(xe,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))}function xe(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function Ee(t,e,n){void 0===t&&(t=0);var r=-1;return oe(e)?r=Number(e)<1?1:Number(e):W(e)&&(n=e),W(n)||(n=ht),new x((function(e){var i=oe(t)?t:+t-n.now();return n.schedule(Re,i,{index:0,period:r,subscriber:e})}))}function Re(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ae(t,e){return new x((function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Ht(i):z).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}function Oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),K(t,void 0).lift(new Pe(n))}var Pe=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Te(t,this.resultSelector))},t}(),Te=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return i(e,t),e.prototype._next=function(t){var e=this.iterators;l(t)?e.push(new Ie(t)):"function"==typeof t[Mt]?e.push(new Ce(t[Mt]())):e.push(new Ne(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y),Ce=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Ie=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Mt]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Ne=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i(e,t),e.prototype[Mt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Lt(this,this.observable,this,e)},e}(Nt)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o,s,a=n(15),u=n(20),c=n(1),l=n(23),f=n(0),h=document.getElementById("cvs-box"),p=document.getElementById("canvas"),d=new a.Renderer(h,p,p.width,p.height),v=!1;e.init=function(){return r(this,void 0,void 0,(function(){function t(e){c.Engine.update(e),o&&d.draw(o),s&&s.render(),requestAnimationFrame(t)}return i(this,(function(e){switch(e.label){case 0:return[4,d.initialize()];case 1:return e.sent(),requestAnimationFrame(t),v=!0,[2]}}))}))},e.createWorld=function(){if(v){c.Engine.clear();var t=f.SIRModel.societyColumnLength,e=f.SIRModel.societyRowLength,n=f.SIRModel.societySize,r=f.SIRModel.societyPopulation;o=new u.World,s=new l.StatisticView(document.getElementById("stat-box"),document.getElementById("statistic"),o.statistic);var i=t*(n+40)+40+n/2,a=e*(n+40)-40+40;d.setSize(i,a),o.createQuarantine(i-20-n/2,a-20-n/2,n/2,n/2);for(var h=0;h<e;h++)for(var p=0;p<t;p++)for(var y=o.createSociety(20+p*(n+40),20+h*(n+40),n,n),b=0;b<r;b++)y.populate()}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(5),a=n(6),u=n(3),c=n(19),l=n(1),f=n(4),h=n(0),p=n(2);!function(t){t[t.Chilling=0]="Chilling",t[t.Transfering=1]="Transfering",t[t.Shopping=2]="Shopping",t[t.Traveling=3]="Traveling"}(o=e.PersonState||(e.PersonState={}));var d=function(t){this.person=t};e.PersonEvent=d;var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.person=e,r.lastState=n,r}return i(e,t),e}(d);e.PersonSIRStateChangeEvent=v;var y=function(t){function e(e,n){var r=t.call(this)||this;return r.world=e,r.society_=n,r.onDidChangeSIRState=new a.Subject,r.state_=f.SIRState.Suspectible,r.elapsed_=u.randInt(0,5e3),r.day_=0,r.dayChanged_=!1,r.infectionIntervalStep_=0,r.infectionInterval_=1e3,r.hasRipple_=!1,r.traveling_=!1,r.socialDistanceParticipant_=!1,r.speed_=30,r.society_.addPerson(r),r.stateMachine_=r.addComponent(new c.StateMachine),r.state_=f.SIRState.Suspectible,r.beginChilling=r.beginChilling.bind(r),r.updateChilling=r.updateChilling.bind(r),r.stateMachine_.setStateCallback(o.Chilling,r.beginChilling,null,r.updateChilling),r.beginTransfer=r.beginTransfer.bind(r),r.updateTransfer=r.updateTransfer.bind(r),r.stateMachine_.setStateCallback(o.Transfering,r.beginTransfer,null,r.updateTransfer),r.beginShopping=r.beginShopping.bind(r),r.updateShopping=r.updateShopping.bind(r),r.stateMachine_.setStateCallback(o.Shopping,r.beginShopping,null,r.updateShopping),r.beginTraveling=r.beginTraveling.bind(r),r.endTraveling=r.endTraveling.bind(r),r.stateMachine_.setStateCallback(o.Traveling,r.beginTraveling,r.endTraveling,null),u.rand()<h.SIRModel.initialInfectionPossiblity&&r.setState(f.SIRState.Infectious_Unknown),r.listen(),r.stateMachine_.state=o.Chilling,r}return i(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this.state_},enumerable:!0,configurable:!0}),e.prototype.setState=function(t){if(this.state_!==t){this.state_!=f.SIRState.Suspectible||t!=f.SIRState.Infectious&&t!=f.SIRState.Infectious_Unknown||(this.infectedTime_=l.Engine.elasped);var e=this.state_;this.state_=t,this.onDidChangeSIRState.next(new v(this,e))}},Object.defineProperty(e.prototype,"rippleState",{get:function(){return this.rippleState_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRipple",{get:function(){return this.hasRipple_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rippleStartedTime",{get:function(){return this.rippleStartedTime_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"infected",{get:function(){return this.state==f.SIRState.Infectious_Unknown||this.state==f.SIRState.Infectious},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"infectedTime",{get:function(){return this.infectedTime_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.speed_},enumerable:!0,configurable:!0}),e.prototype.setZone=function(t){},e.prototype.doUpdate=function(){this.dayChanged_=!1,this.elapsed_+=l.Engine.delta;var t=Math.floor(this.elapsed_/5e3),n=Math.floor(this.elapsed_/this.infectionInterval_);this.infectionIntervalStep_!=n&&(this.infectionIntervalStep_=n,this.infect(),this.discover()),this.day_!=t&&(this.dayChanged_=!0,this.day_=t),this.infected&&!this.hasRipple_?(this.hasRipple_=!0,this.rippleStartedTime_=l.Engine.elasped+u.rand(0,1e3)):!this.infected&&this.hasRipple_&&(this.rippleEndedTime_||(this.rippleEndedTime_=this.rippleStartedTime_+Math.ceil((l.Engine.elasped-this.rippleStartedTime_)/e.RIPPLE_DURATION)*e.RIPPLE_DURATION),this.rippleEndedTime_<=l.Engine.elasped&&(this.hasRipple_=!1))},e.prototype.infect=function(){var t=this;this.society_!=this.world.quarantine&&(this.state!=f.SIRState.Infectious&&this.state!=f.SIRState.Infectious_Unknown||this.society_.iterateNearby(this.society_.mapPositionWorldToSociety(this.transform.position),(function(e){e!=t&&(e.state==f.SIRState.Suspectible&&(Math.random()>h.SIRModel.infectionRate||t.transform.position.sub(e.transform.position).squaredMagnitude<h.SIRModel.infectionRadius*h.SIRModel.infectionRadius&&e.setState(f.SIRState.Infectious_Unknown)))})))},e.prototype.discover=function(){this.state==f.SIRState.Infectious_Unknown&&u.rand()<h.SIRModel.infectionDiscoveryRate&&this.setState(f.SIRState.Infectious),this.infected&&u.rand()<h.SIRModel.infectionRecoveryRate&&this.setState(f.SIRState.Recovered)},e.prototype.beginChilling=function(){this.chillingDuration_=-1,this.chillingDirection_=new u.Vector2(2*u.rand()-1,2*u.rand()-1).normalize()},e.prototype.updateChilling=function(){this.chillingDuration_-=l.Engine.delta,this.chillingDuration_<0&&(this.chillingDuration_=u.rand(500,2e3),this.chillingDirection_=new u.Vector2(2*u.rand()-1,2*u.rand()-1).normalize());var t=this.getSocialDistance();this.chillingDirection_=t||this.chillingDirection_;var e=this.chillingDirection_.mul(this.speed_/1e3*l.Engine.delta*(t?3:1));this.transform.position=this.transform.position.add(e),this.fixCoordinateByPolicy()&&(this.chillingDuration_=-1),this.society_==this.world.quarantine?h.SIRModel.quarantined?h.SIRModel.dequarantineAfterRecovered&&!this.infected&&this.startDequarantine():this.startDequarantine():h.SIRModel.quarantined&&this.state==f.SIRState.Infectious?this.startQuarantine():this.dayChanged_&&(u.rand()<h.SIRModel.shoppingRate?this.startShopping():u.rand()<h.SIRModel.travelingRate&&this.startTraveling())},e.prototype.getSocialDistance=function(){var t=this;if(this.society_==this.world.quarantine)return null;if(!this.socialDistanceParticipant_)return null;var e=1/0,n=new u.Vector2(2*u.rand()-1,2*u.rand()-1).normalize();if(this.society_.iterateNearby(this.society_.mapPositionWorldToSociety(this.transform.position),(function(r){if(r!=t&&!r.traveling_){var i=t.transform.position.sub(r.transform.position);i.squaredMagnitude<e&&(e=i.squaredMagnitude,n=i)}})),e==1/0||e>h.SIRModel.socialDistance*h.SIRModel.socialDistance)return null;if(0==n.squaredMagnitude)return new u.Vector2(2*u.rand()-1,2*u.rand()-1).normalize();var r=n.normalize();return 1==r.x||1==r.y?new u.Vector2(2*u.rand()-1,2*u.rand()-1).normalize():r},e.prototype.startQuarantine=function(){this.quarantinedSociety_=this.society_,this.quarantinedNormalizedSrcRelativeToSociety_=this.getSocietyPosition().div2(this.society_.size),this.startTraveling(this.world.quarantine)},e.prototype.startDequarantine=function(){this.startTraveling(this.quarantinedSociety_,this.quarantinedNormalizedSrcRelativeToSociety_),this.quarantinedSociety_=null},e.prototype.startTransfer=function(t,e,n,r,i){var s=t.div2(n.size),a=e.div2(r.size);this.transferNormalizedSrcRelativeToSoceity_=s,this.transferNormalizedDstRelativeToSoceity_=a,this.transferSrcSoceity_=n,this.transferDstSociety_=r,this.transferNextState_=i,this.stateMachine_.state=o.Transfering},e.prototype.beginTransfer=function(){this.transferStartedTime_=this.elapsed_,this.transferDuration_=2500},e.prototype.updateTransfer=function(){var t=this.elapsed_-this.transferStartedTime_,e=this.ease(u.clamp(t/this.transferDuration_,0,1)),n=this.transferSrcSoceity_.positionRelativeToWorld(this.transferNormalizedSrcRelativeToSoceity_.mul2(this.transferSrcSoceity_.size)),r=this.transferDstSociety_.positionRelativeToWorld(this.transferNormalizedDstRelativeToSoceity_.mul2(this.transferDstSociety_.size)),i=n.add(r.sub(n).mul(e));this.transform.position=i,1==e&&(this.stateMachine_.state=this.transferNextState_)},e.prototype.ease=function(t){return--t*t*t+1},e.prototype.startShopping=function(){this.shoppingNormalizedSrcRelativeToSociety_=this.getSocietyPosition().div2(this.society_.size);var t=this.society_.width*u.rand(-.15,.15),e=this.society_.height*u.rand(-.15,.15);this.startTransfer(this.getSocietyPosition(),new u.Vector2(this.society_.width/2+t,this.society_.height/2+e),this.society_,this.society_,o.Shopping)},e.prototype.beginShopping=function(){this.shoppingDuration_=u.rand(500,1e3)},e.prototype.updateShopping=function(){this.shoppingDuration_-=l.Engine.delta,this.shoppingDuration_<=0&&this.startTransfer(this.getSocietyPosition(),this.shoppingNormalizedSrcRelativeToSociety_.mul2(this.society_.size),this.society_,this.society_,o.Chilling)},e.prototype.startTraveling=function(t,e){if(this.traveling_=!0,this.travelingDstSociety_=t,!this.travelingDstSociety_)for(var n=0;n<10&&(this.travelingDstSociety_=this.world.societies[u.randInt(0,this.world.societies.length-1)],this.travelingDstSociety_==this.society_);n++);if(this.travelingDstSociety_!=this.society_){var r=null;if(e)r=e.mul2(t.size);else{var i=this.travelingDstSociety_.width*u.rand(-.3,.3),s=this.travelingDstSociety_.height*u.rand(-.3,.3);r=new u.Vector2(this.travelingDstSociety_.width/2+i,this.travelingDstSociety_.height/2+s)}this.startTransfer(this.getSocietyPosition(),r,this.society_,this.travelingDstSociety_,o.Traveling)}},e.prototype.beginTraveling=function(){this.society_.removePerson(this),this.society_=this.travelingDstSociety_,this.society_.addPerson(this),this.stateMachine_.state=o.Chilling},e.prototype.endTraveling=function(){this.traveling_=!1},e.prototype.fixCoordinateByPolicy=function(){var t=this.society_;if(this.society_){var e=this.getSocietyPosition();if(e.x<0||e.x>=t.width||e.y<0||e.y>=t.height)return this.transform.position=new u.Vector2(t.transform.position.x+u.clamp(e.x,0,t.width),t.transform.position.y+u.clamp(e.y,0,t.height)),!0}return!1},e.prototype.getSocietyPosition=function(){return this.society_.mapPositionWorldToSociety(this.transform.position)},e.prototype.listen=function(){var t=this;this.disposer_=p.autorun((function(){t.socialDistanceParticipant_=u.rand()<h.SIRModel.socialDistanceParticipantRatio}))},e.prototype.dispose=function(){this.disposer_()},e.RIPPLE_DURATION=1e3,e}(s.Entity);e.Person=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};e.Component=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(11);var r=n(7);r.init().then((function(){r.createWorld()}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(0),o=n(2),s=n(1),a=n(7),u=function(){function t(t,e,n,i,o,s,a,u,c){var l=this;this.displayFunc=a,this.sidEffect=u,this.sideEffectOnChange=c,this.el_=document.createElement("div"),this.el_.className="slider-box";var f=document.createElement("div");f.className="label",f.innerText=e,this.el_.append(f);var h=document.createElement("div");this.el_.append(h),this.valueEl_=document.createElement("div"),this.valueEl_.className="value",this.el_.append(this.valueEl_),this.slider_=r.create(h,{start:n,range:{min:i,max:o},step:s}),this.slider_.on("update",(function(){l.renderValue(),l.sidEffect(+l.slider_.get())})),this.slider_.on("change",(function(){l.sideEffectOnChange&&l.sideEffectOnChange(+l.slider_.get())})),t.append(this.el_),this.renderValue()}return t.prototype.renderValue=function(){this.valueEl_.innerText=this.displayFunc(+this.slider_.get())},t}(),c=function(t,e){void 0===e&&(e=!1);var n=document.createElement("div");n.className="divider",e&&(n.className+=" bold"),t.append(n)},l=document.getElementById("control"),f=i.SIRModel;function h(){var t=document.createElement("div");return t.className="category",l.append(t),t}var p=h();new u(p,"Society Column Length (Regenerate)",i.SIRModel.societyColumnLength,1,5,1,(function(t){return t+""}),(function(t){return f.societyColumnLength=t}),(function(){return a.createWorld()})),new c(p),new u(p,"Society Row Length (Regenerate)",i.SIRModel.societyRowLength,1,5,1,(function(t){return t+""}),(function(t){return f.societyRowLength=t}),(function(){return a.createWorld()})),new c(p),new u(p,"Society Size (Regenerate)",i.SIRModel.societySize,50,3e3,1,(function(t){return t+""}),(function(t){return f.societySize=t}),(function(){return a.createWorld()})),new c(p),new u(p,"Population Per Society (Regenerate)",i.SIRModel.societyPopulation,1,5e3,1,(function(t){return t+""}),(function(t){return f.societyPopulation=t}),(function(){return a.createWorld()})),new c(p),new u(p,"Initial Infection Rate (Regenerate)",Math.round(1e3*i.SIRModel.initialInfectionPossiblity),0,1e3,1,(function(t){return t/10+"%"}),(function(t){return f.initialInfectionPossiblity=t/1e3}),(function(){return a.createWorld()})),new c(p,!0),new u(p=h(),"Infection Rate",Math.round(100*i.SIRModel.infectionRate),0,100,1,(function(t){return t+"%"}),(function(t){return f.infectionRate=t/100})),new c(p),new u(p,"Infection Discovery Rate",Math.round(100*i.SIRModel.infectionDiscoveryRate),0,100,1,(function(t){return t+"%"}),(function(t){return f.infectionDiscoveryRate=t/100})),new c(p),new u(p,"Infection Recovery Rate",Math.round(100*i.SIRModel.infectionRecoveryRate),0,100,1,(function(t){return t+"%"}),(function(t){return f.infectionRecoveryRate=t/100})),new c(p),new u(p,"Infection Radius",i.SIRModel.infectionRadius,0,60,1,(function(t){return t+""}),(function(t){return f.infectionRadius=t})),new c(p),new c(p,!0),new u(p=h(),"Shopping Rate",Math.round(100*i.SIRModel.shoppingRate),0,100,1,(function(t){return t+"%"}),(function(t){return f.shoppingRate=t/100})),new c(p),new u(p,"Travel Rate",Math.round(100*i.SIRModel.travelingRate),0,100,1,(function(t){return t+"%"}),(function(t){return f.travelingRate=t/100})),new c(p),new u(p,"Social Distance",i.SIRModel.socialDistance,0,160,1,(function(t){return t+""}),(function(t){return f.socialDistance=t})),new c(p),new u(p,"Social Distance Participant Ratio",Math.round(100*i.SIRModel.socialDistanceParticipantRatio),0,100,1,(function(t){return t+"%"}),(function(t){return f.socialDistanceParticipantRatio=t/100})),new c(p,!0),new u(p=h(),"Enable Quarantine Zone",+i.SIRModel.quarantined,0,1,1,(function(t){return t?"Enabled":"Disabled"}),(function(t){return f.quarantined=!!t})),new c(p),new u(p,"Returing Society on Recovered",+i.SIRModel.dequarantineAfterRecovered,0,1,1,(function(t){return t?"Enabled":"Disabled"}),(function(t){return f.dequarantineAfterRecovered=!!t})),new c(p);var d=document.getElementById("paused");d.addEventListener("click",(function(t){s.Engine.paused=!s.Engine.paused})),o.autorun((function(){s.Engine.paused?d.innerText="PLAY":d.innerText="PAUSE",d.className=s.Engine.paused?"active":""})),document.getElementById("clear").addEventListener("click",(function(t){confirm("Clear settings?")&&(localStorage.removeItem("SIRModel"),location.reload())}))},function(t,e,n){var r,i,o;/*! nouislider - 14.2.0 - 3/27/2020 */i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t="14.2.0";function e(t){t.parentElement.removeChild(t)}function n(t){return null!=t}function r(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,n){n>0&&(c(t,e),setTimeout((function(){l(t,e)}),n))}function s(t){return Math.max(Math.min(t,100),0)}function a(t){return Array.isArray(t)?t:[t]}function u(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function h(t,e){return 100/(e-t)}function p(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var n=1;t>=e[n];)n+=1;return n}function v(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=d(n,t),i=t[r-1],o=t[r],s=e[r-1],a=e[r];return s+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([i,o],n)/h(s,a)}function y(t,e,n,r){if(100===r)return r;var i=d(r,t),o=t[i-1],s=t[i];return n?r-o>(s-o)/2?s:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}function b(t,e,n){var r;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.2.0): 'range' contains invalid value.");if(!i(r="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider (14.2.0): 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(e[0]),r?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1]),n.xHighestCompleteStep.push(0)}function g(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=p([n.xVal[t],n.xVal[t+1]],e)/h(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=o}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function m(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(r in t)t.hasOwnProperty(r)&&i.push([t[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort((function(t,e){return t[0][0]-e[0][0]})):i.sort((function(t,e){return t[0]-e[0]})),r=0;r<i.length;r++)b(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)g(r,this.xNumSteps[r],this)}m.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider (14.2.0): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,t)},m.prototype.toStepping=function(t){return t=v(this.xVal,this.xPct,t)},m.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=d(n,e),i=t[r-1],o=t[r],s=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-s)*h(s,e[r]))}(this.xVal,this.xPct,t)},m.prototype.getStep=function(t){return t=y(this.xPct,this.xSteps,this.snap,t)},m.prototype.getDefaultStep=function(t,e,n){var r=d(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},m.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},m.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(u);return Math.max.apply(null,t)},m.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var _={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function S(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.2.0): 'format' requires 'to' and 'from' methods.")}function w(t,e){if(!i(e))throw new Error("noUiSlider (14.2.0): 'step' is not numeric.");t.singleStep=e}function x(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.2.0): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.2.0): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.2.0): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new m(e,t.snap,t.singleStep)}function E(t,e){if(e=a(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.2.0): 'start' option is incorrect.");t.handles=e.length,t.start=e}function R(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.2.0): 'snap' option must be a boolean.")}function A(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.2.0): 'animate' option must be a boolean.")}function O(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.2.0): 'animationDuration' option must be a number.")}function P(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.2.0): 'connect' option doesn't match handle count.");r=e}t.connect=r}function T(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.2.0): 'orientation' option is invalid.")}}function C(t,e){if(!i(e))throw new Error("noUiSlider (14.2.0): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider (14.2.0): 'margin' option is only supported on linear sliders.")}function I(t,e){if(!i(e))throw new Error("noUiSlider (14.2.0): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.2.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function N(t,e){if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.2.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider (14.2.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){if(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getMargin(e[0]),t.spectrum.getMargin(e[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider (14.2.0): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider (14.2.0): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>100)throw new Error("noUiSlider (14.2.0): 'padding' option must not exceed 100% of the range.")}}function j(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.2.0): 'direction' option was not recognized.")}}function D(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.2.0): 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider (14.2.0): 'fixed' behaviour must be used with 2 handles");C(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider (14.2.0): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:s,unconstrained:a}}function M(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(!0)}else{if(t.tooltips=a(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.2.0): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.2.0): 'tooltips' must be passed a formatter or 'false'.")}))}}function V(t,e){t.ariaFormat=e,S(e)}function k(t,e){t.format=e,S(e)}function U(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.2.0): 'keyboardSupport' option must be a boolean.")}function L(t,e){t.documentElement=e}function B(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.2.0): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function F(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.2.0): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var n in t.cssClasses={},e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n]);else t.cssClasses=e}function z(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:_,format:_},r={step:{r:!1,t:w},start:{r:!0,t:E},connect:{r:!0,t:P},direction:{r:!0,t:j},snap:{r:!1,t:R},animate:{r:!1,t:A},animationDuration:{r:!1,t:O},range:{r:!0,t:x},orientation:{r:!1,t:T},margin:{r:!1,t:C},limit:{r:!1,t:I},padding:{r:!1,t:N},behaviour:{r:!0,t:D},ariaFormat:{r:!1,t:V},format:{r:!1,t:k},tooltips:{r:!1,t:M},keyboardSupport:{r:!0,t:U},documentElement:{r:!1,t:L},cssPrefix:{r:!0,t:B},cssClasses:{r:!0,t:F}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach((function(o){if(!n(t[o])&&void 0===i[o]){if(r[o].r)throw new Error("noUiSlider (14.2.0): '"+o+"' is required.");return!0}r[o].t(e,n(t[o])?t[o]:i[o])})),e.pips=t.pips;var o=document.createElement("div"),s=void 0!==o.style.msTransform,a=void 0!==o.style.transform;return e.transformRule=a?"transform":s?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function q(t,n,i){var u,h,p,d,v,y,b,g,m=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},_=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),S=t,w=n.spectrum,x=[],E=[],R=[],A=0,O={},P=t.ownerDocument,T=n.documentElement||P.documentElement,C=P.body,I="rtl"===P.dir||1===n.ort?0:100;function N(t,e){var n=P.createElement("div");return e&&c(n,e),t.appendChild(n),n}function j(t,e){var r=N(t,n.cssClasses.origin),i=N(r,n.cssClasses.handle);return N(i,n.cssClasses.touchArea),i.setAttribute("data-handle",e),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(t){return function(t,e){if(V()||k(e))return!1;var r=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],s=["Home","End"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&(i.reverse(),o.reverse());var a,u=t.key.replace("Arrow",""),c=u===o[0],l=u===o[1],f=u===i[0]||u===r[0]||c,h=u===i[1]||u===r[1]||l,p=u===s[0],d=u===s[1];if(!(f||h||p||d))return!0;if(t.preventDefault(),h||f){var v=f?0:1,y=ht(e)[v];if(null===y)return!1;!1===y&&(y=w.getDefaultStep(E[e],f,10)),(l||c)&&(y*=5),y=Math.max(y,1e-7),y*=f?-1:1,a=x[e]+y}else a=d?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return at(e,w.toStepping(a),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?c(i,n.cssClasses.handleLower):e===n.handles-1&&c(i,n.cssClasses.handleUpper),r}function D(t,e){return!!e&&N(t,n.cssClasses.connect)}function M(t,e){return!!n.tooltips[e]&&N(t.firstChild,n.cssClasses.tooltip)}function V(){return S.hasAttribute("disabled")}function k(t){return h[t].hasAttribute("disabled")}function U(){v&&(tt("update.tooltips"),v.forEach((function(t){t&&e(t)})),v=null)}function L(){U(),v=h.map(M),$("update.tooltips",(function(t,e,r){if(v[e]){var i=t[e];!0!==n.tooltips[e]&&(i=n.tooltips[e].to(r[e])),v[e].innerHTML=i}}))}function B(t,e,r){var i=P.createElement("div"),o=[];o[0]=n.cssClasses.valueNormal,o[1]=n.cssClasses.valueLarge,o[2]=n.cssClasses.valueSub;var s=[];s[0]=n.cssClasses.markerNormal,s[1]=n.cssClasses.markerLarge,s[2]=n.cssClasses.markerSub;var a=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],u=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function l(t,e){var r=e===n.cssClasses.value,i=r?o:s;return e+" "+(r?a:u)[n.ort]+" "+i[t]}return c(i,n.cssClasses.pips),c(i,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(o){!function(t,o,s){if(-1!==(s=e?e(o,s):s)){var a=N(i,!1);a.className=l(s,n.cssClasses.marker),a.style[n.style]=t+"%",s>0&&((a=N(i,!1)).className=l(s,n.cssClasses.value),a.setAttribute("data-value",o),a.style[n.style]=t+"%",a.innerHTML=r.to(o))}}(o,t[o][0],t[o][1])})),i}function F(){d&&(e(d),d=null)}function q(t){F();var e=t.mode,n=t.density||1,r=t.filter||!1,i=function(t,e,n){if("range"===t||"steps"===t)return w.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.2.0): 'values' (>= 2) required for mode 'count'.");var r=e-1,i=100/r;for(e=[];r--;)e[r]=r*i;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return w.fromStepping(n?w.getStep(t):t)})):"values"===t?n?e.map((function(t){return w.fromStepping(w.getStep(w.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),o=function(t,e,n){var r,i={},o=w.xVal[0],s=w.xVal[w.xVal.length-1],a=!1,u=!1,c=0;return r=n.slice().sort((function(t,e){return t-e})),(n=r.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==o&&(n.unshift(o),a=!0),n[n.length-1]!==s&&(n.push(s),u=!0),n.forEach((function(r,o){var s,l,f,h,p,d,v,y,b,g,m=r,_=n[o+1],S="steps"===e;if(S&&(s=w.xNumSteps[o]),s||(s=_-m),!1!==m&&void 0!==_)for(s=Math.max(s,1e-7),l=m;l<=_;l=(l+s).toFixed(7)/1){for(y=(p=(h=w.toStepping(l))-c)/t,g=p/(b=Math.round(y)),f=1;f<=b;f+=1)i[(d=c+f*g).toFixed(5)]=[w.fromStepping(d),0];v=n.indexOf(l)>-1?1:S?2:0,!o&&a&&l!==_&&(v=0),l===_&&u||(i[h.toFixed(5)]=[l,v]),c=h}})),i}(n,e,i),s=t.format||{to:Math.round};return d=S.appendChild(B(o,r,s))}function W(){var t=u.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||u[e]:t.height||u[e]}function H(t,e,r,i){var o=function(o){return!!(o=function(t,e,n){var r,i,o=0===t.type.indexOf("touch"),s=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(a=!0),o){var u=function(t){return t.target===n||n.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(n)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,u);if(c.length>1)return!1;r=c[0].pageX,i=c[0].pageY}else{var l=Array.prototype.find.call(t.changedTouches,u);if(!l)return!1;r=l.pageX,i=l.pageY}}return e=e||f(P),(s||a)&&(r=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[r,i],t.cursor=s||a,t}(o,i.pageOffset,i.target||e))&&!(V()&&!i.doNotReject)&&(s=S,a=n.cssClasses.tap,!((s.classList?s.classList.contains(a):new RegExp("\\b"+a+"\\b").test(s.className))&&!i.doNotReject)&&!(t===m.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(_||o.preventDefault(),o.calcPoint=o.points[n.ort],void r(o,i)));var s,a},s=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!_&&{passive:!0}),s.push([t,o])})),s}function Y(t){var e,r,i,o,a,c,l=100*(t-(e=u,r=n.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,a=o.documentElement,c=f(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),r?i.top+c.y-a.clientTop:i.left+c.x-a.clientLeft))/W();return l=s(l),n.dir?100-l:l}function G(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&X(t,e)}function K(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return X(t,e);var r=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(r>0,100*r/e.baseSize,e.locations,e.handleNumbers)}function X(t,e){e.handle&&(l(e.handle,n.cssClasses.active),A-=1),e.listeners.forEach((function(t){T.removeEventListener(t[0],t[1])})),0===A&&(l(S,n.cssClasses.drag),st(),t.cursor&&(C.style.cursor="",C.removeEventListener("selectstart",r))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function J(t,e){if(e.handleNumbers.some(k))return!1;var i;1===e.handleNumbers.length&&(i=h[e.handleNumbers[0]].children[0],A+=1,c(i,n.cssClasses.active)),t.stopPropagation();var o=[],s=H(m.move,T,K,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:W(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:E.slice()}),a=H(m.end,T,X,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),u=H("mouseout",T,G,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,s.concat(a,u)),t.cursor&&(C.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&c(S,n.cssClasses.drag),C.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function Z(t){t.stopPropagation();var e=Y(t.calcPoint),r=function(t){var e=100,n=!1;return h.forEach((function(r,i){if(!k(i)){var o=E[i],s=Math.abs(o-t);(s<e||s<=e&&t>o||100===s&&100===e)&&(n=i,e=s)}})),n}(e);if(!1===r)return!1;n.events.snap||o(S,n.cssClasses.tap,n.animationDuration),at(r,e,!0,!0),st(),et("slide",r,!0),et("update",r,!0),et("change",r,!0),et("set",r,!0),n.events.snap&&J(t,{handleNumbers:[r]})}function Q(t){var e=Y(t.calcPoint),n=w.getStep(e),r=w.fromStepping(n);Object.keys(O).forEach((function(t){"hover"===t.split(".")[0]&&O[t].forEach((function(t){t.call(y,r)}))}))}function $(t,e){O[t]=O[t]||[],O[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(O).forEach((function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete O[t]}))}function et(t,e,r){Object.keys(O).forEach((function(i){var o=i.split(".")[0];t===o&&O[i].forEach((function(t){t.call(y,x.map(n.format.to),e,x.slice(),r||!1,E.slice(),y)}))}))}function nt(t,e,r,i,o,a){return h.length>1&&!n.events.unconstrained&&(i&&e>0&&(r=Math.max(r,t[e-1]+n.margin)),o&&e<h.length-1&&(r=Math.min(r,t[e+1]-n.margin))),h.length>1&&n.limit&&(i&&e>0&&(r=Math.min(r,t[e-1]+n.limit)),o&&e<h.length-1&&(r=Math.max(r,t[e+1]-n.limit))),n.padding&&(0===e&&(r=Math.max(r,n.padding[0])),e===h.length-1&&(r=Math.min(r,100-n.padding[1]))),!((r=s(r=w.getStep(r)))===t[e]&&!a)&&r}function rt(t,e){var r=n.ort;return(r?e:t)+", "+(r?t:e)}function it(t,e,n,r){var i=n.slice(),o=[!t,t],s=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=nt(i,t,i[t]+e,o[n],s[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)})):o=s=[!0];var a=!1;r.forEach((function(t,r){a=at(t,n[t]+e,o[r],s[r])||a})),a&&r.forEach((function(t){et("update",t),et("slide",t)}))}function ot(t,e){return n.dir?100-t-e:t}function st(){R.forEach((function(t){var e=E[t]>50?-1:1,n=3+(h.length+e*t);h[t].style.zIndex=n}))}function at(t,e,r,i){return!1!==(e=nt(E,t,e,r,i,!1))&&(function(t,e){E[t]=e,x[t]=w.fromStepping(e);var r="translate("+rt(10*(ot(e,0)-I)+"%","0")+")";h[t].style[n.transformRule]=r,ut(t),ut(t+1)}(t,e),!0)}function ut(t){if(p[t]){var e=0,r=100;0!==t&&(e=E[t-1]),t!==p.length-1&&(r=E[t]);var i=r-e,o="translate("+rt(ot(e,i)+"%","0")+")",s="scale("+rt(i/100,"1")+")";p[t].style[n.transformRule]=o+" "+s}}function ct(t,e){return null===t||!1===t||void 0===t?E[e]:("number"==typeof t&&(t=String(t)),t=n.format.from(t),!1===(t=w.toStepping(t))||isNaN(t)?E[e]:t)}function lt(t,e){var r=a(t),i=void 0===E[0];e=void 0===e||!!e,n.animate&&!i&&o(S,n.cssClasses.tap,n.animationDuration),R.forEach((function(t){at(t,ct(r[t],t),!0,!1)}));for(var s=1===R.length?0:1;s<R.length;++s)R.forEach((function(t){at(t,E[t],!0,!0)}));st(),R.forEach((function(t){et("update",t),null!==r[t]&&e&&et("set",t)}))}function ft(){var t=x.map(n.format.to);return 1===t.length?t[0]:t}function ht(t){var e=E[t],r=w.getNearbySteps(e),i=x[t],o=r.thisStep.step,s=null;if(n.snap)return[i-r.stepBefore.startValue||null,r.stepAfter.startValue-i||null];!1!==o&&i+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-i),s=i>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&i-r.stepBefore.highestStep,100===e?o=null:0===e&&(s=null);var a=w.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(a))),null!==s&&!1!==s&&(s=Number(s.toFixed(a))),[s,o]}return c(b=S,n.cssClasses.target),0===n.dir?c(b,n.cssClasses.ltr):c(b,n.cssClasses.rtl),0===n.ort?c(b,n.cssClasses.horizontal):c(b,n.cssClasses.vertical),c(b,"rtl"===getComputedStyle(b).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),u=N(b,n.cssClasses.base),function(t,e){var r=N(e,n.cssClasses.connects);h=[],(p=[]).push(D(r,t[0]));for(var i=0;i<n.handles;i++)h.push(j(e,i)),R[i]=i,p.push(D(r,t[i+1]))}(n.connect,u),(g=n.events).fixed||h.forEach((function(t,e){H(m.start,t.children[0],J,{handleNumbers:[e]})})),g.tap&&H(m.start,u,Z,{}),g.hover&&H(m.move,u,Q,{hover:!0}),g.drag&&p.forEach((function(t,e){if(!1!==t&&0!==e&&e!==p.length-1){var r=h[e-1],i=h[e],o=[t];c(t,n.cssClasses.draggable),g.fixed&&(o.push(r.children[0]),o.push(i.children[0])),o.forEach((function(t){H(m.start,t,J,{handles:[r,i],handleNumbers:[e-1,e]})}))}})),lt(n.start),n.pips&&q(n.pips),n.tooltips&&L(),$("update",(function(t,e,r,i,o){R.forEach((function(t){var e=h[t],i=nt(E,t,0,!0,!0,!0),s=nt(E,t,100,!0,!0,!0),a=o[t],u=n.ariaFormat.to(r[t]);i=w.fromStepping(i).toFixed(1),s=w.fromStepping(s).toFixed(1),a=w.fromStepping(a).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",s),e.children[0].setAttribute("aria-valuenow",a),e.children[0].setAttribute("aria-valuetext",u)}))})),y={destroy:function(){for(var t in n.cssClasses)n.cssClasses.hasOwnProperty(t)&&l(S,n.cssClasses[t]);for(;S.firstChild;)S.removeChild(S.firstChild);delete S.noUiSlider},steps:function(){return R.map(ht)},on:$,off:tt,get:ft,set:lt,setHandle:function(t,e,n){if(!((t=Number(t))>=0&&t<R.length))throw new Error("noUiSlider (14.2.0): invalid handle number, got: "+t);at(t,ct(e,t),!0,!0),et("update",t),n&&et("set",t)},reset:function(t){lt(n.start,t)},__moveHandles:function(t,e,n){it(t,e,E,n)},options:i,updateOptions:function(t,e){var r=ft(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(e){void 0!==t[e]&&(i[e]=t[e])}));var s=z(i);o.forEach((function(e){void 0!==t[e]&&(n[e]=s[e])})),w=s.spectrum,n.margin=s.margin,n.limit=s.limit,n.padding=s.padding,n.pips?q(n.pips):F(),n.tooltips?L():U(),E=[],lt(t.start||r,e)},target:S,removePips:F,removeTooltips:U,pips:q}}return{__spectrum:m,version:t,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.2.0): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.2.0): Slider was already initialized.");var n=q(t,z(e),e);return t.noUiSlider=n,n}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),s=n(16),a=n(1),u=n(17),c=n(0),l=n(8),f=function(){function t(t,e,n,r){this.box=t,this.canvas=e,this.peopleRenderData_=[],this.width_=n,this.height_=r,this.gl_=e.getContext("webgl2",{premutipliedAlpha:!1})}return Object.defineProperty(t.prototype,"width",{get:function(){return this.width_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.height_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.ratio_},enumerable:!0,configurable:!0}),t.prototype.setSize=function(t,e){this.width_=t,this.height_=e},t.prototype.loadTexture=function(t){var e=this,n=this.gl_;return new Promise((function(r,i){var o=new Image;o.onload=function(){var t=e.gl_.createTexture();e.gl_.bindTexture(e.gl_.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,o),e.gl_.texParameteri(e.gl_.TEXTURE_2D,e.gl_.TEXTURE_MAG_FILTER,e.gl_.LINEAR),e.gl_.texParameteri(e.gl_.TEXTURE_2D,e.gl_.TEXTURE_MIN_FILTER,e.gl_.LINEAR_MIPMAP_NEAREST),e.gl_.generateMipmap(e.gl_.TEXTURE_2D),e.gl_.bindTexture(e.gl_.TEXTURE_2D,null),r(t)},o.src=t}))},t.prototype.initialize=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return t=this.gl_,this.gl_.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.solidShader=new s.Shader(t,"#version 300 es\n        uniform vec2 u_resolution;\n        uniform vec2 u_worldPosition;\n        in vec2 a_position;\n\n        void main() {\n          vec2 position = a_position + u_worldPosition;\n          vec2 normalizedPosition = (position * vec2(2, 2) - u_resolution)\n              / u_resolution;\n          gl_Position = vec4(normalizedPosition * vec2(1, -1), 0.0, 1.0);\n        }\n      ","#version 300 es\n        precision mediump float;\n        uniform vec3 u_color;\n        out vec4 outColor;\n\n        void main() {\n          outColor = vec4(u_color, 1.0);\n        }\n      ",["a_position"],["u_resolution","u_worldPosition","u_color"]),this.solidPositionBuffer=t.createBuffer(),this.solidVAO=t.createVertexArray(),t.bindVertexArray(this.solidVAO),t.enableVertexAttribArray(this.solidShader.getAttributeLocation("a_position")),t.bindBuffer(t.ARRAY_BUFFER,this.solidPositionBuffer),t.vertexAttribPointer(this.solidShader.getAttributeLocation("a_position"),2,t.FLOAT,!1,0,0),this.texShader=new s.Shader(t,"#version 300 es\n\n        uniform vec2 u_resolution;\n        in vec2 a_vertex;\n        in vec2 a_position;\n        in vec2 a_texCoord;\n        in vec3 a_color;\n        out vec2 v_texCoord;\n        out vec3 v_color;\n\n        void main() {\n          vec2 position = a_vertex + a_position;\n          vec2 normalizedPosition = (position * vec2(2, 2) - u_resolution)\n              / u_resolution;\n          gl_Position = vec4(normalizedPosition * vec2(1, -1), 0.0, 1.0);\n\n          v_texCoord = a_texCoord;\n          v_color = a_color;\n        }\n      ","#version 300 es\n        precision mediump float;\n        in vec2 v_texCoord;\n        in vec3 v_color;\n        \n        uniform sampler2D u_texture;\n        out vec4 outColor;\n\n        void main() {\n          outColor = texture(u_texture, v_texCoord) * vec4(v_color, 1);\n        }\n      ",["a_vertex","a_position","a_texCoord","a_color"],["u_resolution","u_texture"]),this.texPositionBuffer=t.createBuffer(),this.texVertexBuffer=t.createBuffer(),this.texTexCoordBuffer=t.createBuffer(),this.texColorBuffer=t.createBuffer(),this.texVAO=t.createVertexArray(),t.bindVertexArray(this.texVAO),t.enableVertexAttribArray(this.texShader.getAttributeLocation("a_vertex")),t.bindBuffer(t.ARRAY_BUFFER,this.texVertexBuffer),t.vertexAttribPointer(this.texShader.getAttributeLocation("a_vertex"),2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.texShader.getAttributeLocation("a_position")),t.bindBuffer(t.ARRAY_BUFFER,this.texPositionBuffer),t.vertexAttribPointer(this.texShader.getAttributeLocation("a_position"),2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.texShader.getAttributeLocation("a_position"),1),t.enableVertexAttribArray(this.texShader.getAttributeLocation("a_texCoord")),t.bindBuffer(t.ARRAY_BUFFER,this.texTexCoordBuffer),t.vertexAttribPointer(this.texShader.getAttributeLocation("a_texCoord"),2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.texShader.getAttributeLocation("a_color")),t.bindBuffer(t.ARRAY_BUFFER,this.texColorBuffer),t.vertexAttribPointer(this.texShader.getAttributeLocation("a_color"),3,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.texShader.getAttributeLocation("a_color"),1),this.rippleShader=new s.Shader(t,"#version 300 es\n        precision mediump float;\n\n        uniform vec2 u_resolution;\n        in vec2 a_vertex;\n        in vec2 a_position;\n        in vec2 a_texCoord;\n        in vec3 a_color;\n        in float a_time;\n\n        out vec2 v_texCoord;\n        out vec3 v_color;\n        out float v_time;\n        out vec2 v_fragCoord;\n\n        void main() {\n          v_fragCoord = a_vertex;\n          vec2 position = a_vertex + a_position;\n          vec2 normalizedPosition = (position * vec2(2, 2) - u_resolution)\n              / u_resolution;\n          gl_Position = vec4(normalizedPosition * vec2(1, -1), 0.0, 1.0);\n\n          v_texCoord = a_texCoord;\n          v_color = a_color;\n          v_time = a_time;\n        }\n      ","#version 300 es\n        precision mediump float;\n\n        uniform float u_radius;\n\n        in vec2 v_texCoord;\n        in vec3 v_color;\n        in vec2 v_fragCoord;\n        in float v_time;\n\n        uniform sampler2D u_texture;\n\n        out vec4 outColor;\n\n        void main() {\n          float len = length(v_fragCoord);\n          float from = v_time * u_radius;\n          float thickness = 10.0 * (1.0 - v_time);\n          float to = from + thickness;\n          outColor = vec4(0.0, 0.0, 0.0, 0.0);\n          if (from <= len && len <= to) {\n            outColor = texture(u_texture, v_texCoord) * vec4(v_color, 1.0 - v_time);\n          }\n        }\n      ",["a_vertex","a_position","a_texCoord","a_color","a_time"],["u_resolution","u_radius","u_texture"]),this.ripplePositionBuffer=t.createBuffer(),this.rippleVertexBuffer=t.createBuffer(),this.rippleTexCoordBuffer=t.createBuffer(),this.rippleColorBuffer=t.createBuffer(),this.rippleTimeBuffer=t.createBuffer(),this.rippleVAO=t.createVertexArray(),t.bindVertexArray(this.rippleVAO),t.enableVertexAttribArray(this.rippleShader.getAttributeLocation("a_position")),t.bindBuffer(t.ARRAY_BUFFER,this.ripplePositionBuffer),t.vertexAttribPointer(this.rippleShader.getAttributeLocation("a_position"),2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.rippleShader.getAttributeLocation("a_position"),1),t.enableVertexAttribArray(this.rippleShader.getAttributeLocation("a_vertex")),t.bindBuffer(t.ARRAY_BUFFER,this.rippleVertexBuffer),t.vertexAttribPointer(this.rippleShader.getAttributeLocation("a_vertex"),2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.rippleShader.getAttributeLocation("a_texCoord")),t.bindBuffer(t.ARRAY_BUFFER,this.rippleTexCoordBuffer),t.vertexAttribPointer(this.rippleShader.getAttributeLocation("a_texCoord"),2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.rippleShader.getAttributeLocation("a_color")),t.bindBuffer(t.ARRAY_BUFFER,this.rippleColorBuffer),t.vertexAttribPointer(this.rippleShader.getAttributeLocation("a_color"),3,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.rippleShader.getAttributeLocation("a_color"),1),t.enableVertexAttribArray(this.rippleShader.getAttributeLocation("a_time")),t.bindBuffer(t.ARRAY_BUFFER,this.rippleTimeBuffer),t.vertexAttribPointer(this.rippleShader.getAttributeLocation("a_time"),1,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.rippleShader.getAttributeLocation("a_time"),1),this.personVertices_=new Float32Array(18e5),this.personColorVertices_=new Float32Array(45e4),this.personTexVertices_=new Float32Array(600),this.rippleVertices_=new Float32Array(18e5),this.rippleColorVertices_=new Float32Array(45e4),this.rippleTexVertices_=new Float32Array(600),this.rippleTimeVertices_=new Float32Array(15e4),t.activeTexture(t.TEXTURE0),e=this,[4,this.loadTexture("./circle.png")];case 1:return e.circleTexture_=n.sent(),[2]}}))}))},t.prototype.renderPerson=function(t){},t.prototype.drawWorld=function(t){},t.prototype.drawSociety=function(t){var e=this,n=this.gl_;n.useProgram(this.solidShader.program),n.bindVertexArray(this.solidVAO),n.bindBuffer(n.ARRAY_BUFFER,this.solidPositionBuffer),n.uniform2f(this.solidShader.getUniformLocation("u_resolution"),this.width,this.height),n.uniform2f(this.solidShader.getUniformLocation("u_worldPosition"),0,0);var r=t.societies.slice(0);r.push(t.quarantine),r.forEach((function(t){var r=t.transform.position.x,i=r+t.width,o=t.transform.position.y,s=o+t.height;t.quarantine?n.uniform3f(e.solidShader.getUniformLocation("u_color"),.6,.5,.2):n.uniform3f(e.solidShader.getUniformLocation("u_color"),.4,.4,.4),n.bufferData(n.ARRAY_BUFFER,new Float32Array([r,o,i,o,i,s,r,s,r,o]),n.STATIC_DRAW),n.drawArrays(n.LINE_STRIP,0,5)}))},t.prototype.drawPeople=function(t){var e=this,n=this.gl_;n.useProgram(this.texShader.program),n.bindVertexArray(this.texVAO),n.uniform2f(this.texShader.getUniformLocation("u_resolution"),this.width,this.height),n.uniform2f(this.texShader.getUniformLocation("u_worldPosition"),0,0),n.uniform1i(this.texShader.getUniformLocation("u_texture"),0),n.bindTexture(n.TEXTURE_2D,this.circleTexture_);var r=0,i=t.societies.slice(0);i.push(t.quarantine),i.forEach((function(t){t.people.forEach((function(t){var n=t.transform.position.x,i=t.transform.position.y;switch(e.personVertices_.set([n,i],2*r),t.state){case o.SIRState.Suspectible:e.personColorVertices_.set([u.ColorPalette.PERSON_SUSCEPTIBLE.r,u.ColorPalette.PERSON_SUSCEPTIBLE.g,u.ColorPalette.PERSON_SUSCEPTIBLE.b],3*r);break;case o.SIRState.Infectious:e.personColorVertices_.set([u.ColorPalette.PERSON_INFECTED.r,u.ColorPalette.PERSON_INFECTED.g,u.ColorPalette.PERSON_INFECTED.b],3*r);break;case o.SIRState.Infectious_Unknown:e.personColorVertices_.set([u.ColorPalette.PERSON_INFECTED_UNKNOWN.r,u.ColorPalette.PERSON_INFECTED_UNKNOWN.g,u.ColorPalette.PERSON_INFECTED_UNKNOWN.b],3*r);break;case o.SIRState.Recovered:e.personColorVertices_.set([u.ColorPalette.PERSON_RECOVERED.r,u.ColorPalette.PERSON_RECOVERED.g,u.ColorPalette.PERSON_RECOVERED.b],3*r)}r++}))})),n.bindBuffer(n.ARRAY_BUFFER,this.texVertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-5,-5,5,-5,5,5,-5,-5,-5,5,5,5]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.texTexCoordBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,0,0,1,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.texPositionBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(this.personVertices_.buffer,0,2*r),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.texColorBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(this.personColorVertices_.buffer,0,3*r),n.STATIC_DRAW),n.drawArraysInstanced(n.TRIANGLES,0,6,r)},t.prototype.drawRipple=function(t){var e=this,n=this.gl_;n.useProgram(this.rippleShader.program),n.bindVertexArray(this.rippleVAO),n.bindBuffer(n.ARRAY_BUFFER,this.ripplePositionBuffer),n.uniform2f(this.rippleShader.getUniformLocation("u_resolution"),this.width,this.height),n.uniform1f(this.rippleShader.getUniformLocation("u_radius"),c.SIRModel.infectionRadius),n.uniform1i(this.rippleShader.getUniformLocation("u_texture"),0),n.bindTexture(n.TEXTURE_2D,this.circleTexture_);var r=0;t.societies.forEach((function(t){t.people.forEach((function(t){if(t.hasRipple){var n=t.transform.position.x,i=t.transform.position.y;switch(e.rippleVertices_.set([n,i],2*r),t.state){case o.SIRState.Suspectible:e.rippleColorVertices_.set([u.ColorPalette.PERSON_SUSCEPTIBLE.r,u.ColorPalette.PERSON_SUSCEPTIBLE.g,u.ColorPalette.PERSON_SUSCEPTIBLE.b],3*r);break;case o.SIRState.Infectious:e.rippleColorVertices_.set([u.ColorPalette.PERSON_INFECTED.r,u.ColorPalette.PERSON_INFECTED.g,u.ColorPalette.PERSON_INFECTED.b],3*r);break;case o.SIRState.Infectious_Unknown:e.rippleColorVertices_.set([u.ColorPalette.PERSON_INFECTED_UNKNOWN.r,u.ColorPalette.PERSON_INFECTED_UNKNOWN.g,u.ColorPalette.PERSON_INFECTED_UNKNOWN.b],3*r);break;case o.SIRState.Recovered:e.rippleColorVertices_.set([u.ColorPalette.PERSON_RECOVERED.r,u.ColorPalette.PERSON_RECOVERED.g,u.ColorPalette.PERSON_RECOVERED.b],3*r)}e.rippleTimeVertices_[r]=(a.Engine.elasped-t.rippleStartedTime)%l.Person.RIPPLE_DURATION/l.Person.RIPPLE_DURATION,r++}}))})),n.bindBuffer(n.ARRAY_BUFFER,this.rippleVertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-c.SIRModel.infectionRadius,-c.SIRModel.infectionRadius,c.SIRModel.infectionRadius,-c.SIRModel.infectionRadius,c.SIRModel.infectionRadius,c.SIRModel.infectionRadius,-c.SIRModel.infectionRadius,-c.SIRModel.infectionRadius,-c.SIRModel.infectionRadius,c.SIRModel.infectionRadius,c.SIRModel.infectionRadius,c.SIRModel.infectionRadius]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.rippleTexCoordBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,0,0,1,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.ripplePositionBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(this.rippleVertices_.buffer,0,2*r),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.rippleColorBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(this.rippleColorVertices_.buffer,0,3*r),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.rippleTimeBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(this.rippleTimeVertices_.buffer,0,r),n.STATIC_DRAW),n.drawArraysInstanced(n.TRIANGLES,0,6,r)},t.prototype.draw=function(t){this.canvas.width=this.box.offsetWidth,this.canvas.height=this.box.offsetHeight,this.ratio_=Math.min(this.canvas.width/this.width,this.canvas.height/this.height);var e=this.width*this.ratio_,n=this.height*this.ratio_;this.gl_.viewport(0,this.canvas.height-n,e,n),this.gl_.clearColor(0,0,0,0),this.gl_.clear(this.gl_.COLOR_BUFFER_BIT|this.gl_.DEPTH_BUFFER_BIT),this.drawSociety(t),this.drawRipple(t),this.drawPeople(t)},t}();e.Renderer=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,i){var o=this;this.gl_=t,this.attributeMap=new Map,this.uniformMap=new Map,this.program_=this.createProgramFromSources(e,n),r&&r.forEach((function(t){var e=o.gl_.getAttribLocation(o.program,t);o.attributeMap.set(t,e),console.log(t,e)})),i&&i.forEach((function(t){var e=o.gl_.getUniformLocation(o.program,t);o.uniformMap.set(t,e),console.log(t,e)}))}return Object.defineProperty(t.prototype,"program",{get:function(){return this.program_},enumerable:!0,configurable:!0}),t.prototype.getAttributeLocation=function(t){return this.attributeMap.get(t)},t.prototype.getUniformLocation=function(t){return this.uniformMap.get(t)},t.prototype.loadShader=function(t,e){var n=this.gl_.createShader(e);if(this.gl_.shaderSource(n,t),this.gl_.compileShader(n),!this.gl_.getShaderParameter(n,this.gl_.COMPILE_STATUS)){var r=this.gl_.getShaderInfoLog(n);return console.error("Failed to compile shader",r),this.gl_.deleteShader(n),null}return n},t.prototype.createProgram=function(t){var e=this,n=this.gl_.createProgram();if(t.forEach((function(t){e.gl_.attachShader(n,t)})),this.gl_.linkProgram(n),!this.gl_.getProgramParameter(n,this.gl_.LINK_STATUS)){var r=this.gl_.getProgramInfoLog(n);return console.error("Failed to link program",r),this.gl_.deleteProgram(n),null}return n},t.prototype.createProgramFromSources=function(t,e){var n=[];return n.push(this.loadShader(t,this.gl_.VERTEX_SHADER)),n.push(this.loadShader(e,this.gl_.FRAGMENT_SHADER)),this.createProgram(n)},t}();e.Shader=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){this.r=t/255,this.g=e/255,this.b=n/255};e.Color=r;var i=function(){this.PERSON_SUSCEPTIBLE=new r(148,193,203),this.PERSON_INFECTED=new r(246,142,159),this.PERSON_INFECTED_UNKNOWN=new r(248,255,52),this.PERSON_RECOVERED=new r(78,75,77)};e.ColorPalette=new i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(3),a=n(6),u=function(t){function e(){var e=t.call(this)||this;return e.onDidPositionChange=new a.Subject,e.position_=new s.Vector2(0,0),e}return i(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.position_},set:function(t){this.position_=new s.Vector2(t.x,t.y),this.onDidPositionChange.next()},enumerable:!0,configurable:!0}),e.prototype.update=function(){},e}(o.Component);e.Transform=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.begins_=new Map,e.ends_=new Map,e.updates_=new Map,e}return i(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this.state_},set:function(t){var e=this.state;if(e!==t){var n=this.ends_.get(e);n&&n(),this.state_=t;var r=this.begins_.get(t);r&&r()}},enumerable:!0,configurable:!0}),e.prototype.setStateCallback=function(t,e,n,r){this.begins_.set(t,e),this.ends_.set(t,n),this.updates_.set(t,r)},e.prototype.update=function(){var t=this.updates_.get(this.state);t&&t()},e}(n(9).Component);e.StateMachine=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),s=n(5),a=n(3),u=n(1),c=n(4),l=n(0),f=function(){function t(){this.elapsed_=0,this.numSuspectible_=0,this.numInfectious_=0,this.numRecovered_=0,this.records_=[]}return Object.defineProperty(t.prototype,"elapsed",{get:function(){return this.elapsed_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numSuspectible",{get:function(){return this.numSuspectible_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numInfectious",{get:function(){return this.numInfectious_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numRecovered",{get:function(){return this.numRecovered_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"records",{get:function(){return this.records_},enumerable:!0,configurable:!0}),t.prototype.update=function(t,e,n){this.numSuspectible_=t,this.numInfectious_=e,this.numRecovered_=n},t.prototype.elapse=function(t){this.elapsed_=t},t.prototype.record=function(){this.records_.push([this.numSuspectible_,this.numInfectious_,this.numRecovered_])},t}();e.Statistic=f;var h=function(t){function e(){var e=t.call(this)||this;return e.statistic=new f,e.societies_=[],e.quarantine_=null,e.time_=0,e.day_=0,e}return i(e,t),Object.defineProperty(e.prototype,"societies",{get:function(){return this.societies_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quarantine",{get:function(){return this.quarantine_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"day",{get:function(){return this.day_},enumerable:!0,configurable:!0}),e.prototype.createQuarantine=function(t,e,n,r){return this.quarantine_=new o.Society(this,n,r),this.quarantine_.transform.position=new a.Vector2(t,e),this.quarantine_.quarantine=!0,this.listenSociety(this.quarantine),this.quarantine_},e.prototype.createSociety=function(t,e,n,r){var i=new o.Society(this,n,r);return i.transform.position=new a.Vector2(t,e),this.societies_.push(i),this.listenSociety(i),i},e.prototype.doUpdate=function(){this.time_+=u.Engine.delta;for(var t=Math.floor(this.time_/l.SIRModel.timeFactor),e=this.day_;e<t;e++)this.statistic.record();this.day_!=t&&(this.day_=t),this.statistic.elapse(this.time_)},e.prototype.listenSociety=function(t){var e=this;t.onDidPopulatePerson.subscribe((function(t){e.statistic.update(e.statistic.numSuspectible+1,e.statistic.numInfectious,e.statistic.numRecovered)})),t.onDidChangePersonSIRState.subscribe((function(t){switch(t.lastState){case c.SIRState.Suspectible:e.statistic.update(e.statistic.numSuspectible-1,e.statistic.numInfectious,e.statistic.numRecovered);break;case c.SIRState.Infectious:case c.SIRState.Infectious_Unknown:e.statistic.update(e.statistic.numSuspectible,e.statistic.numInfectious-1,e.statistic.numRecovered);break;case c.SIRState.Recovered:e.statistic.update(e.statistic.numSuspectible,e.statistic.numInfectious,e.statistic.numRecovered-1)}switch(t.person.state){case c.SIRState.Suspectible:e.statistic.update(e.statistic.numSuspectible+1,e.statistic.numInfectious,e.statistic.numRecovered);break;case c.SIRState.Infectious:case c.SIRState.Infectious_Unknown:e.statistic.update(e.statistic.numSuspectible,e.statistic.numInfectious+1,e.statistic.numRecovered);break;case c.SIRState.Recovered:e.statistic.update(e.statistic.numSuspectible,e.statistic.numInfectious,e.statistic.numRecovered+1)}}))},e}(s.Entity);e.World=h},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),s=n(5),a=n(3),u=n(8),c=n(6),l=0,f=function(t){function e(e,n,r){var i=t.call(this)||this;return i.world=e,i.id=l++,i.quarantine=!1,i.zones_=new Map,i.personToZoneMap_=new Map,i.people_=new Set,i.onDidChangePersonSIRState=new c.Subject,i.onDidPopulatePerson=new c.Subject,i.peopleSubscription_=new Map,i.size_=new a.Vector2(n,r),i.zoneWidth_=30,i.zoneHeight_=30,i.instantiateZones(),i}return i(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this.size_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size_.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size_.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"people",{get:function(){return this.people_},enumerable:!0,configurable:!0}),e.prototype.doUpdate=function(){},e.prototype.populate=function(){var t=new u.Person(this.world,this),e=this.positionRelativeToWorld(new a.Vector2(a.randInt(0,this.width),a.randInt(0,this.height)));return t.transform.position=e,this.onDidPopulatePerson.next(new u.PersonEvent(t)),t},e.prototype.addPerson=function(t){var e=this;this.people_.add(t),this.updateZone(t);var n=[];n.push(t.transform.onDidPositionChange.subscribe((function(n){e.updateZone(t)}))),n.push(t.onDidChangeSIRState.subscribe((function(t){e.onDidChangePersonSIRState.next(t)}))),this.peopleSubscription_.set(t,n)},e.prototype.removePerson=function(t){this.people_.delete(t);var e=this.personToZoneMap_.get(t);e&&e.removePerson(t),this.personToZoneMap_.delete(t),this.peopleSubscription_.get(t).forEach((function(t){return t.unsubscribe()})),this.peopleSubscription_.delete(t)},e.prototype.updateZone=function(t){var e=this.personToZoneMap_.get(t),n=this.getZone(this.mapPositionWorldToSociety(t.transform.position));e!=n&&(e&&e.removePerson(t),n&&n.addPerson(t),this.personToZoneMap_.set(t,n))},e.prototype.getZone=function(t){var e=Math.floor(t.x/this.zoneWidth_),n=Math.floor(t.y/this.zoneHeight_)*this.zoneColumn_+e;return this.zones_.get(n)},e.prototype.instantiateZones=function(){for(var t=Math.ceil(this.width/this.zoneWidth_),e=Math.ceil(this.height/this.zoneHeight_),n=0;n<e;n++)for(var r=0;r<t;r++){var i=n*t+r,s=new o.Zone(this.world,this,r,n,this.zoneWidth_,this.zoneHeight_);this.zones_.set(i,s)}this.zoneColumn_=t,this.zoneRow_=e},e.prototype.getZoneByCoordinate=function(t){var e=Math.floor(t.x/this.zoneWidth_),n=Math.floor(t.y/this.zoneHeight_)*this.zoneWidth_+e;return this.zones_.get(n)},e.prototype.iterateNearby=function(t,e){var n=this.getZone(t);if(n)for(var r=-1;r<=1;r++)for(var i=-1;i<=1;i++){var o=n.x+i,s=(n.y+r)*this.zoneColumn_+o,a=this.zones_.get(s);a&&a.people.forEach((function(t){e(t)}))}},e.prototype.mapPositionWorldToSociety=function(t){return t.sub(this.transform.position)},e.prototype.positionRelativeToWorld=function(t){return t.add(this.transform.position)},e.prototype.update=function(){},e}(s.Entity);e.Society=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,i,o){this.world=t,this.society=e,this.x=n,this.y=r,this.width=i,this.height=o,this.people_=new Set}return Object.defineProperty(t.prototype,"people",{get:function(){return this.people_},enumerable:!0,configurable:!0}),t.prototype.addPerson=function(t){this.people_.add(t)},t.prototype.removePerson=function(t){this.people_.delete(t)},t}();e.Zone=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e,n){this.box=t,this.canvas=e,this.statistic=n,this.dayr_=1,this.ctx_=e.getContext("2d")}return t.prototype.renderDay=function(){for(var t=this.canvas,e=this.ctx_,n=t.width+10,i=t.height;;){if(!(n*this.dayr_/this.statistic.elapsed*r.SIRModel.timeFactor*r.SIRModel.dayFactor<50))break;1==this.dayr_?this.dayr_=5:this.dayr_*=2}var o=n*this.dayr_/this.statistic.elapsed*r.SIRModel.timeFactor*r.SIRModel.dayFactor,s=Math.max(0,Math.min(1,(o-50)/50)),a=Math.ceil(n/o);e.fillStyle="white",e.strokeStyle="white",e.textAlign="center",e.lineWidth=3,e.font="16px Arial";for(var u=1;u<a;u++){e.save();var c=u*this.dayr_;1==this.dayr_?e.globalAlpha=c%5?s:1:e.globalAlpha=u%2?s:1;var l=o*u;e.translate(l,i-30),e.fillText(c+"",0,25),e.beginPath(),e.moveTo(0,-8),e.lineTo(0,8),e.stroke(),e.restore()}},t.prototype.render2=function(t){var e=this.canvas,n=this.ctx_,r=e.width+10,i=e.height-30,o=(this.statistic.records.length-1)/200;n.beginPath(),n.moveTo(0,i);for(var s=0,a=0;a<200;a++){var u=a*o;s=Math.max(s,u);var c=this.statistic.records[Math.floor(u)],l=this.statistic.records[Math.ceil(u)];if(!c||!l)break;var f=r/200*a,h=i-i/((c[0]+c[1]+c[2]+l[0]+l[1]+l[2])/2)*t(c,l);h,n.lineTo(f,h)}n.lineTo(r,i),n.closePath(),n.fill()},t.prototype.render=function(){var t=this.canvas,e=this.ctx_;t.width=this.box.offsetWidth,t.height=this.box.offsetHeight,e.fillStyle="#444345",e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height-30),e.fillStyle="#31606e",this.render2((function(t,e){return(t[0]+e[0])/2+(t[1]+e[1])/2})),e.fillStyle="#f56754",this.render2((function(t,e){return(t[1]+e[1])/2})),this.renderDay()},t}();e.StatisticView=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Npci1tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGVyc29uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZ3JvdXBCeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3F1ZXVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZVNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1JlcGxheVN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvQXN5bmNTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvSW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc2FwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BbmltYXRpb25GcmFtZVNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvRW1wdHlFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1RpbWVvdXRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PdXRlclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvSW5uZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2RlZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnRQYXR0ZXJuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZ2VuZXJhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc051bWVyaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL21lcmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvbmV2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhaXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm90LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYXJ0aXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvemlwLmpzIiwid2VicGFjazovLy8uL3NyYy9pbml0LnRzIiwid2VicGFjazovLy8uL3NyYy9wZXJzb24taW1wbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm91aXNsaWRlci9kaXN0cmlidXRlL25vdWlzbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHJhbnNmb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS1tYWNoaW5lLnRzIiwid2VicGFjazovLy8uL3NyYy93b3JsZC1pbXBsLnRzIiwid2VicGFjazovLy8uL3NyYy9zb2NpZXR5LWltcGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3pvbmUtaW1wbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGlzdGljLXZpZXcudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0aGlzIiwidGltZUZhY3RvciIsImRheUZhY3RvciIsInZlcnNpb24iLCJzb2NpZXR5Q29sdW1uTGVuZ3RoIiwic29jaWV0eVJvd0xlbmd0aCIsInNvY2lldHlQb3B1bGF0aW9uIiwic29jaWV0eVNpemUiLCJpbml0aWFsSW5mZWN0aW9uUG9zc2libGl0eSIsImluZmVjdGlvblJhdGUiLCJpbmZlY3Rpb25EaXNjb3ZlcnlSYXRlIiwiaW5mZWN0aW9uUmVjb3ZlcnlSYXRlIiwiaW5mZWN0aW9uUmFkaXVzIiwic2hvcHBpbmdSYXRlIiwidHJhdmVsaW5nUmF0ZSIsInF1YXJhbnRpbmVkIiwicXVhcmFudGluZVJhdGUiLCJkZXF1YXJhbnRpbmVBZnRlclJlY292ZXJlZCIsInNvY2lhbERpc3RhbmNlIiwic29jaWFsRGlzdGFuY2VQYXJ0aWNpcGFudFJhdGlvIiwic2F2ZWRNb2RlbCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImlzTmFOIiwiZSIsImVycm9yIiwiYXV0b3J1biIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJvYnNlcnZhYmxlIiwiX1NJUk1vZGVsSW1wbCIsIlNJUk1vZGVsIiwid2luZG93IiwiRW5naW5lIiwibGFzdFRpbWVzdGFtcF8iLCJlbGFzcGVkXyIsInBhdXNlZCIsImVudGl0aWVzXyIsImRlbHRhXyIsImFkZCIsImVudGl0eSIsInB1c2giLCJ1cGRhdGUiLCJ0aW1lc3RhbXAiLCJsYXN0VGltZXN0YW1wIiwiZm9yRWFjaCIsImNsZWFyIiwiZGlzcG9zZSIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fYXNzaWduIiwiYXNzaWduIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX3ZhbHVlcyIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJfX3JlYWQiLCJhciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiRU1QVFlfQVJSQVkiLCJmcmVlemUiLCJFTVBUWV9PQkpFQ1QiLCJnZXROZXh0SWQiLCJnbG9iYWxTdGF0ZSIsIm1vYnhHdWlkIiwiZmFpbCIsIm1lc3NhZ2UiLCJpbnZhcmlhbnQiLCJjaGVjayIsIkVycm9yIiwib25jZSIsImZ1bmMiLCJpbnZva2VkIiwibm9vcCIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJhZGRIaWRkZW5Qcm9wIiwicHJvcE5hbWUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUiLCJjbGF6eiIsIngiLCJpc0FycmF5TGlrZSIsImlzQXJyYXkiLCJpc09ic2VydmFibGVBcnJheSIsImlzRVM2TWFwIiwidGhpbmciLCJNYXAiLCJpc0VTNlNldCIsIlNldCIsImdldFBsYWluT2JqZWN0S2V5cyIsImVudW1lcmFibGVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiayIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImZyb20iLCJzdHJpbmdpZnlLZXkiLCJ0b1N0cmluZyIsIlN0cmluZyIsInRvUHJpbWl0aXZlIiwiJG1vYngiLCJBdG9tIiwiaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiIsImlzQmVpbmdPYnNlcnZlZCIsIm9ic2VydmVycyIsImRpZmZWYWx1ZSIsImxhc3RBY2Nlc3NlZEJ5IiwibG93ZXN0T2JzZXJ2ZXJTdGF0ZSIsIklEZXJpdmF0aW9uU3RhdGUiLCJOT1RfVFJBQ0tJTkciLCJvbkJlY29tZU9ic2VydmVkIiwib25CZWNvbWVPYnNlcnZlZExpc3RlbmVycyIsImxpc3RlbmVyIiwib25CZWNvbWVVbm9ic2VydmVkIiwib25CZWNvbWVVbm9ic2VydmVkTGlzdGVuZXJzIiwicmVwb3J0T2JzZXJ2ZWQiLCJyZXBvcnRDaGFuZ2VkIiwic3RhcnRCYXRjaCIsIlNUQUxFIiwiZGVwZW5kZW5jaWVzU3RhdGUiLCJVUF9UT19EQVRFIiwiaXNUcmFjaW5nIiwiVHJhY2VNb2RlIiwiTk9ORSIsImxvZ1RyYWNlSW5mbyIsIm9uQmVjb21lU3RhbGUiLCJwcm9wYWdhdGVDaGFuZ2VkIiwiZW5kQmF0Y2giLCJpc0F0b20iLCJjcmVhdGVBdG9tIiwib25CZWNvbWVPYnNlcnZlZEhhbmRsZXIiLCJvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyIiwiYXRvbSIsImNvbXBhcmVyIiwiaWRlbnRpdHkiLCJhIiwic3RydWN0dXJhbCIsImRlZXBFcXVhbCIsImRlZmF1bHQiLCJpcyIsInNoYWxsb3ciLCJtb2J4RGlkUnVuTGF6eUluaXRpYWxpemVyc1N5bWJvbCIsIm1vYnhQZW5kaW5nRGVjb3JhdG9ycyIsImVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGUiLCJub25FbnVtZXJhYmxlRGVzY3JpcHRvckNhY2hlIiwiY3JlYXRlUHJvcGVydHlJbml0aWFsaXplckRlc2NyaXB0b3IiLCJwcm9wIiwiY2FjaGUiLCJpbml0aWFsaXplSW5zdGFuY2UiLCJzZXQiLCJ0YXJnZXQiLCJlXzEiLCJfYSIsImRlY29yYXRvcnMiLCJrZXlzIiwia2V5c18xIiwia2V5c18xXzEiLCJwcm9wZXJ0eUNyZWF0b3IiLCJkZXNjcmlwdG9yIiwiZGVjb3JhdG9yVGFyZ2V0IiwiZGVjb3JhdG9yQXJndW1lbnRzIiwiZV8xXzEiLCJyZXR1cm4iLCJjcmVhdGVQcm9wRGVjb3JhdG9yIiwicHJvcGVydHlJbml0aWFsbHlFbnVtZXJhYmxlIiwiZGVjb3JhdG9yIiwiYXBwbHlJbW1lZGlhdGVseSIsImluaGVyaXRlZERlY29yYXRvcnMiLCJxdWFja3NMaWtlQURlY29yYXRvciIsInNsaWNlIiwiYXJncyIsImRlZXBFbmhhbmNlciIsInYiLCJfIiwiaXNPYnNlcnZhYmxlIiwiYXJyYXkiLCJ1bmRlZmluZWQiLCJtYXAiLCJyZWZlcmVuY2VFbmhhbmNlciIsIm5ld1ZhbHVlIiwiY3JlYXRlRGVjb3JhdG9yRm9yRW5oYW5jZXIiLCJlbmhhbmNlciIsInByb3BlcnR5TmFtZSIsIl9kZWNvcmF0b3JUYXJnZXQiLCJkZWNvcmF0b3JBcmdzIiwiaW5pdGlhbFZhbHVlIiwiaW5pdGlhbGl6ZXIiLCJhc09ic2VydmFibGVPYmplY3QiLCJhZGRPYnNlcnZhYmxlUHJvcCIsInJlcyIsInByb2Nlc3MiLCJlbnYiLCJkZWZhdWx0Q3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMiLCJkZWVwIiwiZGVmYXVsdERlY29yYXRvciIsInByb3h5IiwiYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyIsImRlZXBEZWNvcmF0b3IiLCJzaGFsbG93RGVjb3JhdG9yIiwiaXNPYnNlcnZhYmxlT2JqZWN0IiwiaXNPYnNlcnZhYmxlTWFwIiwiaXNPYnNlcnZhYmxlU2V0IiwicmVmRGVjb3JhdG9yIiwicmVmU3RydWN0RGVjb3JhdG9yIiwib2xkVmFsdWUiLCJnZXRFbmhhbmNlckZyb21PcHRpb25zIiwib3B0aW9ucyIsIm9ic2VydmFibGVGYWN0b3JpZXMiLCJib3giLCJpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvciIsIk9ic2VydmFibGVWYWx1ZSIsImVxdWFscyIsImluaXRpYWxWYWx1ZXMiLCJjcmVhdGVPYnNlcnZhYmxlQXJyYXkiLCJPYnNlcnZhYmxlTWFwIiwiT2JzZXJ2YWJsZVNldCIsInByb3BzIiwiZXh0ZW5kT2JzZXJ2YWJsZSIsImdldERlZmF1bHREZWNvcmF0b3JGcm9tT2JqZWN0T3B0aW9ucyIsImJhc2UiLCJjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdCIsImV4dGVuZE9ic2VydmFibGVPYmplY3RXaXRoUHJvcGVydGllcyIsInJlZiIsInN0cnVjdCIsImFyZzIiLCJhcmczIiwibWV0aG9kTmFtZSIsImNvbXB1dGVkRGVjb3JhdG9yIiwiaW5zdGFuY2UiLCJhZGRDb21wdXRlZFByb3AiLCJjb250ZXh0IiwiY29tcHV0ZWRTdHJ1Y3REZWNvcmF0b3IiLCJjb21wdXRlZCIsImFyZzEiLCJvcHRzIiwiQ29tcHV0ZWRWYWx1ZSIsIkNhdWdodEV4Y2VwdGlvbiIsImNhdXNlIiwiaXNDYXVnaHRFeGNlcHRpb24iLCJzaG91bGRDb21wdXRlIiwiZGVyaXZhdGlvbiIsIlBPU1NJQkxZX1NUQUxFIiwicHJldkFsbG93U3RhdGVSZWFkcyIsImFsbG93U3RhdGVSZWFkc1N0YXJ0IiwicHJldlVudHJhY2tlZCIsInVudHJhY2tlZFN0YXJ0Iiwib2JzIiwib2JzZXJ2aW5nIiwib2JqIiwiaXNDb21wdXRlZFZhbHVlIiwiZGlzYWJsZUVycm9yQm91bmRhcmllcyIsInVudHJhY2tlZEVuZCIsImFsbG93U3RhdGVSZWFkc0VuZCIsImNoYW5nZURlcGVuZGVuY2llc1N0YXRlVG8wIiwiaXNDb21wdXRpbmdEZXJpdmF0aW9uIiwidHJhY2tpbmdEZXJpdmF0aW9uIiwiY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQiLCJoYXNPYnNlcnZlcnMiLCJzaXplIiwiY29tcHV0YXRpb25EZXB0aCIsImFsbG93U3RhdGVDaGFuZ2VzIiwiZW5mb3JjZUFjdGlvbnMiLCJ0cmFja0Rlcml2ZWRGdW5jdGlvbiIsImYiLCJuZXdPYnNlcnZpbmciLCJ1bmJvdW5kRGVwc0NvdW50IiwicnVuSWQiLCJyZXN1bHQiLCJwcmV2VHJhY2tpbmciLCJwcmV2T2JzZXJ2aW5nIiwibG93ZXN0TmV3T2JzZXJ2aW5nRGVyaXZhdGlvblN0YXRlIiwiaTAiLCJkZXAiLCJyZW1vdmVPYnNlcnZlciIsImFkZE9ic2VydmVyIiwiYmluZERlcGVuZGVuY2llcyIsImNsZWFyT2JzZXJ2aW5nIiwidW50cmFja2VkIiwiYWN0aW9uIiwicHJldiIsImFsbG93U3RhdGVSZWFkcyIsImN1cnJlbnRBY3Rpb25JZCIsIm5leHRBY3Rpb25JZCIsImZ1bmN0aW9uTmFtZURlc2NyaXB0b3IiLCJjcmVhdGVBY3Rpb24iLCJhY3Rpb25OYW1lIiwiZm4iLCJleGVjdXRlQWN0aW9uIiwiaXNNb2J4QWN0aW9uIiwic2NvcGUiLCJydW5JbmZvIiwiX3N0YXJ0QWN0aW9uIiwiZXJyIiwiX2VuZEFjdGlvbiIsInN0YXJ0VGltZSIsInByZXZEZXJpdmF0aW9uIiwicHJldkFsbG93U3RhdGVDaGFuZ2VzIiwiYWxsb3dTdGF0ZUNoYW5nZXNTdGFydCIsIm5vdGlmeVNweSIsImFjdGlvbklkIiwicGFyZW50QWN0aW9uSWQiLCJzdXBwcmVzc1JlYWN0aW9uRXJyb3JzIiwiYWxsb3dTdGF0ZUNoYW5nZXNFbmQiLCJhbGxvd1N0YXRlQ2hhbmdlc0luc2lkZUNvbXB1dGVkIiwiX3N1cGVyIiwiX3RoaXMiLCJoYXNVbnJlcG9ydGVkQ2hhbmdlIiwiX18iLCJjb25zdHJ1Y3RvciIsIl9fZXh0ZW5kcyIsImRlaGFuY2VWYWx1ZSIsImRlaGFuY2VyIiwicHJlcGFyZU5ld1ZhbHVlIiwiVU5DSEFOR0VEIiwic2V0TmV3VmFsdWUiLCJoYXNJbnRlcmNlcHRvcnMiLCJjaGFuZ2UiLCJpbnRlcmNlcHRDaGFuZ2UiLCJ0eXBlIiwiaGFzTGlzdGVuZXJzIiwibm90aWZ5TGlzdGVuZXJzIiwiaW50ZXJjZXB0IiwiaGFuZGxlciIsInJlZ2lzdGVySW50ZXJjZXB0b3IiLCJvYnNlcnZlIiwiZmlyZUltbWVkaWF0ZWx5IiwicmVnaXN0ZXJMaXN0ZW5lciIsInRvSlNPTiIsInZhbHVlT2YiLCJpc09ic2VydmFibGVWYWx1ZSIsIl9fbWFwaWQiLCJpc0NvbXB1dGluZyIsImlzUnVubmluZ1NldHRlciIsInNldHRlciIsImNvbXBhcmVTdHJ1Y3R1cmFsIiwicmVxdWlyZXNSZWFjdGlvbiIsImtlZXBBbGl2ZSIsInByb3BhZ2F0ZU1heWJlQ2hhbmdlZCIsImluQmF0Y2giLCJ0cmFja0FuZENvbXB1dGUiLCJwcm9wYWdhdGVDaGFuZ2VDb25maXJtZWQiLCJ3YXJuQWJvdXRVbnRyYWNrZWRSZWFkIiwiY29tcHV0ZVZhbHVlIiwicGVlayIsIndhc1N1c3BlbmRlZCIsImNoYW5nZWQiLCJ0cmFjayIsInN1c3BlbmQiLCJmaXJzdFRpbWUiLCJwcmV2VmFsdWUiLCJwcmV2VSIsInBlcnNpc3RlbnRLZXlzIiwiTW9iWEdsb2JhbHMiLCJwZW5kaW5nVW5vYnNlcnZhdGlvbnMiLCJwZW5kaW5nUmVhY3Rpb25zIiwiaXNSdW5uaW5nUmVhY3Rpb25zIiwic3B5TGlzdGVuZXJzIiwiZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzIiwiY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uIiwicmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUiLCJvYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbiIsImNvbXB1dGVkQ29uZmlndXJhYmxlIiwibW9ja0dsb2JhbCIsImdldEdsb2JhbCIsImdsb2JhbCIsInNlbGYiLCJjYW5NZXJnZUdsb2JhbFN0YXRlIiwiaXNvbGF0ZUNhbGxlZCIsIl9fbW9ieEluc3RhbmNlQ291bnQiLCJfX21vYnhHbG9iYWxzIiwic2V0VGltZW91dCIsImdldEdsb2JhbFN0YXRlIiwicmVzZXRHbG9iYWxTdGF0ZSIsImRlZmF1bHRHbG9iYWxzIiwiaW5kZXhPZiIsIm5vZGUiLCJkZWxldGUiLCJxdWV1ZUZvclVub2JzZXJ2YXRpb24iLCJydW5SZWFjdGlvbnMiLCJsaXN0IiwiQlJFQUsiLCJsaW5lcyIsInByaW50RGVwVHJlZSIsInRyZWUiLCJkZXB0aCIsImpvaW4iLCJkZXBlbmRlbmNpZXMiLCJjaGlsZCIsImdldERlcGVuZGVuY3lUcmVlIiwiRnVuY3Rpb24iLCJyZXBsYWNlIiwiUmVhY3Rpb24iLCJvbkludmFsaWRhdGUiLCJlcnJvckhhbmRsZXIiLCJyZXF1aXJlc09ic2VydmFibGUiLCJpc0Rpc3Bvc2VkIiwiX2lzU2NoZWR1bGVkIiwiX2lzVHJhY2tQZW5kaW5nIiwiX2lzUnVubmluZyIsInNjaGVkdWxlIiwiaXNTY2hlZHVsZWQiLCJydW5SZWFjdGlvbiIsInJlcG9ydEV4Y2VwdGlvbkluRGVyaXZhdGlvbiIsIndhcm4iLCJnZXREaXNwb3NlciIsInRyYWNlIiwiZW50ZXJCcmVha1BvaW50Iiwib25SZWFjdGlvbkVycm9yIiwiaWR4Iiwic3BsaWNlIiwicmVhY3Rpb25TY2hlZHVsZXIiLCJydW5SZWFjdGlvbnNIZWxwZXIiLCJhbGxSZWFjdGlvbnMiLCJpdGVyYXRpb25zIiwicmVtYWluaW5nUmVhY3Rpb25zIiwiaXNSZWFjdGlvbiIsInNldFJlYWN0aW9uU2NoZWR1bGVyIiwiYmFzZVNjaGVkdWxlciIsInNweSIsImRvbnRSZWFzc2lnbkZpZWxkcyIsIm5hbWVkQWN0aW9uRGVjb3JhdG9yIiwiaW5pdGlhbGl6ZXJfMSIsImFjdGlvbkZpZWxkRGVjb3JhdG9yIiwiYXJnNCIsInJ1bkluQWN0aW9uIiwiaXNBY3Rpb24iLCJkZWZpbmVCb3VuZEFjdGlvbiIsInZpZXciLCJyZWFjdGlvbiIsInNjaGVkdWxlciIsImRlbGF5IiwicmVhY3Rpb25SdW5uZXIiLCJvbkVycm9yIiwic2NoZWR1bGVyXzEiLCJjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyIsImlzU2NoZWR1bGVkXzEiLCJib3VuZCIsImFwcGx5VG9JbnN0YW5jZSIsInJ1biIsImV4cHJlc3Npb24iLCJlZmZlY3QiLCJiYXNlRm4iLCJlZmZlY3RBY3Rpb24iLCJydW5TeW5jIiwibmV4dFZhbHVlIiwiaW50ZXJjZXB0SG9vayIsImhvb2siLCJnZXRBdG9tIiwiY2IiLCJsaXN0ZW5lcnNLZXkiLCJob29rTGlzdGVuZXJzIiwiY29uZmlndXJlIiwiaXNvbGF0ZUdsb2JhbFN0YXRlIiwiZWEiLCJkZWNvcmF0ZSIsIl9sb29wXzEiLCJwcm9wZXJ0eURlY29yYXRvcnMiLCJuZXdEZXNjcmlwdG9yIiwicmVkdWNlIiwiYWNjRGVzY3JpcHRvciIsInByb3BlcnRpZXMiLCJlXzIiLCJfYiIsImtleXNfMiIsImtleXNfMl8xIiwicmVzdWx0RGVzY3JpcHRvciIsImVfMl8xIiwibm9kZVRvRGVwZW5kZW5jeVRyZWUiLCJpdGVtIiwiZ2V0T2JzZXJ2ZXJUcmVlIiwibm9kZVRvT2JzZXJ2ZXJUcmVlIiwiZ2V0T2JzZXJ2ZXJzIiwiZ2VuZXJhdG9ySWQiLCJGbG93Q2FuY2VsbGF0aW9uRXJyb3IiLCJpc0Zsb3dDYW5jZWxsYXRpb25FcnJvciIsImZsb3ciLCJnZW5lcmF0b3IiLCJyZWplY3RvciIsImN0eCIsImdlbiIsInBlbmRpbmdQcm9taXNlIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3RlcElkIiwib25GdWxmaWxsZWQiLCJyZXQiLCJvblJlamVjdGVkIiwidGhyb3ciLCJ0aGVuIiwiY2FuY2VsIiwiY2FuY2VsUHJvbWlzZSIsInlpZWxkZWRQcm9taXNlIiwiaW50ZXJjZXB0UmVhZHMiLCJwcm9wT3JIYW5kbGVyIiwiZ2V0QWRtaW5pc3RyYXRpb24iLCJpbnRlcmNlcHRQcm9wZXJ0eSIsImludGVyY2VwdEludGVyY2VwdGFibGUiLCJfaXNDb21wdXRlZCIsInZhbHVlcyIsImhhcyIsImlzQ29tcHV0ZWQiLCJpc0NvbXB1dGVkUHJvcCIsIl9pc09ic2VydmFibGUiLCJpc09ic2VydmFibGVQcm9wIiwiZ2V0S2V5cyIsImluZGV4IiwiZW50cmllcyIsImFkbSIsImV4aXN0aW5nT2JzZXJ2YWJsZSIsIndyaXRlIiwiZGVmYXVsdEVuaGFuY2VyIiwicGFyc2VJbnQiLCJ2YWx1ZXNfMSIsImtleV8xIiwicmVtb3ZlIiwicHJvcE9yQ2IiLCJjYk9yRmlyZSIsIm9ic2VydmVPYnNlcnZhYmxlUHJvcGVydHkiLCJvYnNlcnZlT2JzZXJ2YWJsZSIsImRlZmF1bHRPcHRpb25zIiwiZGV0ZWN0Q3ljbGVzIiwiZXhwb3J0TWFwc0FzT2JqZWN0cyIsInJlY3Vyc2VFdmVyeXRoaW5nIiwidG9KUyIsInNvdXJjZSIsIl9fYWxyZWFkeVNlZW4iLCJ0b0pTSGVscGVyIiwiRGF0ZSIsInJlc18xIiwidG9BZGQiLCJyZXNfMiIsInJlc18zIiwicmVzXzQiLCJyZXNfNSIsIl9pIiwicG9wIiwiZ2V0QXRvbUZyb21BcmdzIiwiTE9HIiwidHJhbnNhY3Rpb24iLCJ0aGlzQXJnIiwid2hlbiIsInByZWRpY2F0ZSIsIndoZW5Qcm9taXNlIiwiX3doZW4iLCJ0aW1lb3V0SGFuZGxlIiwidGltZW91dCIsImRpc3Bvc2VyIiwiY2xlYXJUaW1lb3V0IiwiZ2V0QWRtIiwiaXNQcm9wZXJ0eUtleSIsInZhbCIsIm9iamVjdFByb3h5VHJhcHMiLCJkZWxldGVQcm9wZXJ0eSIsIm93bktleXMiLCJrZXlzQXRvbSIsIlJlZmxlY3QiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsIlByb3h5IiwiaW50ZXJjZXB0YWJsZSIsImludGVyY2VwdG9ycyIsImxpc3RlbmFibGUiLCJjaGFuZ2VMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJhcnJheVRyYXBzIiwiZ2V0QXJyYXlMZW5ndGgiLCJhcnJheUV4dGVuc2lvbnMiLCJzZXRBcnJheUxlbmd0aCIsIm93bmVkIiwiT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24iLCJzcGxpY2VXaXRoQXJyYXkiLCJsYXN0S25vd25MZW5ndGgiLCJuZXdWIiwib2xkViIsImRlaGFuY2VWYWx1ZXMiLCJhZGRlZCIsImFkZGVkQ291bnQiLCJyZW1vdmVkIiwicmVtb3ZlZENvdW50IiwibmV3TGVuZ3RoIiwiY3VycmVudExlbmd0aCIsIm5ld0l0ZW1zIiwidXBkYXRlQXJyYXlMZW5ndGgiLCJvbGRMZW5ndGgiLCJkZWx0YSIsImRlbGV0ZUNvdW50IiwiTWF0aCIsIm1heCIsIm1pbiIsInNwbGljZUl0ZW1zSW50b1ZhbHVlcyIsIm5vdGlmeUFycmF5U3BsaWNlIiwibm90aWZ5QXJyYXlDaGlsZFVwZGF0ZSIsIm5vdGlmeSIsIml0ZW1zIiwic2hpZnQiLCJ1bnNoaWZ0IiwicmV2ZXJzZSIsImNsb25lIiwic29ydCIsImNvbXBhcmVGbiIsImZ1bmNOYW1lIiwiaXNPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbiIsIl9hJDEiLCJPYnNlcnZhYmxlTWFwTWFya2VyIiwiaW5pdGlhbERhdGEiLCJfa2V5c0F0b20iLCJfZGF0YSIsIl9oYXNNYXAiLCJtZXJnZSIsIl9oYXMiLCJlbnRyeSIsIm5ld0VudHJ5IiwiaGFzS2V5IiwiX3VwZGF0ZVZhbHVlIiwiX2FkZFZhbHVlIiwiX3VwZGF0ZUhhc01hcEVudHJ5IiwibmV4dEluZGV4IiwibWFrZUl0ZXJhYmxlIiwiY2FsbGJhY2siLCJfYyIsIl9kIiwiX2UiLCJvdGhlciIsIm5ld0tleXMiLCJmaWx0ZXIiLCJ0b1BPSk8iLCJlXzMiLCJlXzNfMSIsIk9ic2VydmFibGVTZXRNYXJrZXIiLCJfYXRvbSIsImNhbGxiYWNrRm4iLCJvYnNlcnZhYmxlVmFsdWVzIiwiT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uIiwicmVhZCIsInBlbmRpbmdLZXlzIiwiZXhpc3RzIiwib2JzZXJ2YWJsZVByb3BlcnR5Q29uZmlncyIsImdlbmVyYXRlT2JzZXJ2YWJsZVByb3BDb25maWciLCJub3RpZnlQcm9wZXJ0eUFkZGl0aW9uIiwicHJvcGVydHlPd25lciIsImNvbXB1dGVkUHJvcGVydHlDb25maWdzIiwiZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lciIsImdlbmVyYXRlQ29tcHV0ZWRQcm9wQ29uZmlnIiwib2xkT2JzZXJ2YWJsZSIsImlsbGVnYWxBY2Nlc3MiLCJvd25lciIsImlzT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uIiwiYW55VGhpbmciLCJnZXREZWJ1Z05hbWUiLCJlcSIsImFTdGFjayIsImJTdGFjayIsImNsYXNzTmFtZSIsInVud3JhcCIsImFyZUFycmF5cyIsImFDdG9yIiwiYkN0b3IiLCJoYXMkMSIsImdldFNlbGYiLCJfX01PQlhfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsImluamVjdE1vYngiLCJleHRyYXMiLCJ4XyIsInlfIiwibWFnbml0dWRlXyIsInNxdWFyZWRNYWduaXR1ZGVfIiwic3FydCIsInkiLCJub3JtYWxpemUiLCJtYWduaXR1ZGUiLCJWZWN0b3IyIiwibWFnIiwic3ViIiwibXVsIiwibXVsMiIsImRpdjIiLCJyYW5kb20iLCJmbG9vciIsIlNJUlN0YXRlIiwiY29tcG9uZW50c18iLCJ0cmFuc2Zvcm1fIiwiYWRkQ29tcG9uZW50IiwiVHJhbnNmb3JtIiwiY29tcG9uZW50IiwiZG9VcGRhdGUiLCJjb21wIiwiZ2V0Q29tcG5vZW50Iiwia2xhc3MiLCJyZW1vdmVDb21wb25lbnQiLCJFbnRpdHkiLCJpc0Z1bmN0aW9uIiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwiY29uZmlnIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlbXB0eSIsImNsb3NlZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJjb21wbGV0ZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIlN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiX3BhcmVudE9yUGFyZW50cyIsIl9zdWJzY3JpcHRpb25zIiwiX3Vuc3Vic2NyaWJlIiwiZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzIiwibGVuIiwidGVhcmRvd24iLCJzdWJzY3JpcHRpb24iLCJFTVBUWSIsInRtcCIsInN1YnNjcmlwdGlvbnMiLCJzdWJzY3JpcHRpb25JbmRleCIsImVycnMiLCJyeFN1YnNjcmliZXIiLCJTdWJzY3JpYmVyIiwiZGVzdGluYXRpb25Pck5leHQiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImRlc3RpbmF0aW9uIiwic3Vic2NyaWJlciIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSIsIlNhZmVTdWJzY3JpYmVyIiwiX3BhcmVudFN1YnNjcmliZXIiLCJvYnNlcnZlck9yTmV4dCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwicGFyZW50IiwiY2FuUmVwb3J0RXJyb3IiLCJvYnNlcnZlciIsImNsb3NlZF8xIiwicGlwZSIsImZucyIsInBpcGVGcm9tQXJyYXkiLCJpbnB1dCIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic2luayIsIm5leHRPck9ic2VydmVyIiwidG9TdWJzY3JpYmVyIiwiX3RyeVN1YnNjcmliZSIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJvcGVyYXRpb25zIiwidG9Qcm9taXNlIiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJTdWJqZWN0U3Vic2NyaXB0aW9uIiwic3ViamVjdCIsInN1YnNjcmliZXJJbmRleCIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdCIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJjb3B5IiwiYXNPYnNlcnZhYmxlIiwiQW5vbnltb3VzU3ViamVjdCIsIlJlZkNvdW50T3BlcmF0b3IiLCJjb25uZWN0YWJsZSIsIl9yZWZDb3VudCIsInJlZkNvdW50ZXIiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsIlJlZkNvdW50U3Vic2NyaWJlciIsInJlZkNvdW50Iiwic2hhcmVkQ29ubmVjdGlvbiIsIl9jb25uZWN0aW9uIiwiQ29ubmVjdGFibGVPYnNlcnZhYmxlIiwic3ViamVjdEZhY3RvcnkiLCJfaXNDb21wbGV0ZSIsImdldFN1YmplY3QiLCJfc3ViamVjdCIsIkNvbm5lY3RhYmxlU3Vic2NyaWJlciIsIkdyb3VwZWRPYnNlcnZhYmxlIiwiZ3JvdXBTdWJqZWN0IiwicmVmQ291bnRTdWJzY3JpcHRpb24iLCJJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uIiwiY291bnQiLCJhdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlIiwiQmVoYXZpb3JTdWJqZWN0IiwiX3ZhbHVlIiwiZ2V0VmFsdWUiLCJBc3luY0FjdGlvbiIsIndvcmsiLCJwZW5kaW5nIiwic3RhdGUiLCJpZCIsInJlY3ljbGVBc3luY0lkIiwicmVxdWVzdEFzeW5jSWQiLCJzZXRJbnRlcnZhbCIsImZsdXNoIiwiY2xlYXJJbnRlcnZhbCIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsImVycm9yZWQiLCJlcnJvclZhbHVlIiwiYWN0aW9ucyIsIkFjdGlvbiIsIlF1ZXVlQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwibm93IiwiQXN5bmNTY2hlZHVsZXIiLCJkZWxlZ2F0ZSIsImFjdGl2ZSIsInNjaGVkdWxlZCIsInF1ZXVlIiwiUXVldWVTY2hlZHVsZXIiLCJlbXB0eVNjaGVkdWxlZCIsImlzU2NoZWR1bGVyIiwiTm90aWZpY2F0aW9uS2luZCIsInN1YnNjcmliZVRvQXJyYXkiLCJzY2hlZHVsZUFycmF5IiwiZnJvbUFycmF5Iiwib2YiLCJ0aHJvd0Vycm9yIiwiZGlzcGF0Y2giLCJOb3RpZmljYXRpb24iLCJraW5kIiwiaGFzVmFsdWUiLCJkbyIsImFjY2VwdCIsInRvT2JzZXJ2YWJsZSIsImNyZWF0ZU5leHQiLCJ1bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbiIsImNyZWF0ZUVycm9yIiwiY3JlYXRlQ29tcGxldGUiLCJjb21wbGV0ZU5vdGlmaWNhdGlvbiIsIk9ic2VydmVPblN1YnNjcmliZXIiLCJhcmciLCJub3RpZmljYXRpb24iLCJzY2hlZHVsZU1lc3NhZ2UiLCJPYnNlcnZlT25NZXNzYWdlIiwiUmVwbGF5U3ViamVjdCIsImJ1ZmZlclNpemUiLCJ3aW5kb3dUaW1lIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJfZXZlbnRzIiwiX2luZmluaXRlVGltZVdpbmRvdyIsIl9idWZmZXJTaXplIiwiX3dpbmRvd1RpbWUiLCJuZXh0SW5maW5pdGVUaW1lV2luZG93IiwibmV4dFRpbWVXaW5kb3ciLCJSZXBsYXlFdmVudCIsIl9nZXROb3ciLCJfdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMiLCJldmVudHNDb3VudCIsInNwbGljZUNvdW50IiwidGltZSIsIkFzeW5jU3ViamVjdCIsImhhc05leHQiLCJoYXNDb21wbGV0ZWQiLCJuZXh0SGFuZGxlIiwiUkVTT0xWRUQiLCJhY3RpdmVIYW5kbGVzIiwiZmluZEFuZENsZWFySGFuZGxlIiwiaGFuZGxlIiwiSW1tZWRpYXRlIiwiQXNhcEFjdGlvbiIsImFzYXAiLCJBc2FwU2NoZWR1bGVyIiwiQW5pbWF0aW9uRnJhbWVBY3Rpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFuaW1hdGlvbkZyYW1lIiwiQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIiLCJWaXJ0dWFsVGltZVNjaGVkdWxlciIsIm1heEZyYW1lcyIsImZyYW1lIiwiZnJhbWVUaW1lRmFjdG9yIiwiVmlydHVhbEFjdGlvbiIsInNvcnRBY3Rpb25zIiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLCJBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwiLCJFbXB0eUVycm9yIiwiRW1wdHlFcnJvckltcGwiLCJUaW1lb3V0RXJyb3IiLCJUaW1lb3V0RXJyb3JJbXBsIiwicHJvamVjdCIsIlR5cGVFcnJvciIsIk1hcE9wZXJhdG9yIiwiTWFwU3Vic2NyaWJlciIsImJpbmRDYWxsYmFjayIsImNhbGxiYWNrRnVuYyIsInJlc3VsdFNlbGVjdG9yIiwicGFyYW1zIiwiaW5uZXJBcmdzIiwiZGlzcGF0Y2hOZXh0IiwiYmluZE5vZGVDYWxsYmFjayIsIk91dGVyU3Vic2NyaWJlciIsIm5vdGlmeU5leHQiLCJvdXRlclZhbHVlIiwiaW5uZXJWYWx1ZSIsIm91dGVySW5kZXgiLCJpbm5lckluZGV4IiwiaW5uZXJTdWIiLCJub3RpZnlFcnJvciIsIm5vdGlmeUNvbXBsZXRlIiwiSW5uZXJTdWJzY3JpYmVyIiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJpc1Byb21pc2UiLCJzdWJzY3JpYmVUbyIsIml0ZXJhYmxlIiwic3Vic2NyaWJlVG9SZXN1bHQiLCJvdXRlclN1YnNjcmliZXIiLCJpbm5lclN1YnNjcmliZXIiLCJjb21iaW5lTGF0ZXN0Iiwib2JzZXJ2YWJsZXMiLCJDb21iaW5lTGF0ZXN0T3BlcmF0b3IiLCJDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciIsInRvUmVzcG9uZCIsInVudXNlZCIsIm9sZFZhbCIsIl90cnlSZXN1bHRTZWxlY3RvciIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZVByb21pc2UiLCJpc0l0ZXJhYmxlIiwic2NoZWR1bGVJdGVyYWJsZSIsIk1lcmdlTWFwT3BlcmF0b3IiLCJjb25jdXJyZW50IiwiTWVyZ2VNYXBTdWJzY3JpYmVyIiwiYnVmZmVyIiwiX3RyeU5leHQiLCJfaW5uZXJTdWIiLCJpc2giLCJpbm5lclN1YnNjcmlwdGlvbiIsIm1lcmdlQWxsIiwibWVyZ2VNYXAiLCJpaSIsImNvbmNhdEFsbCIsImRlZmVyIiwib2JzZXJ2YWJsZUZhY3RvcnkiLCJmb3JrSm9pbiIsInNvdXJjZXMiLCJmaXJzdF8xIiwiZm9ya0pvaW5JbnRlcm5hbCIsInJlc3VsdFNlbGVjdG9yXzEiLCJjb21wbGV0ZWQiLCJlbWl0dGVkIiwiZnJvbUV2ZW50IiwiZXZlbnROYW1lIiwic2V0dXBTdWJzY3JpcHRpb24iLCJzb3VyY2VPYmoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXZlbnRUYXJnZXQiLCJzb3VyY2VfMSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzMiLCJmcm9tRXZlbnRQYXR0ZXJuIiwiYWRkSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJyZXRWYWx1ZSIsImdlbmVyYXRlIiwiaW5pdGlhbFN0YXRlT3JPcHRpb25zIiwiY29uZGl0aW9uIiwiaXRlcmF0ZSIsInJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlIiwiaW5pdGlhbFN0YXRlIiwiY29uZGl0aW9uUmVzdWx0IiwibmVlZEl0ZXJhdGUiLCJpaWYiLCJ0cnVlUmVzdWx0IiwiZmFsc2VSZXN1bHQiLCJpc051bWVyaWMiLCJwYXJzZUZsb2F0IiwiaW50ZXJ2YWwiLCJwZXJpb2QiLCJjb3VudGVyIiwibGFzdCIsIk5FVkVSIiwibmV2ZXIiLCJvbkVycm9yUmVzdW1lTmV4dCIsImZpcnN0IiwicmVtYWluZGVyIiwic3ViTmV4dCIsInBhaXJzIiwibm90IiwicHJlZCIsIm5vdFByZWQiLCJGaWx0ZXJPcGVyYXRvciIsIkZpbHRlclN1YnNjcmliZXIiLCJwYXJ0aXRpb24iLCJyYWNlIiwiUmFjZU9wZXJhdG9yIiwiUmFjZVN1YnNjcmliZXIiLCJoYXNGaXJzdCIsInJhbmdlIiwic3RhcnQiLCJjdXJyZW50IiwidGltZXIiLCJkdWVUaW1lIiwicGVyaW9kT3JTY2hlZHVsZXIiLCJkdWUiLCJ1c2luZyIsInJlc291cmNlRmFjdG9yeSIsInJlc291cmNlIiwiemlwIiwiWmlwT3BlcmF0b3IiLCJaaXBTdWJzY3JpYmVyIiwiaXRlcmF0b3JzIiwiU3RhdGljSXRlcmF0b3IiLCJzdGlsbFVuc3Vic2NyaWJlZCIsIm5vdGlmeUluYWN0aXZlIiwiY2hlY2tJdGVyYXRvcnMiLCJzaG91bGRDb21wbGV0ZSIsIl90cnlyZXN1bHRTZWxlY3RvciIsIm5leHRSZXN1bHQiLCJTdGF0aWNBcnJheUl0ZXJhdG9yIiwiWmlwQnVmZmVySXRlcmF0b3IiLCJpc0NvbXBsZXRlIiwid29ybGQiLCJzdGF0aXN0aWNWaWV3IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhcyIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxpemVkIiwiZHJhdyIsInJlbmRlciIsImluaXRpYWxpemUiLCJjb2x1bW4iLCJyb3ciLCJwb3B1bGF0aW9uIiwiV29ybGQiLCJTdGF0aXN0aWNWaWV3Iiwic3RhdGlzdGljIiwiU0NSRUVOX1BBRCIsInNldFNpemUiLCJjcmVhdGVRdWFyYW50aW5lIiwiaiIsInNvY2lldHkiLCJjcmVhdGVTb2NpZXR5IiwicG9wdWxhdGUiLCJQZXJzb25TdGF0ZSIsInBlcnNvbiIsIlBlcnNvbkV2ZW50IiwibGFzdFN0YXRlIiwiUGVyc29uU0lSU3RhdGVDaGFuZ2VFdmVudCIsInNvY2lldHlfIiwib25EaWRDaGFuZ2VTSVJTdGF0ZSIsInN0YXRlXyIsIlN1c3BlY3RpYmxlIiwiZWxhcHNlZF8iLCJyYW5kSW50IiwiZGF5XyIsImRheUNoYW5nZWRfIiwiaW5mZWN0aW9uSW50ZXJ2YWxTdGVwXyIsImluZmVjdGlvbkludGVydmFsXyIsImhhc1JpcHBsZV8iLCJ0cmF2ZWxpbmdfIiwic29jaWFsRGlzdGFuY2VQYXJ0aWNpcGFudF8iLCJzcGVlZF8iLCJhZGRQZXJzb24iLCJzdGF0ZU1hY2hpbmVfIiwiU3RhdGVNYWNoaW5lIiwiYmVnaW5DaGlsbGluZyIsInVwZGF0ZUNoaWxsaW5nIiwic2V0U3RhdGVDYWxsYmFjayIsIkNoaWxsaW5nIiwiYmVnaW5UcmFuc2ZlciIsInVwZGF0ZVRyYW5zZmVyIiwiVHJhbnNmZXJpbmciLCJiZWdpblNob3BwaW5nIiwidXBkYXRlU2hvcHBpbmciLCJTaG9wcGluZyIsImJlZ2luVHJhdmVsaW5nIiwiZW5kVHJhdmVsaW5nIiwiVHJhdmVsaW5nIiwicmFuZCIsInNldFN0YXRlIiwiSW5mZWN0aW91c19Vbmtub3duIiwibGlzdGVuIiwiSW5mZWN0aW91cyIsImluZmVjdGVkVGltZV8iLCJlbGFzcGVkIiwicmlwcGxlU3RhdGVfIiwicmlwcGxlU3RhcnRlZFRpbWVfIiwic2V0Wm9uZSIsInpvbmUiLCJuZXh0RGF5IiwiaW5mZWN0aW9uU3RlcCIsImluZmVjdCIsImRpc2NvdmVyIiwiaW5mZWN0ZWQiLCJyaXBwbGVFbmRlZFRpbWVfIiwiY2VpbCIsIlBlcnNvbiIsIlJJUFBMRV9EVVJBVElPTiIsInF1YXJhbnRpbmUiLCJpdGVyYXRlTmVhcmJ5IiwibWFwUG9zaXRpb25Xb3JsZFRvU29jaWV0eSIsInRyYW5zZm9ybSIsInBvc2l0aW9uIiwicmhzIiwic3F1YXJlZE1hZ25pdHVkZSIsIlJlY292ZXJlZCIsImNoaWxsaW5nRHVyYXRpb25fIiwiY2hpbGxpbmdEaXJlY3Rpb25fIiwiZ2V0U29jaWFsRGlzdGFuY2UiLCJkZCIsImZpeENvb3JkaW5hdGVCeVBvbGljeSIsInN0YXJ0RGVxdWFyYW50aW5lIiwic3RhcnRRdWFyYW50aW5lIiwic3RhcnRTaG9wcGluZyIsInN0YXJ0VHJhdmVsaW5nIiwiSW5maW5pdHkiLCJnbyIsIm5vcm0iLCJxdWFyYW50aW5lZFNvY2lldHlfIiwicXVhcmFudGluZWROb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2lldHlfIiwiZ2V0U29jaWV0eVBvc2l0aW9uIiwic3RhcnRUcmFuc2ZlciIsInNyY1JlbGF0aXZlVG9Tb2NpZXR5IiwiZHN0UmVsYXRpdmVUb1NvY2lldHkiLCJzcmNTb2NpZXR5IiwiZHN0U29jaWV0eSIsIm5leHRTdGF0ZSIsIm5vcm1hbGl6ZWRTcmMiLCJub3JtYWxpemVkRHN0IiwidHJhbnNmZXJOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2VpdHlfIiwidHJhbnNmZXJOb3JtYWxpemVkRHN0UmVsYXRpdmVUb1NvY2VpdHlfIiwidHJhbnNmZXJTcmNTb2NlaXR5XyIsInRyYW5zZmVyRHN0U29jaWV0eV8iLCJ0cmFuc2Zlck5leHRTdGF0ZV8iLCJ0cmFuc2ZlclN0YXJ0ZWRUaW1lXyIsInRyYW5zZmVyRHVyYXRpb25fIiwiZHQiLCJlYXNlIiwiY2xhbXAiLCJzcmMiLCJwb3NpdGlvblJlbGF0aXZlVG9Xb3JsZCIsImRzdCIsImludGVycCIsInNob3BwaW5nTm9ybWFsaXplZFNyY1JlbGF0aXZlVG9Tb2NpZXR5XyIsInJ3IiwicmgiLCJzaG9wcGluZ0R1cmF0aW9uXyIsIm5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jaWV0eSIsInRyYXZlbGluZ0RzdFNvY2lldHlfIiwic29jaWV0aWVzIiwicmVtb3ZlUGVyc29uIiwic29jaWV0eVBvc2l0aW9uIiwiZGlzcG9zZXJfIiwiQ29tcG9uZW50IiwiaW5pdCIsImNyZWF0ZVdvcmxkIiwibGFiZWwiLCJzdGVwIiwiZGlzcGxheUZ1bmMiLCJzaWRFZmZlY3QiLCJzaWRlRWZmZWN0T25DaGFuZ2UiLCJlbF8iLCJjcmVhdGVFbGVtZW50IiwibGFiZWxFbCIsImlubmVyVGV4dCIsImFwcGVuZCIsInNsaWRlckVsIiwidmFsdWVFbF8iLCJzbGlkZXJfIiwibm9VaVNsaWRlciIsInJlbmRlclZhbHVlIiwiYm9sZCIsImRpdiIsImNvbnRyb2xFbCIsIm1vZGlmaWFibGVTSVJNb2RlbCIsImNyZWF0ZUNhdGVnb3J5IiwiY2F0ZSIsIlNsaWRlciIsIkRpdmlkZXIiLCJyb3VuZCIsInBhdXNlQnRuIiwiY29uZmlybSIsInJlbW92ZUl0ZW0iLCJsb2NhdGlvbiIsInJlbG9hZCIsIlZFUlNJT04iLCJyZW1vdmVFbGVtZW50IiwiZWwiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpc1NldCIsInByZXZlbnREZWZhdWx0IiwiaXNGaW5pdGUiLCJhZGRDbGFzc0ZvciIsImVsZW1lbnQiLCJkdXJhdGlvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJsaW1pdCIsImFzQXJyYXkiLCJjb3VudERlY2ltYWxzIiwibnVtU3RyIiwicGllY2VzIiwic3BsaXQiLCJjbGFzc0xpc3QiLCJ0ZXN0IiwiUmVnRXhwIiwiZ2V0UGFnZU9mZnNldCIsImRvYyIsInN1cHBvcnRQYWdlT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJpc0NTUzFDb21wYXQiLCJjb21wYXRNb2RlIiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsImJvZHkiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInN1YlJhbmdlUmF0aW8iLCJwYSIsInBiIiwiZnJvbVBlcmNlbnRhZ2UiLCJnZXRKIiwiYXJyIiwidG9TdGVwcGluZyIsInhWYWwiLCJ4UGN0IiwidmEiLCJ2YiIsImFicyIsInRvUGVyY2VudGFnZSIsImdldFN0ZXAiLCJ4U3RlcHMiLCJzbmFwIiwidG8iLCJjbG9zZXN0IiwiaGFuZGxlRW50cnlQb2ludCIsInRoYXQiLCJwZXJjZW50YWdlIiwieEhpZ2hlc3RDb21wbGV0ZVN0ZXAiLCJoYW5kbGVTdGVwUG9pbnQiLCJ0b3RhbFN0ZXBzIiwieE51bVN0ZXBzIiwiaGlnaGVzdFN0ZXAiLCJ0b0ZpeGVkIiwiU3BlY3RydW0iLCJzaW5nbGVTdGVwIiwib3JkZXJlZCIsImdldE1hcmdpbiIsImZyb21TdGVwcGluZyIsImlzUGVyY2VudGFnZSIsImdldERlZmF1bHRTdGVwIiwiaXNEb3duIiwiZ2V0TmVhcmJ5U3RlcHMiLCJzdGVwQmVmb3JlIiwic3RhcnRWYWx1ZSIsInRoaXNTdGVwIiwic3RlcEFmdGVyIiwiY291bnRTdGVwRGVjaW1hbHMiLCJzdGVwRGVjaW1hbHMiLCJjb252ZXJ0IiwiZGVmYXVsdEZvcm1hdHRlciIsInZhbGlkYXRlRm9ybWF0IiwiaXNWYWxpZEZvcm1hdHRlciIsInRlc3RTdGVwIiwicGFyc2VkIiwidGVzdFJhbmdlIiwic3BlY3RydW0iLCJ0ZXN0U3RhcnQiLCJoYW5kbGVzIiwidGVzdFNuYXAiLCJ0ZXN0QW5pbWF0ZSIsImFuaW1hdGUiLCJ0ZXN0QW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EdXJhdGlvbiIsInRlc3RDb25uZWN0IiwidGVzdE9yaWVudGF0aW9uIiwib3J0IiwidGVzdE1hcmdpbiIsIm1hcmdpbiIsInRlc3RMaW1pdCIsInRlc3RQYWRkaW5nIiwicGFkZGluZyIsInRlc3REaXJlY3Rpb24iLCJkaXIiLCJ0ZXN0QmVoYXZpb3VyIiwidGFwIiwiZHJhZyIsImZpeGVkIiwiaG92ZXIiLCJ1bmNvbnN0cmFpbmVkIiwiZXZlbnRzIiwidGVzdFRvb2x0aXBzIiwidG9vbHRpcHMiLCJmb3JtYXR0ZXIiLCJ0ZXN0QXJpYUZvcm1hdCIsImFyaWFGb3JtYXQiLCJ0ZXN0Rm9ybWF0IiwiZm9ybWF0IiwidGVzdEtleWJvYXJkU3VwcG9ydCIsImtleWJvYXJkU3VwcG9ydCIsInRlc3REb2N1bWVudEVsZW1lbnQiLCJ0ZXN0Q3NzUHJlZml4IiwiY3NzUHJlZml4IiwidGVzdENzc0NsYXNzZXMiLCJjc3NDbGFzc2VzIiwidGVzdE9wdGlvbnMiLCJ0ZXN0cyIsImRpcmVjdGlvbiIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZGVmYXVsdHMiLCJvcmlnaW4iLCJoYW5kbGVMb3dlciIsImhhbmRsZVVwcGVyIiwidG91Y2hBcmVhIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiYmFja2dyb3VuZCIsImNvbm5lY3RzIiwibHRyIiwicnRsIiwidGV4dERpcmVjdGlvbkx0ciIsInRleHREaXJlY3Rpb25SdGwiLCJkcmFnZ2FibGUiLCJ0b29sdGlwIiwicGlwcyIsInBpcHNIb3Jpem9udGFsIiwicGlwc1ZlcnRpY2FsIiwibWFya2VyIiwibWFya2VySG9yaXpvbnRhbCIsIm1hcmtlclZlcnRpY2FsIiwibWFya2VyTm9ybWFsIiwibWFya2VyTGFyZ2UiLCJtYXJrZXJTdWIiLCJ2YWx1ZUhvcml6b250YWwiLCJ2YWx1ZVZlcnRpY2FsIiwidmFsdWVOb3JtYWwiLCJ2YWx1ZUxhcmdlIiwidmFsdWVTdWIiLCJtc1ByZWZpeCIsInN0eWxlIiwibXNUcmFuc2Zvcm0iLCJub1ByZWZpeCIsInRyYW5zZm9ybVJ1bGUiLCJvcmlnaW5hbE9wdGlvbnMiLCJzY29wZV9CYXNlIiwic2NvcGVfSGFuZGxlcyIsInNjb3BlX0Nvbm5lY3RzIiwic2NvcGVfUGlwcyIsInNjb3BlX1Rvb2x0aXBzIiwic2NvcGVfU2VsZiIsImFkZFRhcmdldCIsIm5hdmlnYXRvciIsInBvaW50ZXJFbmFibGVkIiwibW92ZSIsImVuZCIsIm1zUG9pbnRlckVuYWJsZWQiLCJzdXBwb3J0c1Bhc3NpdmUiLCJDU1MiLCJzdXBwb3J0cyIsImdldFN1cHBvcnRzUGFzc2l2ZSIsInNjb3BlX1RhcmdldCIsInNjb3BlX1NwZWN0cnVtIiwic2NvcGVfVmFsdWVzIiwic2NvcGVfTG9jYXRpb25zIiwic2NvcGVfSGFuZGxlTnVtYmVycyIsInNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCIsInNjb3BlX0V2ZW50cyIsInNjb3BlX0RvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInNjb3BlX0RvY3VtZW50RWxlbWVudCIsInNjb3BlX0JvZHkiLCJzY29wZV9EaXJPZmZzZXQiLCJhZGROb2RlVG8iLCJhcHBlbmRDaGlsZCIsImFkZE9yaWdpbiIsImhhbmRsZU51bWJlciIsInNldEF0dHJpYnV0ZSIsImV2ZW50IiwiaXNTbGlkZXJEaXNhYmxlZCIsImlzSGFuZGxlRGlzYWJsZWQiLCJob3Jpem9udGFsS2V5cyIsInZlcnRpY2FsS2V5cyIsImxhcmdlU3RlcEtleXMiLCJlZGdlS2V5cyIsImlzTGFyZ2VEb3duIiwiaXNMYXJnZVVwIiwiaXNVcCIsImlzTWluIiwiaXNNYXgiLCJnZXROZXh0U3RlcHNGb3JIYW5kbGUiLCJzZXRIYW5kbGUiLCJmaXJlRXZlbnQiLCJldmVudEtleWRvd24iLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImZpcnN0Q2hpbGQiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVUb29sdGlwcyIsInJlbW92ZUV2ZW50IiwiYmluZEV2ZW50IiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJpbm5lckhUTUwiLCJhZGRNYXJraW5nIiwic3ByZWFkIiwiZmlsdGVyRnVuYyIsInZhbHVlU2l6ZUNsYXNzZXMiLCJtYXJrZXJTaXplQ2xhc3NlcyIsInZhbHVlT3JpZW50YXRpb25DbGFzc2VzIiwibWFya2VyT3JpZW50YXRpb25DbGFzc2VzIiwiZ2V0Q2xhc3NlcyIsInNpemVDbGFzc2VzIiwib2Zmc2V0IiwiYWRkU3ByZWFkIiwicmVtb3ZlUGlwcyIsImdyaWQiLCJkZW5zaXR5IiwiZ3JvdXAiLCJzdGVwcGVkIiwiZ2V0R3JvdXAiLCJpbmRleGVzIiwiZmlyc3RJblJhbmdlIiwibGFzdEluUmFuZ2UiLCJpZ25vcmVGaXJzdCIsImlnbm9yZUxhc3QiLCJwcmV2UGN0IiwicSIsIm5ld1BjdCIsInBjdERpZmZlcmVuY2UiLCJwY3RQb3MiLCJzdGVwcyIsInJlYWxTdGVwcyIsInN0ZXBTaXplIiwibG93IiwiaGlnaCIsImlzU3RlcHMiLCJnZW5lcmF0ZVNwcmVhZCIsImJhc2VTaXplIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFsdCIsImF0dGFjaEV2ZW50IiwiZGF0YSIsIm1ldGhvZCIsInBhZ2VPZmZzZXQiLCJldmVudFRhcmdldCIsInRvdWNoIiwibW91c2UiLCJwb2ludGVyIiwiaXNUb3VjaE9uVGFyZ2V0IiwiY2hlY2tUb3VjaCIsImNvbnRhaW5zIiwic2hhZG93Um9vdCIsInRhcmdldFRvdWNoZXMiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsInRhcmdldFRvdWNoIiwiZmluZCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2ludHMiLCJjdXJzb3IiLCJmaXhFdmVudCIsImRvTm90UmVqZWN0IiwiYnV0dG9ucyIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwiZWxlbSIsImRvY0VsZW0iLCJwcm9wb3NhbCIsInVzZXJBZ2VudCIsInRvcCIsImNsaWVudFRvcCIsImxlZnQiLCJjbGllbnRMZWZ0IiwiZG9jdW1lbnRMZWF2ZSIsIm5vZGVOYW1lIiwicmVsYXRlZFRhcmdldCIsImV2ZW50RW5kIiwiZXZlbnRNb3ZlIiwiYXBwVmVyc2lvbiIsImJ1dHRvbnNQcm9wZXJ0eSIsIm1vdmVtZW50Iiwic3RhcnRDYWxjUG9pbnQiLCJtb3ZlSGFuZGxlcyIsImxvY2F0aW9ucyIsImhhbmRsZU51bWJlcnMiLCJzZXRaaW5kZXgiLCJldmVudFN0YXJ0Iiwic29tZSIsImNoaWxkcmVuIiwic3RvcFByb3BhZ2F0aW9uIiwibW92ZUV2ZW50IiwiZW5kRXZlbnQiLCJvdXRFdmVudCIsImdldENvbXB1dGVkU3R5bGUiLCJldmVudFRhcCIsImNsaWNrZWRQb3NpdGlvbiIsInNtYWxsZXN0RGlmZmVyZW5jZSIsImhhbmRsZVBvc2l0aW9uIiwiZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlIiwiZ2V0Q2xvc2VzdEhhbmRsZSIsImV2ZW50SG92ZXIiLCJ0YXJnZXRFdmVudCIsIm5hbWVzcGFjZWRFdmVudCIsIm5hbWVzcGFjZSIsInN1YnN0cmluZyIsInRFdmVudCIsInROYW1lc3BhY2UiLCJldmVudFR5cGUiLCJjaGVja0hhbmRsZVBvc2l0aW9uIiwicmVmZXJlbmNlIiwibG9va0JhY2t3YXJkIiwibG9va0ZvcndhcmQiLCJpblJ1bGVPcmRlciIsInVwd2FyZCIsInByb3Bvc2FscyIsInRyYW5zZm9ybURpcmVjdGlvbiIsInpJbmRleCIsInRyYW5zbGF0ZVJ1bGUiLCJ1cGRhdGVDb25uZWN0IiwidXBkYXRlSGFuZGxlUG9zaXRpb24iLCJoIiwiY29ubmVjdFdpZHRoIiwic2NhbGVSdWxlIiwicmVzb2x2ZVRvVmFsdWUiLCJ2YWx1ZVNldCIsImZpcmVTZXRFdmVudCIsImlzSW5pdCIsInZhbHVlR2V0IiwibmVhcmJ5U3RlcHMiLCJpbmNyZW1lbnQiLCJkZWNyZW1lbnQiLCJjb25uZWN0T3B0aW9ucyIsImNvbm5lY3RCYXNlIiwiYWRkRWxlbWVudHMiLCJoYW5kbGVCZWZvcmUiLCJoYW5kbGVBZnRlciIsImV2ZW50SG9sZGVycyIsImV2ZW50SG9sZGVyIiwicG9zaXRpb25zIiwidGV4dCIsImRlc3Ryb3kiLCJyZXNldCIsIl9fbW92ZUhhbmRsZXMiLCJ1cGRhdGVPcHRpb25zIiwib3B0aW9uc1RvVXBkYXRlIiwidXBkYXRlQWJsZSIsIm5ld09wdGlvbnMiLCJfX3NwZWN0cnVtIiwiYXBpIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbnMiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwiZyIsInBlb3BsZVJlbmRlckRhdGFfIiwid2lkdGhfIiwiaGVpZ2h0XyIsImdsXyIsImdldENvbnRleHQiLCJwcmVtdXRpcGxpZWRBbHBoYSIsInJhdGlvXyIsInciLCJsb2FkVGV4dHVyZSIsImdsIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJ0ZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleEltYWdlMkQiLCJSR0JBIiwiVU5TSUdORURfQllURSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJMSU5FQVJfTUlQTUFQX05FQVJFU1QiLCJnZW5lcmF0ZU1pcG1hcCIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInNvbGlkU2hhZGVyIiwiU2hhZGVyIiwic29saWRQb3NpdGlvbkJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInNvbGlkVkFPIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJiaW5kVmVydGV4QXJyYXkiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImdldEF0dHJpYnV0ZUxvY2F0aW9uIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsInRleFNoYWRlciIsInRleFBvc2l0aW9uQnVmZmVyIiwidGV4VmVydGV4QnVmZmVyIiwidGV4VGV4Q29vcmRCdWZmZXIiLCJ0ZXhDb2xvckJ1ZmZlciIsInRleFZBTyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJyaXBwbGVTaGFkZXIiLCJyaXBwbGVQb3NpdGlvbkJ1ZmZlciIsInJpcHBsZVZlcnRleEJ1ZmZlciIsInJpcHBsZVRleENvb3JkQnVmZmVyIiwicmlwcGxlQ29sb3JCdWZmZXIiLCJyaXBwbGVUaW1lQnVmZmVyIiwicmlwcGxlVkFPIiwicGVyc29uVmVydGljZXNfIiwiRmxvYXQzMkFycmF5IiwicGVyc29uQ29sb3JWZXJ0aWNlc18iLCJwZXJzb25UZXhWZXJ0aWNlc18iLCJyaXBwbGVWZXJ0aWNlc18iLCJyaXBwbGVDb2xvclZlcnRpY2VzXyIsInJpcHBsZVRleFZlcnRpY2VzXyIsInJpcHBsZVRpbWVWZXJ0aWNlc18iLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJjaXJjbGVUZXh0dXJlXyIsInJlbmRlclBlcnNvbiIsImRyYXdXb3JsZCIsImRyYXdTb2NpZXR5IiwidXNlUHJvZ3JhbSIsInByb2dyYW0iLCJ1bmlmb3JtMmYiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJ4MSIsIngyIiwieTEiLCJ5MiIsInVuaWZvcm0zZiIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsImRyYXdBcnJheXMiLCJMSU5FX1NUUklQIiwiZHJhd1Blb3BsZSIsInVuaWZvcm0xaSIsInBlb3BsZSIsIkNvbG9yUGFsZXR0ZSIsIlBFUlNPTl9TVVNDRVBUSUJMRSIsIlBFUlNPTl9JTkZFQ1RFRCIsIlBFUlNPTl9JTkZFQ1RFRF9VTktOT1dOIiwiUEVSU09OX1JFQ09WRVJFRCIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJUUklBTkdMRVMiLCJkcmF3UmlwcGxlIiwidW5pZm9ybTFmIiwiaGFzUmlwcGxlIiwicmlwcGxlU3RhcnRlZFRpbWUiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwidmVydFNoYWRlclNvdXJjZSIsImZyYWdTaGFkZXJTb3VyY2UiLCJhdHRyaWJ1dGVzIiwidW5pZm9ybXMiLCJhdHRyaWJ1dGVNYXAiLCJ1bmlmb3JtTWFwIiwicHJvZ3JhbV8iLCJjcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMiLCJhdHRyIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJ1bmlmb3JtIiwiYXR0cmliIiwibG9hZFNoYWRlciIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVQcm9ncmFtIiwic2hhZGVycyIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwidmVydFNvdXJjZSIsImZyYWdTb3VyY2UiLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIiwiQ29sb3IiLCJfQ29sb3JQYWxldHRlIiwib25EaWRQb3NpdGlvbkNoYW5nZSIsInBvc2l0aW9uXyIsImJlZ2luc18iLCJlbmRzXyIsInVwZGF0ZXNfIiwiZWQiLCJiZyIsImJlZ2luIiwidXBkIiwibnVtU3VzcGVjdGlibGVfIiwibnVtSW5mZWN0aW91c18iLCJudW1SZWNvdmVyZWRfIiwicmVjb3Jkc18iLCJlbGFwc2UiLCJyZWNvcmQiLCJTdGF0aXN0aWMiLCJzb2NpZXRpZXNfIiwicXVhcmFudGluZV8iLCJ0aW1lXyIsIlNvY2lldHkiLCJsaXN0ZW5Tb2NpZXR5Iiwib25EaWRQb3B1bGF0ZVBlcnNvbiIsIm51bVN1c3BlY3RpYmxlIiwibnVtSW5mZWN0aW91cyIsIm51bVJlY292ZXJlZCIsIm9uRGlkQ2hhbmdlUGVyc29uU0lSU3RhdGUiLCJfX25leHRfc29jaWV0eV9pZCIsInpvbmVzXyIsInBlcnNvblRvWm9uZU1hcF8iLCJwZW9wbGVfIiwicGVvcGxlU3Vic2NyaXB0aW9uXyIsInNpemVfIiwiem9uZVdpZHRoXyIsInpvbmVIZWlnaHRfIiwiaW5zdGFudGlhdGVab25lcyIsInBvcyIsInVwZGF0ZVpvbmUiLCJzdWJzIiwib2xkIiwiY3VyIiwiZ2V0Wm9uZSIsInpvbmVDb2x1bW5fIiwiem9uZUNvbHVtbnMiLCJ6b25lUm93cyIsIlpvbmUiLCJ6b25lUm93XyIsImdldFpvbmVCeUNvb3JkaW5hdGUiLCJjb29yZCIsIml0IiwiY2VuIiwiZGF5cl8iLCJjdHhfIiwicmVuZGVyRGF5IiwiY3ZzIiwiZWxhcHNlZCIsInUiLCJvcGFjIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJ0ZXh0QWxpZ24iLCJsaW5lV2lkdGgiLCJmb250Iiwic2F2ZSIsImdsb2JhbEFscGhhIiwidHJhbnNsYXRlIiwiZmlsbFRleHQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZXN0b3JlIiwicmVuZGVyMiIsImNhbGMiLCJyZWNvcmRzIiwibGFzdFMiLCJjbG9zZVBhdGgiLCJmaWxsIiwiY2xlYXJSZWN0IiwiZmlsbFJlY3QiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxH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ckdBLEdBQWEsRUFBQXR1QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlLCBhdXRvcnVuIH0gZnJvbSAnbW9ieCdcclxuXHJcbmludGVyZmFjZSBfU0lSTW9kZWwge1xyXG5cclxuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XHJcblxyXG4gIHJlYWRvbmx5IHRpbWVGYWN0b3I6IG51bWJlcjtcclxuICByZWFkb25seSBkYXlGYWN0b3I6IG51bWJlcjtcclxuXHJcbiAgcmVhZG9ubHkgc29jaWV0eUNvbHVtbkxlbmd0aDogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IHNvY2lldHlSb3dMZW5ndGg6IG51bWJlcjtcclxuICByZWFkb25seSBzb2NpZXR5UG9wdWxhdGlvbjogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IHNvY2lldHlTaXplOiBudW1iZXI7XHJcblxyXG4gIHJlYWRvbmx5IGluaXRpYWxJbmZlY3Rpb25Qb3NzaWJsaXR5OiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgaW5mZWN0aW9uUmF0ZTogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IGluZmVjdGlvbkRpc2NvdmVyeVJhdGU6IG51bWJlcjtcclxuICByZWFkb25seSBpbmZlY3Rpb25SZWNvdmVyeVJhdGU6IG51bWJlcjtcclxuICByZWFkb25seSBpbmZlY3Rpb25SYWRpdXM6IG51bWJlcjtcclxuXHJcbiAgcmVhZG9ubHkgc2hvcHBpbmdSYXRlOiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgdHJhdmVsaW5nUmF0ZTogbnVtYmVyO1xyXG5cclxuICByZWFkb25seSBxdWFyYW50aW5lZDogYm9vbGVhbjtcclxuICByZWFkb25seSBxdWFyYW50aW5lUmF0ZTogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IGRlcXVhcmFudGluZUFmdGVyUmVjb3ZlcmVkOiBib29sZWFuO1xyXG5cclxuICByZWFkb25seSBzb2NpYWxEaXN0YW5jZTogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IHNvY2lhbERpc3RhbmNlUGFydGljaXBhbnRSYXRpbzogbnVtYmVyO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIF9TSVJNb2RlbEltcGwgaW1wbGVtZW50cyBfU0lSTW9kZWwge1xyXG5cclxuICBAb2JzZXJ2YWJsZSBwdWJsaWMgdmVyc2lvbjogbnVtYmVyO1xyXG5cclxuICBAb2JzZXJ2YWJsZSBwdWJsaWMgdGltZUZhY3RvcjogbnVtYmVyO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBkYXlGYWN0b3I6IG51bWJlcjtcclxuXHJcbiAgQG9ic2VydmFibGUgcHVibGljIHNvY2lldHlDb2x1bW5MZW5ndGg6IG51bWJlcjtcclxuICBAb2JzZXJ2YWJsZSBwdWJsaWMgc29jaWV0eVJvd0xlbmd0aDogbnVtYmVyO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBzb2NpZXR5UG9wdWxhdGlvbjogbnVtYmVyO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBzb2NpZXR5U2l6ZTogbnVtYmVyO1xyXG4gIFxyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBpbml0aWFsSW5mZWN0aW9uUG9zc2libGl0eTogbnVtYmVyO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBpbmZlY3Rpb25SYXRlOiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcHVibGljIGluZmVjdGlvbkRpc2NvdmVyeVJhdGU6IG51bWJlcjtcclxuICBAb2JzZXJ2YWJsZSBwdWJsaWMgaW5mZWN0aW9uUmVjb3ZlcnlSYXRlOiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcHVibGljIGluZmVjdGlvblJhZGl1czogbnVtYmVyO1xyXG5cclxuICBAb2JzZXJ2YWJsZSBwdWJsaWMgc2hvcHBpbmdSYXRlOiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcHVibGljIHRyYXZlbGluZ1JhdGU6IG51bWJlcjtcclxuXHJcbiAgQG9ic2VydmFibGUgcHVibGljIHF1YXJhbnRpbmVkOiBib29sZWFuO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBxdWFyYW50aW5lUmF0ZTogbnVtYmVyO1xyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBkZXF1YXJhbnRpbmVBZnRlclJlY292ZXJlZDogYm9vbGVhbjtcclxuXHJcbiAgQG9ic2VydmFibGUgcHVibGljIHNvY2lhbERpc3RhbmNlOiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcHVibGljIHNvY2lhbERpc3RhbmNlUGFydGljaXBhbnRSYXRpbzogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudGltZUZhY3RvciA9IDEwMDtcclxuICAgIHRoaXMuZGF5RmFjdG9yID0gMTA7XHJcblxyXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcclxuXHJcbiAgICB0aGlzLnNvY2lldHlDb2x1bW5MZW5ndGggPSAzO1xyXG4gICAgdGhpcy5zb2NpZXR5Um93TGVuZ3RoID0gMztcclxuICAgIHRoaXMuc29jaWV0eVBvcHVsYXRpb24gPSA1MDA7XHJcbiAgICB0aGlzLnNvY2lldHlTaXplID0gMTAwMDtcclxuXHJcbiAgICB0aGlzLmluaXRpYWxJbmZlY3Rpb25Qb3NzaWJsaXR5ID0gMC4xO1xyXG4gICAgdGhpcy5pbmZlY3Rpb25SYXRlID0gMC4xO1xyXG4gICAgdGhpcy5pbmZlY3Rpb25EaXNjb3ZlcnlSYXRlID0gMC41O1xyXG4gICAgdGhpcy5pbmZlY3Rpb25SZWNvdmVyeVJhdGUgPSAwLjA1O1xyXG4gICAgdGhpcy5pbmZlY3Rpb25SYWRpdXMgPSA0MDtcclxuXHJcbiAgICB0aGlzLnNob3BwaW5nUmF0ZSA9IDAuMjtcclxuICAgIHRoaXMudHJhdmVsaW5nUmF0ZSA9IDAuMTtcclxuXHJcbiAgICB0aGlzLnF1YXJhbnRpbmVkID0gdHJ1ZTtcclxuICAgIHRoaXMucXVhcmFudGluZVJhdGUgPSAwLjE7XHJcbiAgICB0aGlzLmRlcXVhcmFudGluZUFmdGVyUmVjb3ZlcmVkID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLnNvY2lhbERpc3RhbmNlID0gNDA7XHJcbiAgICB0aGlzLnNvY2lhbERpc3RhbmNlUGFydGljaXBhbnRSYXRpbyA9IDAuNTtcclxuXHJcbiAgICBjb25zdCBzYXZlZE1vZGVsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJTSVJNb2RlbFwiKTtcclxuICAgIGNvbnNvbGUubG9nKHNhdmVkTW9kZWwpO1xyXG4gICAgaWYgKHNhdmVkTW9kZWwpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShzYXZlZE1vZGVsKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhqc29uKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4ganNvbikge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBqc29uW2tleV07XHJcbiAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAodGhpcyBhcyBhbnkpW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBTSVIgTW9kZWxcIiwgZSwgc2F2ZWRNb2RlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGF1dG9ydW4oKCkgPT4ge1xyXG4gICAgICB0aGlzLnRpbWVGYWN0b3I7XHJcbiAgICAgIHRoaXMuZGF5RmFjdG9yO1xyXG4gICAgICB0aGlzLnNvY2lldHlDb2x1bW5MZW5ndGg7XHJcbiAgICAgIHRoaXMuc29jaWV0eVJvd0xlbmd0aDtcclxuICAgICAgdGhpcy5zb2NpZXR5UG9wdWxhdGlvbjtcclxuICAgICAgdGhpcy5zb2NpZXR5U2l6ZTtcclxuICAgICAgdGhpcy5pbml0aWFsSW5mZWN0aW9uUG9zc2libGl0eTtcclxuICAgICAgdGhpcy5pbmZlY3Rpb25SYXRlO1xyXG4gICAgICB0aGlzLmluZmVjdGlvbkRpc2NvdmVyeVJhdGU7XHJcbiAgICAgIHRoaXMuaW5mZWN0aW9uUmVjb3ZlcnlSYXRlO1xyXG4gICAgICB0aGlzLmluZmVjdGlvblJhZGl1cztcclxuICAgICAgdGhpcy5zaG9wcGluZ1JhdGU7XHJcbiAgICAgIHRoaXMudHJhdmVsaW5nUmF0ZTtcclxuICAgICAgdGhpcy5xdWFyYW50aW5lZDtcclxuICAgICAgdGhpcy5xdWFyYW50aW5lUmF0ZTtcclxuICAgICAgdGhpcy5kZXF1YXJhbnRpbmVBZnRlclJlY292ZXJlZDtcclxuICAgICAgdGhpcy5zb2NpYWxEaXN0YW5jZTtcclxuICAgICAgdGhpcy5zb2NpYWxEaXN0YW5jZVBhcnRpY2lwYW50UmF0aW87XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU0lSTW9kZWxcIiwgSlNPTi5zdHJpbmdpZnkodGhpcykpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNJUk1vZGVsOiBfU0lSTW9kZWwgPSBuZXcgX1NJUk1vZGVsSW1wbCgpO1xyXG5cclxuKHdpbmRvdyBhcyBhbnkpLlNJUk1vZGVsID0gU0lSTW9kZWw7IiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9lbnRpdHknO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XHJcblxyXG5jbGFzcyBfRW5naW5lIHtcclxuXHJcbiAgcHJpdmF0ZSBsYXN0VGltZXN0YW1wXzogbnVtYmVyID0gLTE7XHJcblxyXG4gIHByaXZhdGUgZGVsdGFfOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCBkZWx0YSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kZWx0YV87IH1cclxuXHJcbiAgcHJpdmF0ZSBlbGFzcGVkXzogbnVtYmVyID0gMDtcclxuICBwdWJsaWMgZ2V0IGVsYXNwZWQoKSB7IHJldHVybiB0aGlzLmVsYXNwZWRfOyB9XHJcblxyXG4gIEBvYnNlcnZhYmxlIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgcHJpdmF0ZSBlbnRpdGllc186IEVudGl0eVtdID0gW107XHJcblxyXG4gIHB1YmxpYyBhZGQoZW50aXR5OiBFbnRpdHkpOiB2b2lkIHtcclxuICAgIHRoaXMuZW50aXRpZXNfLnB1c2goZW50aXR5KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmxhc3RUaW1lc3RhbXBfID09IC0xKSB7XHJcbiAgICAgIHRoaXMubGFzdFRpbWVzdGFtcF8gPSB0aW1lc3RhbXA7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGxhc3RUaW1lc3RhbXAgPSB0aGlzLmxhc3RUaW1lc3RhbXBfO1xyXG4gICAgdGhpcy5sYXN0VGltZXN0YW1wXyA9IHRpbWVzdGFtcDtcclxuICAgIGlmICh0aGlzLnBhdXNlZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5kZWx0YV8gPSB0aW1lc3RhbXAgLSBsYXN0VGltZXN0YW1wO1xyXG4gICAgdGhpcy5lbGFzcGVkXyArPSB0aGlzLmRlbHRhXztcclxuICAgIHRoaXMuZW50aXRpZXNfLmZvckVhY2goZW50aXR5ID0+IHtcclxuICAgICAgZW50aXR5LnVwZGF0ZSgpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjbGVhcigpIHtcclxuICAgIHRoaXMubGFzdFRpbWVzdGFtcF8gPSAtMTtcclxuICAgIHRoaXMuZWxhc3BlZF8gPSAwO1xyXG4gICAgdGhpcy5lbnRpdGllc18uZm9yRWFjaChlID0+IHtcclxuICAgICAgZS5kaXNwb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5lbnRpdGllc18gPSBbXTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBFbmdpbmUgPSBuZXcgX0VuZ2luZTtcclxuZXhwb3J0IHsgRW5naW5lIH07XHJcblxyXG4od2luZG93IGFzIGFueSkuRW5naW5lID0gRW5naW5lOyIsIi8qKiBNb2JYIC0gKGMpIE1pY2hlbCBXZXN0c3RyYXRlIDIwMTUgLSAyMDIwIC0gTUlUIExpY2Vuc2VkICovXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxuXG52YXIgT0JGVVNDQVRFRF9FUlJPUiA9IFwiQW4gaW52YXJpYW50IGZhaWxlZCwgaG93ZXZlciB0aGUgZXJyb3IgaXMgb2JmdXNjYXRlZCBiZWNhdXNlIHRoaXMgaXMgYSBwcm9kdWN0aW9uIGJ1aWxkLlwiO1xyXG52YXIgRU1QVFlfQVJSQVkgPSBbXTtcclxuT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XHJcbnZhciBFTVBUWV9PQkpFQ1QgPSB7fTtcclxuT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkpFQ1QpO1xyXG5mdW5jdGlvbiBnZXROZXh0SWQoKSB7XHJcbiAgICByZXR1cm4gKytnbG9iYWxTdGF0ZS5tb2J4R3VpZDtcclxufVxyXG5mdW5jdGlvbiBmYWlsKG1lc3NhZ2UpIHtcclxuICAgIGludmFyaWFudChmYWxzZSwgbWVzc2FnZSk7XHJcbiAgICB0aHJvdyBcIlhcIjsgLy8gdW5yZWFjaGFibGVcclxufVxyXG5mdW5jdGlvbiBpbnZhcmlhbnQoY2hlY2ssIG1lc3NhZ2UpIHtcclxuICAgIGlmICghY2hlY2spXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW21vYnhdIFwiICsgKG1lc3NhZ2UgfHwgT0JGVVNDQVRFRF9FUlJPUikpO1xyXG59XHJcbi8qKlxyXG4gKiBQcmludHMgYSBkZXByZWNhdGlvbiBtZXNzYWdlLCBidXQgb25seSBvbmUgdGltZS5cclxuICogUmV0dXJucyBmYWxzZSBpZiB0aGUgZGVwcmVjYXRlZCBtZXNzYWdlIHdhcyBhbHJlYWR5IHByaW50ZWQgYmVmb3JlXHJcbiAqL1xyXG52YXIgZGVwcmVjYXRlZE1lc3NhZ2VzID0gW107XHJcbmZ1bmN0aW9uIGRlcHJlY2F0ZWQobXNnLCB0aGluZykge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAodGhpbmcpIHtcclxuICAgICAgICByZXR1cm4gZGVwcmVjYXRlZChcIidcIiArIG1zZyArIFwiJywgdXNlICdcIiArIHRoaW5nICsgXCInIGluc3RlYWQuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlcHJlY2F0ZWRNZXNzYWdlcy5pbmRleE9mKG1zZykgIT09IC0xKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGRlcHJlY2F0ZWRNZXNzYWdlcy5wdXNoKG1zZyk7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW21vYnhdIERlcHJlY2F0ZWQ6IFwiICsgbXNnKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8qKlxyXG4gKiBNYWtlcyBzdXJlIHRoYXQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIGlzIGludm9rZWQgYXQgbW9zdCBvbmNlLlxyXG4gKi9cclxuZnVuY3Rpb24gb25jZShmdW5jKSB7XHJcbiAgICB2YXIgaW52b2tlZCA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaW52b2tlZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGludm9rZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59XHJcbnZhciBub29wID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5mdW5jdGlvbiB1bmlxdWUobGlzdCkge1xyXG4gICAgdmFyIHJlcyA9IFtdO1xyXG4gICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgaWYgKHJlcy5pbmRleE9mKGl0ZW0pID09PSAtMSlcclxuICAgICAgICAgICAgcmVzLnB1c2goaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XHJcbn1cclxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG4gICAgcmV0dXJuIHByb3RvID09PSBPYmplY3QucHJvdG90eXBlIHx8IHByb3RvID09PSBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEhpZGRlblByb3Aob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BOYW1lLCB7XHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gYWRkSGlkZGVuRmluYWxQcm9wKG9iamVjdCwgcHJvcE5hbWUsIHZhbHVlKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wTmFtZSwge1xyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3BlcnR5Q29uZmlndXJhYmxlKG9iamVjdCwgcHJvcCkge1xyXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcCk7XHJcbiAgICByZXR1cm4gIWRlc2NyaXB0b3IgfHwgKGRlc2NyaXB0b3IuY29uZmlndXJhYmxlICE9PSBmYWxzZSAmJiBkZXNjcmlwdG9yLndyaXRhYmxlICE9PSBmYWxzZSk7XHJcbn1cclxuZnVuY3Rpb24gYXNzZXJ0UHJvcGVydHlDb25maWd1cmFibGUob2JqZWN0LCBwcm9wKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFpc1Byb3BlcnR5Q29uZmlndXJhYmxlKG9iamVjdCwgcHJvcCkpXHJcbiAgICAgICAgZmFpbChcIkNhbm5vdCBtYWtlIHByb3BlcnR5ICdcIiArIHByb3AudG9TdHJpbmcoKSArIFwiJyBvYnNlcnZhYmxlLCBpdCBpcyBub3QgY29uZmlndXJhYmxlIGFuZCB3cml0YWJsZSBpbiB0aGUgdGFyZ2V0IG9iamVjdFwiKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKG5hbWUsIGNsYXp6KSB7XHJcbiAgICB2YXIgcHJvcE5hbWUgPSBcImlzTW9iWFwiICsgbmFtZTtcclxuICAgIGNsYXp6LnByb3RvdHlwZVtwcm9wTmFtZV0gPSB0cnVlO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmIHhbcHJvcE5hbWVdID09PSB0cnVlO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgZGlzcmVnYXJkaW5nIG9ic2VydmFiaWxpdHkuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh4KSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KSB8fCBpc09ic2VydmFibGVBcnJheSh4KTtcclxufVxyXG5mdW5jdGlvbiBpc0VTNk1hcCh0aGluZykge1xyXG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgTWFwO1xyXG59XHJcbmZ1bmN0aW9uIGlzRVM2U2V0KHRoaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiBTZXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGZvbGxvd2luZzogb3duIGtleXMsIHByb3RvdHlwZSBrZXlzICYgb3duIHN5bWJvbCBrZXlzLCBpZiB0aGV5IGFyZSBlbnVtZXJhYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGxhaW5PYmplY3RLZXlzKG9iamVjdCkge1xyXG4gICAgdmFyIGVudW1lcmFibGVzID0gbmV3IFNldCgpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdClcclxuICAgICAgICBlbnVtZXJhYmxlcy5hZGQoa2V5KTsgLy8gKmFsbCogZW51bWVyYWJsZXNcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBrKS5lbnVtZXJhYmxlKVxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlcy5hZGQoayk7XHJcbiAgICB9KTsgLy8gKm93biogc3ltYm9sc1xyXG4gICAgLy8gTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBtaXNzaW5nIGVudW1lcmFibGUsIGluaGVyaXRlZCwgc3ltYm9saWMgcHJvcGVydHkgbmFtZXMhIFRoYXQgd291bGQgaG93ZXZlciBwcmV0dHkgZXhwZW5zaXZlIHRvIGFkZCxcclxuICAgIC8vIGFzIHRoZXJlIGlzIG5vIGVmZmljaWVudCBpdGVyYXRvciB0aGF0IHJldHVybnMgKmFsbCogcHJvcGVydGllc1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZW51bWVyYWJsZXMpO1xyXG59XHJcbmZ1bmN0aW9uIHN0cmluZ2lmeUtleShrZXkpIHtcclxuICAgIGlmIChrZXkgJiYga2V5LnRvU3RyaW5nKVxyXG4gICAgICAgIHJldHVybiBrZXkudG9TdHJpbmcoKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gbmV3IFN0cmluZyhrZXkpLnRvU3RyaW5nKCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWFwTGlrZUtleXMobWFwKSB7XHJcbiAgICBpZiAoaXNQbGFpbk9iamVjdChtYXApKVxyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWFwKSlcclxuICAgICAgICByZXR1cm4gbWFwLm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAxKSwga2V5ID0gX2JbMF07XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpZiAoaXNFUzZNYXAobWFwKSB8fCBpc09ic2VydmFibGVNYXAobWFwKSlcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShtYXAua2V5cygpKTtcclxuICAgIHJldHVybiBmYWlsKFwiQ2Fubm90IGdldCBrZXlzIGZyb20gJ1wiICsgbWFwICsgXCInXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBudWxsIDogdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gXCJcIiArIHZhbHVlIDogdmFsdWU7XHJcbn1cblxudmFyICRtb2J4ID0gU3ltYm9sKFwibW9ieCBhZG1pbmlzdHJhdGlvblwiKTtcclxudmFyIEF0b20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBhdG9tLiBGb3IgZGVidWdnaW5nIHB1cnBvc2VzIGl0IGlzIHJlY29tbWVuZGVkIHRvIGdpdmUgaXQgYSBuYW1lLlxyXG4gICAgICogVGhlIG9uQmVjb21lT2JzZXJ2ZWQgYW5kIG9uQmVjb21lVW5vYnNlcnZlZCBjYWxsYmFja3MgY2FuIGJlIHVzZWQgZm9yIHJlc291cmNlIG1hbmFnZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEF0b20obmFtZSkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9IFwiQXRvbUBcIiArIGdldE5leHRJZCgpOyB9XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmlzUGVuZGluZ1Vub2JzZXJ2YXRpb24gPSBmYWxzZTsgLy8gZm9yIGVmZmVjdGl2ZSB1bm9ic2VydmluZy4gQmFzZUF0b20gaGFzIHRydWUsIGZvciBleHRyYSBvcHRpbWl6YXRpb24sIHNvIGl0cyBvbkJlY29tZVVub2JzZXJ2ZWQgbmV2ZXIgZ2V0cyBjYWxsZWQsIGJlY2F1c2UgaXQncyBub3QgbmVlZGVkXHJcbiAgICAgICAgdGhpcy5pc0JlaW5nT2JzZXJ2ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmRpZmZWYWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0QWNjZXNzZWRCeSA9IDA7XHJcbiAgICAgICAgdGhpcy5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkc7XHJcbiAgICB9XHJcbiAgICBBdG9tLnByb3RvdHlwZS5vbkJlY29tZU9ic2VydmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9uQmVjb21lT2JzZXJ2ZWRMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lcigpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQXRvbS5wcm90b3R5cGUub25CZWNvbWVVbm9ic2VydmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9uQmVjb21lVW5vYnNlcnZlZExpc3RlbmVycykge1xyXG4gICAgICAgICAgICB0aGlzLm9uQmVjb21lVW5vYnNlcnZlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlIHRoaXMgbWV0aG9kIHRvIG5vdGlmeSBtb2J4IHRoYXQgeW91ciBhdG9tIGhhcyBiZWVuIHVzZWQgc29tZWhvdy5cclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBjdXJyZW50bHkgYSByZWFjdGl2ZSBjb250ZXh0LlxyXG4gICAgICovXHJcbiAgICBBdG9tLnByb3RvdHlwZS5yZXBvcnRPYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gcmVwb3J0T2JzZXJ2ZWQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgX2FmdGVyXyB0aGlzIG1ldGhvZCBoYXMgY2hhbmdlZCB0byBzaWduYWwgbW9ieCB0aGF0IGFsbCBpdHMgb2JzZXJ2ZXJzIHNob3VsZCBpbnZhbGlkYXRlLlxyXG4gICAgICovXHJcbiAgICBBdG9tLnByb3RvdHlwZS5yZXBvcnRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN0YXJ0QmF0Y2goKTtcclxuICAgICAgICBwcm9wYWdhdGVDaGFuZ2VkKHRoaXMpO1xyXG4gICAgICAgIGVuZEJhdGNoKCk7XHJcbiAgICB9O1xyXG4gICAgQXRvbS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXRvbTtcclxufSgpKTtcclxudmFyIGlzQXRvbSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJBdG9tXCIsIEF0b20pO1xyXG5mdW5jdGlvbiBjcmVhdGVBdG9tKG5hbWUsIG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyLCBvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyKSB7XHJcbiAgICBpZiAob25CZWNvbWVPYnNlcnZlZEhhbmRsZXIgPT09IHZvaWQgMCkgeyBvbkJlY29tZU9ic2VydmVkSGFuZGxlciA9IG5vb3A7IH1cclxuICAgIGlmIChvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyID09PSB2b2lkIDApIHsgb25CZWNvbWVVbm9ic2VydmVkSGFuZGxlciA9IG5vb3A7IH1cclxuICAgIHZhciBhdG9tID0gbmV3IEF0b20obmFtZSk7XHJcbiAgICAvLyBkZWZhdWx0IGBub29wYCBsaXN0ZW5lciB3aWxsIG5vdCBpbml0aWFsaXplIHRoZSBob29rIFNldFxyXG4gICAgaWYgKG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyICE9PSBub29wKSB7XHJcbiAgICAgICAgb25CZWNvbWVPYnNlcnZlZChhdG9tLCBvbkJlY29tZU9ic2VydmVkSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAob25CZWNvbWVVbm9ic2VydmVkSGFuZGxlciAhPT0gbm9vcCkge1xyXG4gICAgICAgIG9uQmVjb21lVW5vYnNlcnZlZChhdG9tLCBvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhdG9tO1xyXG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5Q29tcGFyZXIoYSwgYikge1xyXG4gICAgcmV0dXJuIGEgPT09IGI7XHJcbn1cclxuZnVuY3Rpb24gc3RydWN0dXJhbENvbXBhcmVyKGEsIGIpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwoYSwgYik7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd0NvbXBhcmVyKGEsIGIpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwoYSwgYiwgMSk7XHJcbn1cclxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmVyKGEsIGIpIHtcclxuICAgIHJldHVybiBPYmplY3QuaXMoYSwgYik7XHJcbn1cclxudmFyIGNvbXBhcmVyID0ge1xyXG4gICAgaWRlbnRpdHk6IGlkZW50aXR5Q29tcGFyZXIsXHJcbiAgICBzdHJ1Y3R1cmFsOiBzdHJ1Y3R1cmFsQ29tcGFyZXIsXHJcbiAgICBkZWZhdWx0OiBkZWZhdWx0Q29tcGFyZXIsXHJcbiAgICBzaGFsbG93OiBzaGFsbG93Q29tcGFyZXJcclxufTtcblxudmFyIG1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sID0gU3ltYm9sKFwibW9ieCBkaWQgcnVuIGxhenkgaW5pdGlhbGl6ZXJzXCIpO1xyXG52YXIgbW9ieFBlbmRpbmdEZWNvcmF0b3JzID0gU3ltYm9sKFwibW9ieCBwZW5kaW5nIGRlY29yYXRvcnNcIik7XHJcbnZhciBlbnVtZXJhYmxlRGVzY3JpcHRvckNhY2hlID0ge307XHJcbnZhciBub25FbnVtZXJhYmxlRGVzY3JpcHRvckNhY2hlID0ge307XHJcbmZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5SW5pdGlhbGl6ZXJEZXNjcmlwdG9yKHByb3AsIGVudW1lcmFibGUpIHtcclxuICAgIHZhciBjYWNoZSA9IGVudW1lcmFibGUgPyBlbnVtZXJhYmxlRGVzY3JpcHRvckNhY2hlIDogbm9uRW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZTtcclxuICAgIHJldHVybiAoY2FjaGVbcHJvcF0gfHxcclxuICAgICAgICAoY2FjaGVbcHJvcF0gPSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZW51bWVyYWJsZSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplSW5zdGFuY2UodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcm9wXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVJbnN0YW5jZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxufVxyXG5mdW5jdGlvbiBpbml0aWFsaXplSW5zdGFuY2UodGFyZ2V0KSB7XHJcbiAgICB2YXIgZV8xLCBfYTtcclxuICAgIGlmICh0YXJnZXRbbW9ieERpZFJ1bkxhenlJbml0aWFsaXplcnNTeW1ib2xdID09PSB0cnVlKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciBkZWNvcmF0b3JzID0gdGFyZ2V0W21vYnhQZW5kaW5nRGVjb3JhdG9yc107XHJcbiAgICBpZiAoZGVjb3JhdG9ycykge1xyXG4gICAgICAgIGFkZEhpZGRlblByb3AodGFyZ2V0LCBtb2J4RGlkUnVuTGF6eUluaXRpYWxpemVyc1N5bWJvbCwgdHJ1ZSk7XHJcbiAgICAgICAgLy8gQnVpbGQgcHJvcGVydHkga2V5IGFycmF5IGZyb20gYm90aCBzdHJpbmdzIGFuZCBzeW1ib2xzXHJcbiAgICAgICAgdmFyIGtleXMgPSBfX3NwcmVhZChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGRlY29yYXRvcnMpLCBPYmplY3Qua2V5cyhkZWNvcmF0b3JzKSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5c18xID0gX192YWx1ZXMoa2V5cyksIGtleXNfMV8xID0ga2V5c18xLm5leHQoKTsgIWtleXNfMV8xLmRvbmU7IGtleXNfMV8xID0ga2V5c18xLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBkZWNvcmF0b3JzW2tleV07XHJcbiAgICAgICAgICAgICAgICBkLnByb3BlcnR5Q3JlYXRvcih0YXJnZXQsIGQucHJvcCwgZC5kZXNjcmlwdG9yLCBkLmRlY29yYXRvclRhcmdldCwgZC5kZWNvcmF0b3JBcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5c18xXzEgJiYgIWtleXNfMV8xLmRvbmUgJiYgKF9hID0ga2V5c18xLnJldHVybikpIF9hLmNhbGwoa2V5c18xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVByb3BEZWNvcmF0b3IocHJvcGVydHlJbml0aWFsbHlFbnVtZXJhYmxlLCBwcm9wZXJ0eUNyZWF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3JGYWN0b3J5KCkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JBcmd1bWVudHM7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvciA9IGZ1bmN0aW9uIGRlY29yYXRlKHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvciwgYXBwbHlJbW1lZGlhdGVseVxyXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIHBhcmFtZXRlciB0byBzaWduYWwgdGhlIGRpcmVjdCBhcHBsaWNhdGlvbiBvZiBhIGRlY29yYXRvciwgYWxsb3cgZXh0ZW5kT2JzZXJ2YWJsZSB0byBza2lwIHRoZSBlbnRpcmUgdHlwZSBkZWNvcmF0aW9uIHBhcnQsXHJcbiAgICAgICAgLy8gYXMgdGhlIGluc3RhbmNlIHRvIGFwcGx5IHRoZSBkZWNvcmF0b3IgdG8gZXF1YWxzIHRoZSB0YXJnZXRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKGFwcGx5SW1tZWRpYXRlbHkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5Q3JlYXRvcih0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IsIHRhcmdldCwgZGVjb3JhdG9yQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIXF1YWNrc0xpa2VBRGVjb3JhdG9yKGFyZ3VtZW50cykpXHJcbiAgICAgICAgICAgICAgICBmYWlsKFwiVGhpcyBmdW5jdGlvbiBpcyBhIGRlY29yYXRvciwgYnV0IGl0IHdhc24ndCBpbnZva2VkIGxpa2UgYSBkZWNvcmF0b3JcIik7XHJcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgbW9ieFBlbmRpbmdEZWNvcmF0b3JzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluaGVyaXRlZERlY29yYXRvcnMgPSB0YXJnZXRbbW9ieFBlbmRpbmdEZWNvcmF0b3JzXTtcclxuICAgICAgICAgICAgICAgIGFkZEhpZGRlblByb3AodGFyZ2V0LCBtb2J4UGVuZGluZ0RlY29yYXRvcnMsIF9fYXNzaWduKHt9LCBpbmhlcml0ZWREZWNvcmF0b3JzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0W21vYnhQZW5kaW5nRGVjb3JhdG9yc11bcHJvcF0gPSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBwcm9wLFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDcmVhdG9yOiBwcm9wZXJ0eUNyZWF0b3IsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxyXG4gICAgICAgICAgICAgICAgZGVjb3JhdG9yVGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JBcmd1bWVudHM6IGRlY29yYXRvckFyZ3VtZW50c1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUHJvcGVydHlJbml0aWFsaXplckRlc2NyaXB0b3IocHJvcCwgcHJvcGVydHlJbml0aWFsbHlFbnVtZXJhYmxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChxdWFja3NMaWtlQURlY29yYXRvcihhcmd1bWVudHMpKSB7XHJcbiAgICAgICAgICAgIC8vIEBkZWNvcmF0b3JcclxuICAgICAgICAgICAgZGVjb3JhdG9yQXJndW1lbnRzID0gRU1QVFlfQVJSQVk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3IuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEBkZWNvcmF0b3IoYXJncylcclxuICAgICAgICAgICAgZGVjb3JhdG9yQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHF1YWNrc0xpa2VBRGVjb3JhdG9yKGFyZ3MpIHtcclxuICAgIHJldHVybiAoKChhcmdzLmxlbmd0aCA9PT0gMiB8fCBhcmdzLmxlbmd0aCA9PT0gMykgJiZcclxuICAgICAgICAodHlwZW9mIGFyZ3NbMV0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGFyZ3NbMV0gPT09IFwic3ltYm9sXCIpKSB8fFxyXG4gICAgICAgIChhcmdzLmxlbmd0aCA9PT0gNCAmJiBhcmdzWzNdID09PSB0cnVlKSk7XHJcbn1cblxuZnVuY3Rpb24gZGVlcEVuaGFuY2VyKHYsIF8sIG5hbWUpIHtcclxuICAgIC8vIGl0IGlzIGFuIG9ic2VydmFibGUgYWxyZWFkeSwgZG9uZVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZSh2KSlcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIC8vIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgYW5kIG11dGF0ZWQ/XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSlcclxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5hcnJheSh2LCB7IG5hbWU6IG5hbWUgfSk7XHJcbiAgICBpZiAoaXNQbGFpbk9iamVjdCh2KSlcclxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5vYmplY3QodiwgdW5kZWZpbmVkLCB7IG5hbWU6IG5hbWUgfSk7XHJcbiAgICBpZiAoaXNFUzZNYXAodikpXHJcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGUubWFwKHYsIHsgbmFtZTogbmFtZSB9KTtcclxuICAgIGlmIChpc0VTNlNldCh2KSlcclxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5zZXQodiwgeyBuYW1lOiBuYW1lIH0pO1xyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd0VuaGFuY2VyKHYsIF8sIG5hbWUpIHtcclxuICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gbnVsbClcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QodikgfHwgaXNPYnNlcnZhYmxlQXJyYXkodikgfHwgaXNPYnNlcnZhYmxlTWFwKHYpIHx8IGlzT2JzZXJ2YWJsZVNldCh2KSlcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHYpKVxyXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlLmFycmF5KHYsIHsgbmFtZTogbmFtZSwgZGVlcDogZmFsc2UgfSk7XHJcbiAgICBpZiAoaXNQbGFpbk9iamVjdCh2KSlcclxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5vYmplY3QodiwgdW5kZWZpbmVkLCB7IG5hbWU6IG5hbWUsIGRlZXA6IGZhbHNlIH0pO1xyXG4gICAgaWYgKGlzRVM2TWFwKHYpKVxyXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlLm1hcCh2LCB7IG5hbWU6IG5hbWUsIGRlZXA6IGZhbHNlIH0pO1xyXG4gICAgaWYgKGlzRVM2U2V0KHYpKVxyXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnNldCh2LCB7IG5hbWU6IG5hbWUsIGRlZXA6IGZhbHNlIH0pO1xyXG4gICAgcmV0dXJuIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgXCJUaGUgc2hhbGxvdyBtb2RpZmllciAvIGRlY29yYXRvciBjYW4gb25seSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggYXJyYXlzLCBvYmplY3RzLCBtYXBzIGFuZCBzZXRzXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHJlZmVyZW5jZUVuaGFuY2VyKG5ld1ZhbHVlKSB7XHJcbiAgICAvLyBuZXZlciB0dXJuIGludG8gYW4gb2JzZXJ2YWJsZVxyXG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlZlN0cnVjdEVuaGFuY2VyKHYsIG9sZFZhbHVlLCBuYW1lKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzT2JzZXJ2YWJsZSh2KSlcclxuICAgICAgICB0aHJvdyBcIm9ic2VydmFibGUuc3RydWN0IHNob3VsZCBub3QgYmUgdXNlZCB3aXRoIG9ic2VydmFibGUgdmFsdWVzXCI7XHJcbiAgICBpZiAoZGVlcEVxdWFsKHYsIG9sZFZhbHVlKSlcclxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XHJcbiAgICByZXR1cm4gdjtcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlcihlbmhhbmNlcikge1xyXG4gICAgaW52YXJpYW50KGVuaGFuY2VyKTtcclxuICAgIHZhciBkZWNvcmF0b3IgPSBjcmVhdGVQcm9wRGVjb3JhdG9yKHRydWUsIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvciwgX2RlY29yYXRvclRhcmdldCwgZGVjb3JhdG9yQXJncykge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgICAgICAgICAgaW52YXJpYW50KCFkZXNjcmlwdG9yIHx8ICFkZXNjcmlwdG9yLmdldCwgXCJAb2JzZXJ2YWJsZSBjYW5ub3QgYmUgdXNlZCBvbiBnZXR0ZXIgKHByb3BlcnR5IFxcXCJcIiArIHN0cmluZ2lmeUtleShwcm9wZXJ0eU5hbWUpICsgXCJcXFwiKSwgdXNlIEBjb21wdXRlZCBpbnN0ZWFkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc2NyaXB0b3JcclxuICAgICAgICAgICAgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyXHJcbiAgICAgICAgICAgICAgICA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbCh0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICA6IGRlc2NyaXB0b3IudmFsdWVcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgYXNPYnNlcnZhYmxlT2JqZWN0KHRhcmdldCkuYWRkT2JzZXJ2YWJsZVByb3AocHJvcGVydHlOYW1lLCBpbml0aWFsVmFsdWUsIGVuaGFuY2VyKTtcclxuICAgIH0pO1xyXG4gICAgdmFyIHJlcyA9IFxyXG4gICAgLy8gRXh0cmEgcHJvY2VzcyBjaGVja3MsIGFzIHRoaXMgaGFwcGVucyBkdXJpbmcgbW9kdWxlIGluaXRpYWxpemF0aW9uXHJcbiAgICB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCJcclxuICAgICAgICA/IGZ1bmN0aW9uIG9ic2VydmFibGVEZWNvcmF0b3IoKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd3JhcHBlciBmdW5jdGlvbiBpcyBqdXN0IHRvIGRldGVjdCBpbGxlZ2FsIGRlY29yYXRvciBpbnZvY2F0aW9ucywgZGVwcmVjYXRlIGluIGEgbmV4dCB2ZXJzaW9uXHJcbiAgICAgICAgICAgIC8vIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjcmVhdGVkIHByb3AgZGVjb3JhdG9yXHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMilcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKFwiSW5jb3JyZWN0IGRlY29yYXRvciBpbnZvY2F0aW9uLiBAb2JzZXJ2YWJsZSBkZWNvcmF0b3IgZG9lc24ndCBleHBlY3QgYW55IGFyZ3VtZW50c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICA6IGRlY29yYXRvcjtcclxuICAgIHJlcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG4vLyBQcmVkZWZpbmVkIGJhZ3Mgb2YgY3JlYXRlIG9ic2VydmFibGUgb3B0aW9ucywgdG8gYXZvaWQgYWxsb2NhdGluZyB0ZW1wb3JhcmlseSBvcHRpb24gb2JqZWN0c1xyXG4vLyBpbiB0aGUgbWFqb3JpdHkgb2YgY2FzZXNcclxudmFyIGRlZmF1bHRDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyA9IHtcclxuICAgIGRlZXA6IHRydWUsXHJcbiAgICBuYW1lOiB1bmRlZmluZWQsXHJcbiAgICBkZWZhdWx0RGVjb3JhdG9yOiB1bmRlZmluZWQsXHJcbiAgICBwcm94eTogdHJ1ZVxyXG59O1xyXG5PYmplY3QuZnJlZXplKGRlZmF1bHRDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyk7XHJcbmZ1bmN0aW9uIGFzc2VydFZhbGlkT3B0aW9uKGtleSkge1xyXG4gICAgaWYgKCEvXihkZWVwfG5hbWV8ZXF1YWxzfGRlZmF1bHREZWNvcmF0b3J8cHJveHkpJC8udGVzdChrZXkpKVxyXG4gICAgICAgIGZhaWwoXCJpbnZhbGlkIG9wdGlvbiBmb3IgKGV4dGVuZClvYnNlcnZhYmxlOiBcIiArIGtleSk7XHJcbn1cclxuZnVuY3Rpb24gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyh0aGluZykge1xyXG4gICAgaWYgKHRoaW5nID09PSBudWxsIHx8IHRoaW5nID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucztcclxuICAgIGlmICh0eXBlb2YgdGhpbmcgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogdGhpbmcsIGRlZXA6IHRydWUsIHByb3h5OiB0cnVlIH07XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGluZyAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgcmV0dXJuIGZhaWwoXCJleHBlY3RlZCBvcHRpb25zIG9iamVjdFwiKTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGluZykuZm9yRWFjaChhc3NlcnRWYWxpZE9wdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpbmc7XHJcbn1cclxudmFyIGRlZXBEZWNvcmF0b3IgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlcihkZWVwRW5oYW5jZXIpO1xyXG52YXIgc2hhbGxvd0RlY29yYXRvciA9IGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyKHNoYWxsb3dFbmhhbmNlcik7XHJcbnZhciByZWZEZWNvcmF0b3IgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlcihyZWZlcmVuY2VFbmhhbmNlcik7XHJcbnZhciByZWZTdHJ1Y3REZWNvcmF0b3IgPSBjcmVhdGVEZWNvcmF0b3JGb3JFbmhhbmNlcihyZWZTdHJ1Y3RFbmhhbmNlcik7XHJcbmZ1bmN0aW9uIGdldEVuaGFuY2VyRnJvbU9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdERlY29yYXRvclxyXG4gICAgICAgID8gb3B0aW9ucy5kZWZhdWx0RGVjb3JhdG9yLmVuaGFuY2VyXHJcbiAgICAgICAgOiBvcHRpb25zLmRlZXAgPT09IGZhbHNlXHJcbiAgICAgICAgICAgID8gcmVmZXJlbmNlRW5oYW5jZXJcclxuICAgICAgICAgICAgOiBkZWVwRW5oYW5jZXI7XHJcbn1cclxuLyoqXHJcbiAqIFR1cm5zIGFuIG9iamVjdCwgYXJyYXkgb3IgZnVuY3Rpb24gaW50byBhIHJlYWN0aXZlIHN0cnVjdHVyZS5cclxuICogQHBhcmFtIHYgdGhlIHZhbHVlIHdoaWNoIHNob3VsZCBiZWNvbWUgb2JzZXJ2YWJsZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmFibGUodiwgYXJnMiwgYXJnMykge1xyXG4gICAgLy8gQG9ic2VydmFibGUgc29tZVByb3A7XHJcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcInN5bWJvbFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZXBEZWNvcmF0b3IuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuICAgIC8vIGl0IGlzIGFuIG9ic2VydmFibGUgYWxyZWFkeSwgZG9uZVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZSh2KSlcclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIC8vIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgYW5kIG11dGF0ZWQ/XHJcbiAgICB2YXIgcmVzID0gaXNQbGFpbk9iamVjdCh2KVxyXG4gICAgICAgID8gb2JzZXJ2YWJsZS5vYmplY3QodiwgYXJnMiwgYXJnMylcclxuICAgICAgICA6IEFycmF5LmlzQXJyYXkodilcclxuICAgICAgICAgICAgPyBvYnNlcnZhYmxlLmFycmF5KHYsIGFyZzIpXHJcbiAgICAgICAgICAgIDogaXNFUzZNYXAodilcclxuICAgICAgICAgICAgICAgID8gb2JzZXJ2YWJsZS5tYXAodiwgYXJnMilcclxuICAgICAgICAgICAgICAgIDogaXNFUzZTZXQodilcclxuICAgICAgICAgICAgICAgICAgICA/IG9ic2VydmFibGUuc2V0KHYsIGFyZzIpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB2O1xyXG4gICAgLy8gdGhpcyB2YWx1ZSBjb3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSBuZXcgb2JzZXJ2YWJsZSBkYXRhIHN0cnVjdHVyZSwgcmV0dXJuIGl0XHJcbiAgICBpZiAocmVzICE9PSB2KVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAvLyBvdGhlcndpc2UsIGp1c3QgYm94IGl0XHJcbiAgICBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgIFwiVGhlIHByb3ZpZGVkIHZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQgaW50byBhbiBvYnNlcnZhYmxlLiBJZiB5b3Ugd2FudCBqdXN0IGNyZWF0ZSBhbiBvYnNlcnZhYmxlIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHVzZSAnb2JzZXJ2YWJsZS5ib3godmFsdWUpJ1wiKTtcclxufVxyXG52YXIgb2JzZXJ2YWJsZUZhY3RvcmllcyA9IHtcclxuICAgIGJveDogZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKVxyXG4gICAgICAgICAgICBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcImJveFwiKTtcclxuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVmFsdWUodmFsdWUsIGdldEVuaGFuY2VyRnJvbU9wdGlvbnMobyksIG8ubmFtZSwgdHJ1ZSwgby5lcXVhbHMpO1xyXG4gICAgfSxcclxuICAgIGFycmF5OiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlcywgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMilcclxuICAgICAgICAgICAgaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IoXCJhcnJheVwiKTtcclxuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9ic2VydmFibGVBcnJheShpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xyXG4gICAgfSxcclxuICAgIG1hcDogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZXMsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpXHJcbiAgICAgICAgICAgIGluY29ycmVjdGx5VXNlZEFzRGVjb3JhdG9yKFwibWFwXCIpO1xyXG4gICAgICAgIHZhciBvID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVNYXAoaW5pdGlhbFZhbHVlcywgZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyhvKSwgby5uYW1lKTtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWVzLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKVxyXG4gICAgICAgICAgICBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcInNldFwiKTtcclxuICAgICAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlU2V0KGluaXRpYWxWYWx1ZXMsIGdldEVuaGFuY2VyRnJvbU9wdGlvbnMobyksIG8ubmFtZSk7XHJcbiAgICB9LFxyXG4gICAgb2JqZWN0OiBmdW5jdGlvbiAocHJvcHMsIGRlY29yYXRvcnMsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IoXCJvYmplY3RcIik7XHJcbiAgICAgICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvLnByb3h5ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kT2JzZXJ2YWJsZSh7fSwgcHJvcHMsIGRlY29yYXRvcnMsIG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGRlZmF1bHREZWNvcmF0b3IgPSBnZXREZWZhdWx0RGVjb3JhdG9yRnJvbU9iamVjdE9wdGlvbnMobyk7XHJcbiAgICAgICAgICAgIHZhciBiYXNlID0gZXh0ZW5kT2JzZXJ2YWJsZSh7fSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG8pO1xyXG4gICAgICAgICAgICB2YXIgcHJveHkgPSBjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdChiYXNlKTtcclxuICAgICAgICAgICAgZXh0ZW5kT2JzZXJ2YWJsZU9iamVjdFdpdGhQcm9wZXJ0aWVzKHByb3h5LCBwcm9wcywgZGVjb3JhdG9ycywgZGVmYXVsdERlY29yYXRvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVmOiByZWZEZWNvcmF0b3IsXHJcbiAgICBzaGFsbG93OiBzaGFsbG93RGVjb3JhdG9yLFxyXG4gICAgZGVlcDogZGVlcERlY29yYXRvcixcclxuICAgIHN0cnVjdDogcmVmU3RydWN0RGVjb3JhdG9yXHJcbn07XHJcbnZhciBvYnNlcnZhYmxlID0gY3JlYXRlT2JzZXJ2YWJsZTtcclxuLy8gd2VpcmQgdHJpY2sgdG8ga2VlcCBvdXIgdHlwaW5ncyBuaWNlbHkgd2l0aCBvdXIgZnVuY3MsIGFuZCBzdGlsbCBleHRlbmQgdGhlIG9ic2VydmFibGUgZnVuY3Rpb25cclxuT2JqZWN0LmtleXMob2JzZXJ2YWJsZUZhY3RvcmllcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gKG9ic2VydmFibGVbbmFtZV0gPSBvYnNlcnZhYmxlRmFjdG9yaWVzW25hbWVdKTsgfSk7XHJcbmZ1bmN0aW9uIGluY29ycmVjdGx5VXNlZEFzRGVjb3JhdG9yKG1ldGhvZE5hbWUpIHtcclxuICAgIGZhaWwoXHJcbiAgICAvLyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgIFwiRXhwZWN0ZWQgb25lIG9yIHR3byBhcmd1bWVudHMgdG8gb2JzZXJ2YWJsZS5cIiArIG1ldGhvZE5hbWUgKyBcIi4gRGlkIHlvdSBhY2NpZGVudGFsbHkgdHJ5IHRvIHVzZSBvYnNlcnZhYmxlLlwiICsgbWV0aG9kTmFtZSArIFwiIGFzIGRlY29yYXRvcj9cIik7XHJcbn1cblxudmFyIGNvbXB1dGVkRGVjb3JhdG9yID0gY3JlYXRlUHJvcERlY29yYXRvcihmYWxzZSwgZnVuY3Rpb24gKGluc3RhbmNlLCBwcm9wZXJ0eU5hbWUsIGRlc2NyaXB0b3IsIGRlY29yYXRvclRhcmdldCwgZGVjb3JhdG9yQXJncykge1xyXG4gICAgdmFyIGdldCA9IGRlc2NyaXB0b3IuZ2V0LCBzZXQgPSBkZXNjcmlwdG9yLnNldDsgLy8gaW5pdGlhbFZhbHVlIGlzIHRoZSBkZXNjcmlwdG9yIGZvciBnZXQgLyBzZXQgcHJvcHNcclxuICAgIC8vIE9wdGltaXphdGlvbjogZmFzdGVyIG9uIGRlY29yYXRvciB0YXJnZXQgb3IgaW5zdGFuY2U/IEFzc3VtaW5nIHRhcmdldFxyXG4gICAgLy8gT3B0aW1pemF0aW9uOiBmaW5kIG91dCBpZiBkZWNsYXJpbmcgb24gaW5zdGFuY2UgaXNuJ3QganVzdCBmYXN0ZXIuIChhbHNvIG1ha2VzIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHNpbXBsZXIpLiBCdXQsIG1vcmUgbWVtb3J5IHVzYWdlLi5cclxuICAgIC8vIEZvcmNpbmcgaW5zdGFuY2Ugbm93LCBmaXhlcyBob3QgcmVsb2FkaWcgaXNzdWVzIG9uIFJlYWN0IE5hdGl2ZTpcclxuICAgIHZhciBvcHRpb25zID0gZGVjb3JhdG9yQXJnc1swXSB8fCB7fTtcclxuICAgIGFzT2JzZXJ2YWJsZU9iamVjdChpbnN0YW5jZSkuYWRkQ29tcHV0ZWRQcm9wKGluc3RhbmNlLCBwcm9wZXJ0eU5hbWUsIF9fYXNzaWduKHsgZ2V0OiBnZXQsXHJcbiAgICAgICAgc2V0OiBzZXQsIGNvbnRleHQ6IGluc3RhbmNlIH0sIG9wdGlvbnMpKTtcclxufSk7XHJcbnZhciBjb21wdXRlZFN0cnVjdERlY29yYXRvciA9IGNvbXB1dGVkRGVjb3JhdG9yKHsgZXF1YWxzOiBjb21wYXJlci5zdHJ1Y3R1cmFsIH0pO1xyXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBjbGFzcyBwcm9wZXJ0aWVzOiBAY29tcHV0ZWQgZ2V0IHZhbHVlKCkgeyByZXR1cm4gZXhwcjsgfS5cclxuICogRm9yIGxlZ2FjeSBwdXJwb3NlcyBhbHNvIGludm9rYWJsZSBhcyBFUzUgb2JzZXJ2YWJsZSBjcmVhdGVkOiBgY29tcHV0ZWQoKCkgPT4gZXhwcilgO1xyXG4gKi9cclxudmFyIGNvbXB1dGVkID0gZnVuY3Rpb24gY29tcHV0ZWQoYXJnMSwgYXJnMiwgYXJnMykge1xyXG4gICAgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgLy8gQGNvbXB1dGVkXHJcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkRGVjb3JhdG9yLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnMSAhPT0gbnVsbCAmJiB0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgLy8gQGNvbXB1dGVkKHsgb3B0aW9ucyB9KVxyXG4gICAgICAgIHJldHVybiBjb21wdXRlZERlY29yYXRvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG4gICAgLy8gY29tcHV0ZWQoZXhwciwgb3B0aW9ucz8pXHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBhcmcxID09PSBcImZ1bmN0aW9uXCIsIFwiRmlyc3QgYXJndW1lbnQgdG8gYGNvbXB1dGVkYCBzaG91bGQgYmUgYW4gZXhwcmVzc2lvbi5cIik7XHJcbiAgICAgICAgaW52YXJpYW50KGFyZ3VtZW50cy5sZW5ndGggPCAzLCBcIkNvbXB1dGVkIHRha2VzIG9uZSBvciB0d28gYXJndW1lbnRzIGlmIHVzZWQgYXMgZnVuY3Rpb25cIik7XHJcbiAgICB9XHJcbiAgICB2YXIgb3B0cyA9IHR5cGVvZiBhcmcyID09PSBcIm9iamVjdFwiID8gYXJnMiA6IHt9O1xyXG4gICAgb3B0cy5nZXQgPSBhcmcxO1xyXG4gICAgb3B0cy5zZXQgPSB0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiID8gYXJnMiA6IG9wdHMuc2V0O1xyXG4gICAgb3B0cy5uYW1lID0gb3B0cy5uYW1lIHx8IGFyZzEubmFtZSB8fCBcIlwiOyAvKiBmb3IgZ2VuZXJhdGVkIG5hbWUgKi9cclxuICAgIHJldHVybiBuZXcgQ29tcHV0ZWRWYWx1ZShvcHRzKTtcclxufTtcclxuY29tcHV0ZWQuc3RydWN0ID0gY29tcHV0ZWRTdHJ1Y3REZWNvcmF0b3I7XG5cbnZhciBJRGVyaXZhdGlvblN0YXRlO1xyXG4oZnVuY3Rpb24gKElEZXJpdmF0aW9uU3RhdGUpIHtcclxuICAgIC8vIGJlZm9yZSBiZWluZyBydW4gb3IgKG91dHNpZGUgYmF0Y2ggYW5kIG5vdCBiZWluZyBvYnNlcnZlZClcclxuICAgIC8vIGF0IHRoaXMgcG9pbnQgZGVyaXZhdGlvbiBpcyBub3QgaG9sZGluZyBhbnkgZGF0YSBhYm91dCBkZXBlbmRlbmN5IHRyZWVcclxuICAgIElEZXJpdmF0aW9uU3RhdGVbSURlcml2YXRpb25TdGF0ZVtcIk5PVF9UUkFDS0lOR1wiXSA9IC0xXSA9IFwiTk9UX1RSQUNLSU5HXCI7XHJcbiAgICAvLyBubyBzaGFsbG93IGRlcGVuZGVuY3kgY2hhbmdlZCBzaW5jZSBsYXN0IGNvbXB1dGF0aW9uXHJcbiAgICAvLyB3b24ndCByZWNhbGN1bGF0ZSBkZXJpdmF0aW9uXHJcbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFrZXMgbW9ieCBmYXN0XHJcbiAgICBJRGVyaXZhdGlvblN0YXRlW0lEZXJpdmF0aW9uU3RhdGVbXCJVUF9UT19EQVRFXCJdID0gMF0gPSBcIlVQX1RPX0RBVEVcIjtcclxuICAgIC8vIHNvbWUgZGVlcCBkZXBlbmRlbmN5IGNoYW5nZWQsIGJ1dCBkb24ndCBrbm93IGlmIHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkXHJcbiAgICAvLyB3aWxsIHJlcXVpcmUgdG8gY2hlY2sgZmlyc3QgaWYgVVBfVE9fREFURSBvciBQT1NTSUJMWV9TVEFMRVxyXG4gICAgLy8gY3VycmVudGx5IG9ubHkgQ29tcHV0ZWRWYWx1ZSB3aWxsIHByb3BhZ2F0ZSBQT1NTSUJMWV9TVEFMRVxyXG4gICAgLy9cclxuICAgIC8vIGhhdmluZyB0aGlzIHN0YXRlIGlzIHNlY29uZCBiaWcgb3B0aW1pemF0aW9uOlxyXG4gICAgLy8gZG9uJ3QgaGF2ZSB0byByZWNvbXB1dGUgb24gZXZlcnkgZGVwZW5kZW5jeSBjaGFuZ2UsIGJ1dCBvbmx5IHdoZW4gaXQncyBuZWVkZWRcclxuICAgIElEZXJpdmF0aW9uU3RhdGVbSURlcml2YXRpb25TdGF0ZVtcIlBPU1NJQkxZX1NUQUxFXCJdID0gMV0gPSBcIlBPU1NJQkxZX1NUQUxFXCI7XHJcbiAgICAvLyBBIHNoYWxsb3cgZGVwZW5kZW5jeSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0IGNvbXB1dGF0aW9uIGFuZCB0aGUgZGVyaXZhdGlvblxyXG4gICAgLy8gd2lsbCBuZWVkIHRvIHJlY29tcHV0ZSB3aGVuIGl0J3MgbmVlZGVkIG5leHQuXHJcbiAgICBJRGVyaXZhdGlvblN0YXRlW0lEZXJpdmF0aW9uU3RhdGVbXCJTVEFMRVwiXSA9IDJdID0gXCJTVEFMRVwiO1xyXG59KShJRGVyaXZhdGlvblN0YXRlIHx8IChJRGVyaXZhdGlvblN0YXRlID0ge30pKTtcclxudmFyIFRyYWNlTW9kZTtcclxuKGZ1bmN0aW9uIChUcmFjZU1vZGUpIHtcclxuICAgIFRyYWNlTW9kZVtUcmFjZU1vZGVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgIFRyYWNlTW9kZVtUcmFjZU1vZGVbXCJMT0dcIl0gPSAxXSA9IFwiTE9HXCI7XHJcbiAgICBUcmFjZU1vZGVbVHJhY2VNb2RlW1wiQlJFQUtcIl0gPSAyXSA9IFwiQlJFQUtcIjtcclxufSkoVHJhY2VNb2RlIHx8IChUcmFjZU1vZGUgPSB7fSkpO1xyXG52YXIgQ2F1Z2h0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2F1Z2h0RXhjZXB0aW9uKGNhdXNlKSB7XHJcbiAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xyXG4gICAgICAgIC8vIEVtcHR5XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ2F1Z2h0RXhjZXB0aW9uO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBpc0NhdWdodEV4Y2VwdGlvbihlKSB7XHJcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIENhdWdodEV4Y2VwdGlvbjtcclxufVxyXG4vKipcclxuICogRmluZHMgb3V0IHdoZXRoZXIgYW55IGRlcGVuZGVuY3kgb2YgdGhlIGRlcml2YXRpb24gaGFzIGFjdHVhbGx5IGNoYW5nZWQuXHJcbiAqIElmIGRlcGVuZGVuY2llc1N0YXRlIGlzIDEgdGhlbiBpdCB3aWxsIHJlY2FsY3VsYXRlIGRlcGVuZGVuY2llcyxcclxuICogaWYgYW55IGRlcGVuZGVuY3kgY2hhbmdlZCBpdCB3aWxsIHByb3BhZ2F0ZSBpdCBieSBjaGFuZ2luZyBkZXBlbmRlbmNpZXNTdGF0ZSB0byAyLlxyXG4gKlxyXG4gKiBCeSBpdGVyYXRpbmcgb3ZlciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgdGhleSB3ZXJlIHJlcG9ydGVkIGFuZFxyXG4gKiBzdG9wcGluZyBvbiB0aGUgZmlyc3QgY2hhbmdlLCBhbGwgdGhlIHJlY2FsY3VsYXRpb25zIGFyZSBvbmx5IGNhbGxlZCBmb3IgQ29tcHV0ZWRWYWx1ZXNcclxuICogdGhhdCB3aWxsIGJlIHRyYWNrZWQgYnkgZGVyaXZhdGlvbi4gVGhhdCBpcyBiZWNhdXNlIHdlIGFzc3VtZSB0aGF0IGlmIHRoZSBmaXJzdCB4XHJcbiAqIGRlcGVuZGVuY2llcyBvZiB0aGUgZGVyaXZhdGlvbiBkb2Vzbid0IGNoYW5nZSB0aGVuIHRoZSBkZXJpdmF0aW9uIHNob3VsZCBydW4gdGhlIHNhbWUgd2F5XHJcbiAqIHVwIHVudGlsIGFjY2Vzc2luZyB4LXRoIGRlcGVuZGVuY3kuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaG91bGRDb21wdXRlKGRlcml2YXRpb24pIHtcclxuICAgIHN3aXRjaCAoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFOlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORzpcclxuICAgICAgICBjYXNlIElEZXJpdmF0aW9uU3RhdGUuU1RBTEU6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGNhc2UgSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRToge1xyXG4gICAgICAgICAgICAvLyBzdGF0ZSBwcm9wYWdhdGlvbiBjYW4gb2NjdXIgb3V0c2lkZSBvZiBhY3Rpb24vcmVhY3RpdmUgY29udGV4dCAjMjE5NVxyXG4gICAgICAgICAgICB2YXIgcHJldkFsbG93U3RhdGVSZWFkcyA9IGFsbG93U3RhdGVSZWFkc1N0YXJ0KHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgcHJldlVudHJhY2tlZCA9IHVudHJhY2tlZFN0YXJ0KCk7IC8vIG5vIG5lZWQgZm9yIHRob3NlIGNvbXB1dGVkcyB0byBiZSByZXBvcnRlZCwgdGhleSB3aWxsIGJlIHBpY2tlZCB1cCBpbiB0cmFja0Rlcml2ZWRGdW5jdGlvbi5cclxuICAgICAgICAgICAgdmFyIG9icyA9IGRlcml2YXRpb24ub2JzZXJ2aW5nLCBsID0gb2JzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSBvYnNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wdXRlZFZhbHVlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGludGVyZXN0ZWQgaW4gdGhlIHZhbHVlICpvciogZXhjZXB0aW9uIGF0IHRoaXMgbW9tZW50LCBidXQgaWYgdGhlcmUgaXMgb25lLCBub3RpZnkgYWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQocHJldlVudHJhY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBDb21wdXRlZFZhbHVlIGBvYmpgIGFjdHVhbGx5IGNoYW5nZWQgaXQgd2lsbCBiZSBjb21wdXRlZCBhbmQgcHJvcGFnYXRlZCB0byBpdHMgb2JzZXJ2ZXJzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBgZGVyaXZhdGlvbmAgaXMgYW4gb2JzZXJ2ZXIgb2YgYG9iamBcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZhcmlhbnRTaG91bGRDb21wdXRlKGRlcml2YXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuU1RBTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW50cmFja2VkRW5kKHByZXZVbnRyYWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMChkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgdW50cmFja2VkRW5kKHByZXZVbnRyYWNrZWQpO1xyXG4gICAgICAgICAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gZnVuY3Rpb24gaW52YXJpYW50U2hvdWxkQ29tcHV0ZShkZXJpdmF0aW9uOiBJRGVyaXZhdGlvbikge1xyXG4vLyAgICAgY29uc3QgbmV3RGVwU3RhdGUgPSAoZGVyaXZhdGlvbiBhcyBhbnkpLmRlcGVuZGVuY2llc1N0YXRlXHJcbi8vICAgICBpZiAoXHJcbi8vICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiICYmXHJcbi8vICAgICAgICAgKG5ld0RlcFN0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlBPU1NJQkxZX1NUQUxFIHx8XHJcbi8vICAgICAgICAgICAgIG5ld0RlcFN0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORylcclxuLy8gICAgIClcclxuLy8gICAgICAgICBmYWlsKFwiSWxsZWdhbCBkZXBlbmRlbmN5IHN0YXRlXCIpXHJcbi8vIH1cclxuZnVuY3Rpb24gaXNDb21wdXRpbmdEZXJpdmF0aW9uKCkge1xyXG4gICAgcmV0dXJuIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbiAhPT0gbnVsbDsgLy8gZmlsdGVyIG91dCBhY3Rpb25zIGluc2lkZSBjb21wdXRhdGlvbnNcclxufVxyXG5mdW5jdGlvbiBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZChhdG9tKSB7XHJcbiAgICB2YXIgaGFzT2JzZXJ2ZXJzID0gYXRvbS5vYnNlcnZlcnMuc2l6ZSA+IDA7XHJcbiAgICAvLyBTaG91bGQgbmV2ZXIgYmUgcG9zc2libGUgdG8gY2hhbmdlIGFuIG9ic2VydmVkIG9ic2VydmFibGUgZnJvbSBpbnNpZGUgY29tcHV0ZWQsIHNlZSAjNzk4XHJcbiAgICBpZiAoZ2xvYmFsU3RhdGUuY29tcHV0YXRpb25EZXB0aCA+IDAgJiYgaGFzT2JzZXJ2ZXJzKVxyXG4gICAgICAgIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgIFwiQ29tcHV0ZWQgdmFsdWVzIGFyZSBub3QgYWxsb3dlZCB0byBjYXVzZSBzaWRlIGVmZmVjdHMgYnkgY2hhbmdpbmcgb2JzZXJ2YWJsZXMgdGhhdCBhcmUgYWxyZWFkeSBiZWluZyBvYnNlcnZlZC4gVHJpZWQgdG8gbW9kaWZ5OiBcIiArIGF0b20ubmFtZSk7XHJcbiAgICAvLyBTaG91bGQgbm90IGJlIHBvc3NpYmxlIHRvIGNoYW5nZSBvYnNlcnZlZCBzdGF0ZSBvdXRzaWRlIHN0cmljdCBtb2RlLCBleGNlcHQgZHVyaW5nIGluaXRpYWxpemF0aW9uLCBzZWUgIzU2M1xyXG4gICAgaWYgKCFnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyAmJiAoaGFzT2JzZXJ2ZXJzIHx8IGdsb2JhbFN0YXRlLmVuZm9yY2VBY3Rpb25zID09PSBcInN0cmljdFwiKSlcclxuICAgICAgICBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICAoZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnNcclxuICAgICAgICAgICAgICAgID8gXCJTaW5jZSBzdHJpY3QtbW9kZSBpcyBlbmFibGVkLCBjaGFuZ2luZyBvYnNlcnZlZCBvYnNlcnZhYmxlIHZhbHVlcyBvdXRzaWRlIGFjdGlvbnMgaXMgbm90IGFsbG93ZWQuIFBsZWFzZSB3cmFwIHRoZSBjb2RlIGluIGFuIGBhY3Rpb25gIGlmIHRoaXMgY2hhbmdlIGlzIGludGVuZGVkLiBUcmllZCB0byBtb2RpZnk6IFwiXHJcbiAgICAgICAgICAgICAgICA6IFwiU2lkZSBlZmZlY3RzIGxpa2UgY2hhbmdpbmcgc3RhdGUgYXJlIG5vdCBhbGxvd2VkIGF0IHRoaXMgcG9pbnQuIEFyZSB5b3UgdHJ5aW5nIHRvIG1vZGlmeSBzdGF0ZSBmcm9tLCBmb3IgZXhhbXBsZSwgdGhlIHJlbmRlciBmdW5jdGlvbiBvZiBhIFJlYWN0IGNvbXBvbmVudD8gVHJpZWQgdG8gbW9kaWZ5OiBcIikgK1xyXG4gICAgICAgICAgICAgICAgYXRvbS5uYW1lKTtcclxufVxyXG5mdW5jdGlvbiBjaGVja0lmU3RhdGVSZWFkc0FyZUFsbG93ZWQob2JzZXJ2YWJsZSkge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICFnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlUmVhZHMgJiZcclxuICAgICAgICBnbG9iYWxTdGF0ZS5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBPYnNlcnZhYmxlIFwiICsgb2JzZXJ2YWJsZS5uYW1lICsgXCIgYmVpbmcgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFwiKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIGBmYCBhbmQgdHJhY2tzIHdoaWNoIG9ic2VydmFibGVzIGFyZSBiZWluZyBhY2Nlc3NlZC5cclxuICogVGhlIHRyYWNraW5nIGluZm9ybWF0aW9uIGlzIHN0b3JlZCBvbiB0aGUgYGRlcml2YXRpb25gIG9iamVjdCBhbmQgdGhlIGRlcml2YXRpb24gaXMgcmVnaXN0ZXJlZFxyXG4gKiBhcyBvYnNlcnZlciBvZiBhbnkgb2YgdGhlIGFjY2Vzc2VkIG9ic2VydmFibGVzLlxyXG4gKi9cclxuZnVuY3Rpb24gdHJhY2tEZXJpdmVkRnVuY3Rpb24oZGVyaXZhdGlvbiwgZiwgY29udGV4dCkge1xyXG4gICAgdmFyIHByZXZBbGxvd1N0YXRlUmVhZHMgPSBhbGxvd1N0YXRlUmVhZHNTdGFydCh0cnVlKTtcclxuICAgIC8vIHByZSBhbGxvY2F0ZSBhcnJheSBhbGxvY2F0aW9uICsgcm9vbSBmb3IgdmFyaWF0aW9uIGluIGRlcHNcclxuICAgIC8vIGFycmF5IHdpbGwgYmUgdHJpbW1lZCBieSBiaW5kRGVwZW5kZW5jaWVzXHJcbiAgICBjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMChkZXJpdmF0aW9uKTtcclxuICAgIGRlcml2YXRpb24ubmV3T2JzZXJ2aW5nID0gbmV3IEFycmF5KGRlcml2YXRpb24ub2JzZXJ2aW5nLmxlbmd0aCArIDEwMCk7XHJcbiAgICBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnQgPSAwO1xyXG4gICAgZGVyaXZhdGlvbi5ydW5JZCA9ICsrZ2xvYmFsU3RhdGUucnVuSWQ7XHJcbiAgICB2YXIgcHJldlRyYWNraW5nID0gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xyXG4gICAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gZGVyaXZhdGlvbjtcclxuICAgIHZhciByZXN1bHQ7XHJcbiAgICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGYuY2FsbChjb250ZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGYuY2FsbChjb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IENhdWdodEV4Y2VwdGlvbihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24gPSBwcmV2VHJhY2tpbmc7XHJcbiAgICBiaW5kRGVwZW5kZW5jaWVzKGRlcml2YXRpb24pO1xyXG4gICAgd2FybkFib3V0RGVyaXZhdGlvbldpdGhvdXREZXBlbmRlbmNpZXMoZGVyaXZhdGlvbik7XHJcbiAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHdhcm5BYm91dERlcml2YXRpb25XaXRob3V0RGVwZW5kZW5jaWVzKGRlcml2YXRpb24pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGRlcml2YXRpb24ub2JzZXJ2aW5nLmxlbmd0aCAhPT0gMClcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoZ2xvYmFsU3RhdGUucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgfHwgZGVyaXZhdGlvbi5yZXF1aXJlc09ic2VydmFibGUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gRGVyaXZhdGlvbiBcIiArIGRlcml2YXRpb24ubmFtZSArIFwiIGlzIGNyZWF0ZWQvdXBkYXRlZCB3aXRob3V0IHJlYWRpbmcgYW55IG9ic2VydmFibGUgdmFsdWVcIik7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRpZmZzIG5ld09ic2VydmluZyB3aXRoIG9ic2VydmluZy5cclxuICogdXBkYXRlIG9ic2VydmluZyB0byBiZSBuZXdPYnNlcnZpbmcgd2l0aCB1bmlxdWUgb2JzZXJ2YWJsZXNcclxuICogbm90aWZ5IG9ic2VydmVycyB0aGF0IGJlY29tZSBvYnNlcnZlZC91bm9ic2VydmVkXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5kRGVwZW5kZW5jaWVzKGRlcml2YXRpb24pIHtcclxuICAgIC8vIGludmFyaWFudChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlICE9PSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORywgXCJJTlRFUk5BTCBFUlJPUiBiaW5kRGVwZW5kZW5jaWVzIGV4cGVjdHMgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTFcIik7XHJcbiAgICB2YXIgcHJldk9ic2VydmluZyA9IGRlcml2YXRpb24ub2JzZXJ2aW5nO1xyXG4gICAgdmFyIG9ic2VydmluZyA9IChkZXJpdmF0aW9uLm9ic2VydmluZyA9IGRlcml2YXRpb24ubmV3T2JzZXJ2aW5nKTtcclxuICAgIHZhciBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU7XHJcbiAgICAvLyBHbyB0aHJvdWdoIGFsbCBuZXcgb2JzZXJ2YWJsZXMgYW5kIGNoZWNrIGRpZmZWYWx1ZTogKHRoaXMgbGlzdCBjYW4gY29udGFpbiBkdXBsaWNhdGVzKTpcclxuICAgIC8vICAgMDogZmlyc3Qgb2NjdXJyZW5jZSwgY2hhbmdlIHRvIDEgYW5kIGtlZXAgaXRcclxuICAgIC8vICAgMTogZXh0cmEgb2NjdXJyZW5jZSwgZHJvcCBpdFxyXG4gICAgdmFyIGkwID0gMCwgbCA9IGRlcml2YXRpb24udW5ib3VuZERlcHNDb3VudDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRlcCA9IG9ic2VydmluZ1tpXTtcclxuICAgICAgICBpZiAoZGVwLmRpZmZWYWx1ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBkZXAuZGlmZlZhbHVlID0gMTtcclxuICAgICAgICAgICAgaWYgKGkwICE9PSBpKVxyXG4gICAgICAgICAgICAgICAgb2JzZXJ2aW5nW2kwXSA9IGRlcDtcclxuICAgICAgICAgICAgaTArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVXBjYXN0IGlzICdzYWZlJyBoZXJlLCBiZWNhdXNlIGlmIGRlcCBpcyBJT2JzZXJ2YWJsZSwgYGRlcGVuZGVuY2llc1N0YXRlYCB3aWxsIGJlIHVuZGVmaW5lZCxcclxuICAgICAgICAvLyBub3QgaGl0dGluZyB0aGUgY29uZGl0aW9uXHJcbiAgICAgICAgaWYgKGRlcC5kZXBlbmRlbmNpZXNTdGF0ZSA+IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSkge1xyXG4gICAgICAgICAgICBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgPSBkZXAuZGVwZW5kZW5jaWVzU3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb2JzZXJ2aW5nLmxlbmd0aCA9IGkwO1xyXG4gICAgZGVyaXZhdGlvbi5uZXdPYnNlcnZpbmcgPSBudWxsOyAvLyBuZXdPYnNlcnZpbmcgc2hvdWxkbid0IGJlIG5lZWRlZCBvdXRzaWRlIHRyYWNraW5nIChzdGF0ZW1lbnQgbW92ZWQgZG93biB0byB3b3JrIGFyb3VuZCBGRiBidWcsIHNlZSAjNjE0KVxyXG4gICAgLy8gR28gdGhyb3VnaCBhbGwgb2xkIG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6IChpdCBpcyB1bmlxdWUgYWZ0ZXIgbGFzdCBiaW5kRGVwZW5kZW5jaWVzKVxyXG4gICAgLy8gICAwOiBpdCdzIG5vdCBpbiBuZXcgb2JzZXJ2YWJsZXMsIHVub2JzZXJ2ZSBpdFxyXG4gICAgLy8gICAxOiBpdCBrZWVwcyBiZWluZyBvYnNlcnZlZCwgZG9uJ3Qgd2FudCB0byBub3RpZnkgaXQuIGNoYW5nZSB0byAwXHJcbiAgICBsID0gcHJldk9ic2VydmluZy5sZW5ndGg7XHJcbiAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgdmFyIGRlcCA9IHByZXZPYnNlcnZpbmdbbF07XHJcbiAgICAgICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDApIHtcclxuICAgICAgICAgICAgcmVtb3ZlT2JzZXJ2ZXIoZGVwLCBkZXJpdmF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVwLmRpZmZWYWx1ZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvLyBHbyB0aHJvdWdoIGFsbCBuZXcgb2JzZXJ2YWJsZXMgYW5kIGNoZWNrIGRpZmZWYWx1ZTogKG5vdyBpdCBzaG91bGQgYmUgdW5pcXVlKVxyXG4gICAgLy8gICAwOiBpdCB3YXMgc2V0IHRvIDAgaW4gbGFzdCBsb29wLiBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nLlxyXG4gICAgLy8gICAxOiBpdCB3YXNuJ3Qgb2JzZXJ2ZWQsIGxldCdzIG9ic2VydmUgaXQuIHNldCBiYWNrIHRvIDBcclxuICAgIHdoaWxlIChpMC0tKSB7XHJcbiAgICAgICAgdmFyIGRlcCA9IG9ic2VydmluZ1tpMF07XHJcbiAgICAgICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDEpIHtcclxuICAgICAgICAgICAgZGVwLmRpZmZWYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIGFkZE9ic2VydmVyKGRlcCwgZGVyaXZhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU29tZSBuZXcgb2JzZXJ2ZWQgZGVyaXZhdGlvbnMgbWF5IGJlY29tZSBzdGFsZSBkdXJpbmcgdGhpcyBkZXJpdmF0aW9uIGNvbXB1dGF0aW9uXHJcbiAgICAvLyBzbyB0aGV5IGhhdmUgaGFkIG5vIGNoYW5jZSB0byBwcm9wYWdhdGUgc3RhbGVuZXNzICgjOTE2KVxyXG4gICAgaWYgKGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSAhPT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSB7XHJcbiAgICAgICAgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSA9IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZTtcclxuICAgICAgICBkZXJpdmF0aW9uLm9uQmVjb21lU3RhbGUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjbGVhck9ic2VydmluZyhkZXJpdmF0aW9uKSB7XHJcbiAgICAvLyBpbnZhcmlhbnQoZ2xvYmFsU3RhdGUuaW5CYXRjaCA+IDAsIFwiSU5URVJOQUwgRVJST1IgY2xlYXJPYnNlcnZpbmcgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IGluc2lkZSBiYXRjaFwiKTtcclxuICAgIHZhciBvYnMgPSBkZXJpdmF0aW9uLm9ic2VydmluZztcclxuICAgIGRlcml2YXRpb24ub2JzZXJ2aW5nID0gW107XHJcbiAgICB2YXIgaSA9IG9icy5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKVxyXG4gICAgICAgIHJlbW92ZU9ic2VydmVyKG9ic1tpXSwgZGVyaXZhdGlvbik7XHJcbiAgICBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkc7XHJcbn1cclxuZnVuY3Rpb24gdW50cmFja2VkKGFjdGlvbikge1xyXG4gICAgdmFyIHByZXYgPSB1bnRyYWNrZWRTdGFydCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB1bnRyYWNrZWRFbmQocHJldik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW50cmFja2VkU3RhcnQoKSB7XHJcbiAgICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbjtcclxuICAgIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbiA9IG51bGw7XHJcbiAgICByZXR1cm4gcHJldjtcclxufVxyXG5mdW5jdGlvbiB1bnRyYWNrZWRFbmQocHJldikge1xyXG4gICAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gcHJldjtcclxufVxyXG5mdW5jdGlvbiBhbGxvd1N0YXRlUmVhZHNTdGFydChhbGxvd1N0YXRlUmVhZHMpIHtcclxuICAgIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzO1xyXG4gICAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzID0gYWxsb3dTdGF0ZVJlYWRzO1xyXG4gICAgcmV0dXJuIHByZXY7XHJcbn1cclxuZnVuY3Rpb24gYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXYpIHtcclxuICAgIGdsb2JhbFN0YXRlLmFsbG93U3RhdGVSZWFkcyA9IHByZXY7XHJcbn1cclxuLyoqXHJcbiAqIG5lZWRlZCB0byBrZWVwIGBsb3dlc3RPYnNlcnZlclN0YXRlYCBjb3JyZWN0LiB3aGVuIGNoYW5naW5nIGZyb20gKDIgb3IgMSkgdG8gMFxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2hhbmdlRGVwZW5kZW5jaWVzU3RhdGVUbzAoZGVyaXZhdGlvbikge1xyXG4gICAgaWYgKGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xyXG4gICAgdmFyIG9icyA9IGRlcml2YXRpb24ub2JzZXJ2aW5nO1xyXG4gICAgdmFyIGkgPSBvYnMubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSlcclxuICAgICAgICBvYnNbaV0ubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURTtcclxufVxuXG4vLyB3ZSBkb24ndCB1c2UgZ2xvYmFsU3RhdGUgZm9yIHRoZXNlIGluIG9yZGVyIHRvIGF2b2lkIHBvc3NpYmxlIGlzc3VlcyB3aXRoIG11bHRpcGxlXHJcbi8vIG1vYnggdmVyc2lvbnNcclxudmFyIGN1cnJlbnRBY3Rpb25JZCA9IDA7XHJcbnZhciBuZXh0QWN0aW9uSWQgPSAxO1xyXG52YXIgZnVuY3Rpb25OYW1lRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZnVuY3Rpb24gKCkgeyB9LCBcIm5hbWVcIik7XHJcbnZhciBpc0Z1bmN0aW9uTmFtZUNvbmZpZ3VyYWJsZSA9IGZ1bmN0aW9uTmFtZURlc2NyaXB0b3IgJiYgZnVuY3Rpb25OYW1lRGVzY3JpcHRvci5jb25maWd1cmFibGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbihhY3Rpb25OYW1lLCBmbiwgcmVmKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiLCBcImBhY3Rpb25gIGNhbiBvbmx5IGJlIGludm9rZWQgb24gZnVuY3Rpb25zXCIpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhYWN0aW9uTmFtZSlcclxuICAgICAgICAgICAgZmFpbChcImFjdGlvbnMgc2hvdWxkIGhhdmUgdmFsaWQgbmFtZXMsIGdvdDogJ1wiICsgYWN0aW9uTmFtZSArIFwiJ1wiKTtcclxuICAgIH1cclxuICAgIHZhciByZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVBY3Rpb24oYWN0aW9uTmFtZSwgZm4sIHJlZiB8fCB0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuICAgIHJlcy5pc01vYnhBY3Rpb24gPSB0cnVlO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uTmFtZUNvbmZpZ3VyYWJsZSkge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzLCBcIm5hbWVcIiwgeyB2YWx1ZTogYWN0aW9uTmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb24oYWN0aW9uTmFtZSwgZm4sIHNjb3BlLCBhcmdzKSB7XHJcbiAgICB2YXIgcnVuSW5mbyA9IF9zdGFydEFjdGlvbihhY3Rpb25OYW1lLCBzY29wZSwgYXJncyk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBmbi5hcHBseShzY29wZSwgYXJncyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcnVuSW5mby5lcnJvciA9IGVycjtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBfZW5kQWN0aW9uKHJ1bkluZm8pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIF9zdGFydEFjdGlvbihhY3Rpb25OYW1lLCBzY29wZSwgYXJncykge1xyXG4gICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpICYmICEhYWN0aW9uTmFtZTtcclxuICAgIHZhciBzdGFydFRpbWUgPSAwO1xyXG4gICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBsID0gKGFyZ3MgJiYgYXJncy5sZW5ndGgpIHx8IDA7XHJcbiAgICAgICAgdmFyIGZsYXR0ZW5kQXJncyA9IG5ldyBBcnJheShsKTtcclxuICAgICAgICBpZiAobCA+IDApXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgZmxhdHRlbmRBcmdzW2ldID0gYXJnc1tpXTtcclxuICAgICAgICBzcHlSZXBvcnRTdGFydCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IGFjdGlvbk5hbWUsXHJcbiAgICAgICAgICAgIG9iamVjdDogc2NvcGUsXHJcbiAgICAgICAgICAgIGFyZ3VtZW50czogZmxhdHRlbmRBcmdzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgcHJldkRlcml2YXRpb24gPSB1bnRyYWNrZWRTdGFydCgpO1xyXG4gICAgc3RhcnRCYXRjaCgpO1xyXG4gICAgdmFyIHByZXZBbGxvd1N0YXRlQ2hhbmdlcyA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQodHJ1ZSk7XHJcbiAgICB2YXIgcHJldkFsbG93U3RhdGVSZWFkcyA9IGFsbG93U3RhdGVSZWFkc1N0YXJ0KHRydWUpO1xyXG4gICAgdmFyIHJ1bkluZm8gPSB7XHJcbiAgICAgICAgcHJldkRlcml2YXRpb246IHByZXZEZXJpdmF0aW9uLFxyXG4gICAgICAgIHByZXZBbGxvd1N0YXRlQ2hhbmdlczogcHJldkFsbG93U3RhdGVDaGFuZ2VzLFxyXG4gICAgICAgIHByZXZBbGxvd1N0YXRlUmVhZHM6IHByZXZBbGxvd1N0YXRlUmVhZHMsXHJcbiAgICAgICAgbm90aWZ5U3B5OiBub3RpZnlTcHksXHJcbiAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXHJcbiAgICAgICAgYWN0aW9uSWQ6IG5leHRBY3Rpb25JZCsrLFxyXG4gICAgICAgIHBhcmVudEFjdGlvbklkOiBjdXJyZW50QWN0aW9uSWRcclxuICAgIH07XHJcbiAgICBjdXJyZW50QWN0aW9uSWQgPSBydW5JbmZvLmFjdGlvbklkO1xyXG4gICAgcmV0dXJuIHJ1bkluZm87XHJcbn1cclxuZnVuY3Rpb24gX2VuZEFjdGlvbihydW5JbmZvKSB7XHJcbiAgICBpZiAoY3VycmVudEFjdGlvbklkICE9PSBydW5JbmZvLmFjdGlvbklkKSB7XHJcbiAgICAgICAgZmFpbChcImludmFsaWQgYWN0aW9uIHN0YWNrLiBkaWQgeW91IGZvcmdldCB0byBmaW5pc2ggYW4gYWN0aW9uP1wiKTtcclxuICAgIH1cclxuICAgIGN1cnJlbnRBY3Rpb25JZCA9IHJ1bkluZm8ucGFyZW50QWN0aW9uSWQ7XHJcbiAgICBpZiAocnVuSW5mby5lcnJvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUuc3VwcHJlc3NSZWFjdGlvbkVycm9ycyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBhbGxvd1N0YXRlQ2hhbmdlc0VuZChydW5JbmZvLnByZXZBbGxvd1N0YXRlQ2hhbmdlcyk7XHJcbiAgICBhbGxvd1N0YXRlUmVhZHNFbmQocnVuSW5mby5wcmV2QWxsb3dTdGF0ZVJlYWRzKTtcclxuICAgIGVuZEJhdGNoKCk7XHJcbiAgICB1bnRyYWNrZWRFbmQocnVuSW5mby5wcmV2RGVyaXZhdGlvbik7XHJcbiAgICBpZiAocnVuSW5mby5ub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgc3B5UmVwb3J0RW5kKHsgdGltZTogRGF0ZS5ub3coKSAtIHJ1bkluZm8uc3RhcnRUaW1lIH0pO1xyXG4gICAgfVxyXG4gICAgZ2xvYmFsU3RhdGUuc3VwcHJlc3NSZWFjdGlvbkVycm9ycyA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzKGFsbG93U3RhdGVDaGFuZ2VzLCBmdW5jKSB7XHJcbiAgICB2YXIgcHJldiA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQoYWxsb3dTdGF0ZUNoYW5nZXMpO1xyXG4gICAgdmFyIHJlcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmVzID0gZnVuYygpO1xyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQoYWxsb3dTdGF0ZUNoYW5nZXMpIHtcclxuICAgIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZUNoYW5nZXM7XHJcbiAgICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGFsbG93U3RhdGVDaGFuZ2VzO1xyXG4gICAgcmV0dXJuIHByZXY7XHJcbn1cclxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldikge1xyXG4gICAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZUNoYW5nZXMgPSBwcmV2O1xyXG59XHJcbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWQoZnVuYykge1xyXG4gICAgdmFyIHByZXYgPSBnbG9iYWxTdGF0ZS5jb21wdXRhdGlvbkRlcHRoO1xyXG4gICAgZ2xvYmFsU3RhdGUuY29tcHV0YXRpb25EZXB0aCA9IDA7XHJcbiAgICB2YXIgcmVzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXMgPSBmdW5jKCk7XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBnbG9iYWxTdGF0ZS5jb21wdXRhdGlvbkRlcHRoID0gcHJldjtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cblxudmFyIE9ic2VydmFibGVWYWx1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhPYnNlcnZhYmxlVmFsdWUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlVmFsdWUodmFsdWUsIGVuaGFuY2VyLCBuYW1lLCBub3RpZnlTcHksIGVxdWFscykge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9IFwiT2JzZXJ2YWJsZVZhbHVlQFwiICsgZ2V0TmV4dElkKCk7IH1cclxuICAgICAgICBpZiAobm90aWZ5U3B5ID09PSB2b2lkIDApIHsgbm90aWZ5U3B5ID0gdHJ1ZTsgfVxyXG4gICAgICAgIGlmIChlcXVhbHMgPT09IHZvaWQgMCkgeyBlcXVhbHMgPSBjb21wYXJlci5kZWZhdWx0OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmFtZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIF90aGlzLmVxdWFscyA9IGVxdWFscztcclxuICAgICAgICBfdGhpcy5oYXNVbnJlcG9ydGVkQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgX3RoaXMudmFsdWUgPSBlbmhhbmNlcih2YWx1ZSwgdW5kZWZpbmVkLCBuYW1lKTtcclxuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIGlzU3B5RW5hYmxlZCgpICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgICAgICAvLyBvbmx5IG5vdGlmeSBzcHkgaWYgdGhpcyBpcyBhIHN0YW5kLWFsb25lIG9ic2VydmFibGVcclxuICAgICAgICAgICAgc3B5UmVwb3J0KHsgdHlwZTogXCJjcmVhdGVcIiwgbmFtZTogX3RoaXMubmFtZSwgbmV3VmFsdWU6IFwiXCIgKyBfdGhpcy52YWx1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5kZWhhbmNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICBuZXdWYWx1ZSA9IHRoaXMucHJlcGFyZU5ld1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgICAgICBpZiAobmV3VmFsdWUgIT09IGdsb2JhbFN0YXRlLlVOQ0hBTkdFRCkge1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRTdGFydCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXROZXdWYWx1ZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGUucHJlcGFyZU5ld1ZhbHVlID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcyk7XHJcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFN0YXRlLlVOQ0hBTkdFRDtcclxuICAgICAgICAgICAgbmV3VmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFwcGx5IG1vZGlmaWVyXHJcbiAgICAgICAgbmV3VmFsdWUgPSB0aGlzLmVuaGFuY2VyKG5ld1ZhbHVlLCB0aGlzLnZhbHVlLCB0aGlzLm5hbWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVxdWFscyh0aGlzLnZhbHVlLCBuZXdWYWx1ZSkgPyBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQgOiBuZXdWYWx1ZTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnNldE5ld1ZhbHVlID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgdGhpcy5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKGhhc0xpc3RlbmVycyh0aGlzKSkge1xyXG4gICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnModGhpcywge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5yZXBvcnRPYnNlcnZlZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VWYWx1ZSh0aGlzLnZhbHVlKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVySW50ZXJjZXB0b3IodGhpcywgaGFuZGxlcik7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcclxuICAgICAgICBpZiAoZmlyZUltbWVkaWF0ZWx5KVxyXG4gICAgICAgICAgICBsaXN0ZW5lcih7XHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IHRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIltcIiArIHRoaXMudmFsdWUgKyBcIl1cIjtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvUHJpbWl0aXZlKHRoaXMuZ2V0KCkpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmFibGVWYWx1ZTtcclxufShBdG9tKSk7XHJcbnZhciBpc09ic2VydmFibGVWYWx1ZSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJPYnNlcnZhYmxlVmFsdWVcIiwgT2JzZXJ2YWJsZVZhbHVlKTtcblxuLyoqXHJcbiAqIEEgbm9kZSBpbiB0aGUgc3RhdGUgZGVwZW5kZW5jeSByb290IHRoYXQgb2JzZXJ2ZXMgb3RoZXIgbm9kZXMsIGFuZCBjYW4gYmUgb2JzZXJ2ZWQgaXRzZWxmLlxyXG4gKlxyXG4gKiBDb21wdXRlZFZhbHVlIHdpbGwgcmVtZW1iZXIgdGhlIHJlc3VsdCBvZiB0aGUgY29tcHV0YXRpb24gZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYmF0Y2gsIG9yXHJcbiAqIHdoaWxlIGJlaW5nIG9ic2VydmVkLlxyXG4gKlxyXG4gKiBEdXJpbmcgdGhpcyB0aW1lIGl0IHdpbGwgcmVjb21wdXRlIG9ubHkgd2hlbiBvbmUgb2YgaXRzIGRpcmVjdCBkZXBlbmRlbmNpZXMgY2hhbmdlZCxcclxuICogYnV0IG9ubHkgd2hlbiBpdCBpcyBiZWluZyBhY2Nlc3NlZCB3aXRoIGBDb21wdXRlZFZhbHVlLmdldCgpYC5cclxuICpcclxuICogSW1wbGVtZW50YXRpb24gZGVzY3JpcHRpb246XHJcbiAqIDEuIEZpcnN0IHRpbWUgaXQncyBiZWluZyBhY2Nlc3NlZCBpdCB3aWxsIGNvbXB1dGUgYW5kIHJlbWVtYmVyIHJlc3VsdFxyXG4gKiAgICBnaXZlIGJhY2sgcmVtZW1iZXJlZCByZXN1bHQgdW50aWwgMi4gaGFwcGVuc1xyXG4gKiAyLiBGaXJzdCB0aW1lIGFueSBkZWVwIGRlcGVuZGVuY3kgY2hhbmdlLCBwcm9wYWdhdGUgUE9TU0lCTFlfU1RBTEUgdG8gYWxsIG9ic2VydmVycywgd2FpdCBmb3IgMy5cclxuICogMy4gV2hlbiBpdCdzIGJlaW5nIGFjY2Vzc2VkLCByZWNvbXB1dGUgaWYgYW55IHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkLlxyXG4gKiAgICBpZiByZXN1bHQgY2hhbmdlZDogcHJvcGFnYXRlIFNUQUxFIHRvIGFsbCBvYnNlcnZlcnMsIHRoYXQgd2VyZSBQT1NTSUJMWV9TVEFMRSBmcm9tIHRoZSBsYXN0IHN0ZXAuXHJcbiAqICAgIGdvIHRvIHN0ZXAgMi4gZWl0aGVyIHdheVxyXG4gKlxyXG4gKiBJZiBhdCBhbnkgcG9pbnQgaXQncyBvdXRzaWRlIGJhdGNoIGFuZCBpdCBpc24ndCBvYnNlcnZlZDogcmVzZXQgZXZlcnl0aGluZyBhbmQgZ28gdG8gMS5cclxuICovXHJcbnZhciBDb21wdXRlZFZhbHVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgY29tcHV0ZWQgdmFsdWUgYmFzZWQgb24gYSBmdW5jdGlvbiBleHByZXNzaW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBgbmFtZWAgcHJvcGVydHkgaXMgZm9yIGRlYnVnIHB1cnBvc2VzIG9ubHkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGBlcXVhbHNgIHByb3BlcnR5IHNwZWNpZmllcyB0aGUgY29tcGFyZXIgZnVuY3Rpb24gdG8gdXNlIHRvIGRldGVybWluZSBpZiBhIG5ld2x5IHByb2R1Y2VkXHJcbiAgICAgKiB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHByZXZpb3VzIHZhbHVlLiBUd28gY29tcGFyZXJzIGFyZSBwcm92aWRlZCBpbiB0aGUgbGlicmFyeTsgYGRlZmF1bHRDb21wYXJlcmBcclxuICAgICAqIGNvbXBhcmVzIGJhc2VkIG9uIGlkZW50aXR5IGNvbXBhcmlzb24gKD09PSksIGFuZCBgc3RydWN0dWFsQ29tcGFyZXJgIGRlZXBseSBjb21wYXJlcyB0aGUgc3RydWN0dXJlLlxyXG4gICAgICogU3RydWN0dXJhbCBjb21wYXJpc29uIGNhbiBiZSBjb252ZW5pZW50IGlmIHlvdSBhbHdheXMgcHJvZHVjZSBhIG5ldyBhZ2dyZWdhdGVkIG9iamVjdCBhbmRcclxuICAgICAqIGRvbid0IHdhbnQgdG8gbm90aWZ5IG9ic2VydmVycyBpZiBpdCBpcyBzdHJ1Y3R1cmFsbHkgdGhlIHNhbWUuXHJcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3Igd29ya2luZyB3aXRoIHZlY3RvcnMsIG1vdXNlIGNvb3JkaW5hdGVzIGV0Yy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ29tcHV0ZWRWYWx1ZShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2aW5nID0gW107IC8vIG5vZGVzIHdlIGFyZSBsb29raW5nIGF0LiBPdXIgdmFsdWUgZGVwZW5kcyBvbiB0aGVzZSBub2Rlc1xyXG4gICAgICAgIHRoaXMubmV3T2JzZXJ2aW5nID0gbnVsbDsgLy8gZHVyaW5nIHRyYWNraW5nIGl0J3MgYW4gYXJyYXkgd2l0aCBuZXcgb2JzZXJ2ZWQgb2JzZXJ2ZXJzXHJcbiAgICAgICAgdGhpcy5pc0JlaW5nT2JzZXJ2ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUGVuZGluZ1Vub2JzZXJ2YXRpb24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmRpZmZWYWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5ydW5JZCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0QWNjZXNzZWRCeSA9IDA7XHJcbiAgICAgICAgdGhpcy5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xyXG4gICAgICAgIHRoaXMudW5ib3VuZERlcHNDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5fX21hcGlkID0gXCIjXCIgKyBnZXROZXh0SWQoKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IENhdWdodEV4Y2VwdGlvbihudWxsKTtcclxuICAgICAgICB0aGlzLmlzQ29tcHV0aW5nID0gZmFsc2U7IC8vIHRvIGNoZWNrIGZvciBjeWNsZXNcclxuICAgICAgICB0aGlzLmlzUnVubmluZ1NldHRlciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNUcmFjaW5nID0gVHJhY2VNb2RlLk5PTkU7XHJcbiAgICAgICAgaW52YXJpYW50KG9wdGlvbnMuZ2V0LCBcIm1pc3Npbmcgb3B0aW9uIGZvciBjb21wdXRlZDogZ2V0XCIpO1xyXG4gICAgICAgIHRoaXMuZGVyaXZhdGlvbiA9IG9wdGlvbnMuZ2V0O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCBcIkNvbXB1dGVkVmFsdWVAXCIgKyBnZXROZXh0SWQoKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5zZXQpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGVyID0gY3JlYXRlQWN0aW9uKHRoaXMubmFtZSArIFwiLXNldHRlclwiLCBvcHRpb25zLnNldCk7XHJcbiAgICAgICAgdGhpcy5lcXVhbHMgPVxyXG4gICAgICAgICAgICBvcHRpb25zLmVxdWFscyB8fFxyXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMuY29tcGFyZVN0cnVjdHVyYWwgfHwgb3B0aW9ucy5zdHJ1Y3RcclxuICAgICAgICAgICAgICAgICAgICA/IGNvbXBhcmVyLnN0cnVjdHVyYWxcclxuICAgICAgICAgICAgICAgICAgICA6IGNvbXBhcmVyLmRlZmF1bHQpO1xyXG4gICAgICAgIHRoaXMuc2NvcGUgPSBvcHRpb25zLmNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlc1JlYWN0aW9uID0gISFvcHRpb25zLnJlcXVpcmVzUmVhY3Rpb247XHJcbiAgICAgICAgdGhpcy5rZWVwQWxpdmUgPSAhIW9wdGlvbnMua2VlcEFsaXZlO1xyXG4gICAgfVxyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUub25CZWNvbWVTdGFsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcm9wYWdhdGVNYXliZUNoYW5nZWQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUub25CZWNvbWVPYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25CZWNvbWVPYnNlcnZlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLm9uQmVjb21lVW5vYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vbkJlY29tZVVub2JzZXJ2ZWRMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkJlY29tZVVub2JzZXJ2ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhpcyBjb21wdXRlZCB2YWx1ZS5cclxuICAgICAqIFdpbGwgZXZhbHVhdGUgaXRzIGNvbXB1dGF0aW9uIGZpcnN0IGlmIG5lZWRlZC5cclxuICAgICAqL1xyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcHV0aW5nKVxyXG4gICAgICAgICAgICBmYWlsKFwiQ3ljbGUgZGV0ZWN0ZWQgaW4gY29tcHV0YXRpb24gXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyB0aGlzLmRlcml2YXRpb24pO1xyXG4gICAgICAgIGlmIChnbG9iYWxTdGF0ZS5pbkJhdGNoID09PSAwICYmIHRoaXMub2JzZXJ2ZXJzLnNpemUgPT09IDAgJiYgIXRoaXMua2VlcEFsaXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRDb21wdXRlKHRoaXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhcm5BYm91dFVudHJhY2tlZFJlYWQoKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0QmF0Y2goKTsgLy8gU2VlIHBlcmYgdGVzdCAnY29tcHV0ZWQgbWVtb2l6YXRpb24nXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5jb21wdXRlVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZW5kQmF0Y2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVwb3J0T2JzZXJ2ZWQodGhpcyk7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRDb21wdXRlKHRoaXMpKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tBbmRDb21wdXRlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlQ2hhbmdlQ29uZmlybWVkKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy52YWx1ZTtcclxuICAgICAgICBpZiAoaXNDYXVnaHRFeGNlcHRpb24ocmVzdWx0KSlcclxuICAgICAgICAgICAgdGhyb3cgcmVzdWx0LmNhdXNlO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzID0gdGhpcy5jb21wdXRlVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIGlmIChpc0NhdWdodEV4Y2VwdGlvbihyZXMpKVxyXG4gICAgICAgICAgICB0aHJvdyByZXMuY2F1c2U7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0ZXIpIHtcclxuICAgICAgICAgICAgaW52YXJpYW50KCF0aGlzLmlzUnVubmluZ1NldHRlciwgXCJUaGUgc2V0dGVyIG9mIGNvbXB1dGVkIHZhbHVlICdcIiArIHRoaXMubmFtZSArIFwiJyBpcyB0cnlpbmcgdG8gdXBkYXRlIGl0c2VsZi4gRGlkIHlvdSBpbnRlbmQgdG8gdXBkYXRlIGFuIF9vYnNlcnZhYmxlXyB2YWx1ZSwgaW5zdGVhZCBvZiB0aGUgY29tcHV0ZWQgcHJvcGVydHk/XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZ1NldHRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRlci5jYWxsKHRoaXMuc2NvcGUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICAgICAgXCJbQ29tcHV0ZWRWYWx1ZSAnXCIgKyB0aGlzLm5hbWUgKyBcIiddIEl0IGlzIG5vdCBwb3NzaWJsZSB0byBhc3NpZ24gYSBuZXcgdmFsdWUgdG8gYSBjb21wdXRlZCB2YWx1ZS5cIik7XHJcbiAgICB9O1xyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUudHJhY2tBbmRDb21wdXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc1NweUVuYWJsZWQoKSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgICAgICAgICAgc3B5UmVwb3J0KHtcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5zY29wZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgIHZhciB3YXNTdXNwZW5kZWQgPSBcclxuICAgICAgICAvKiBzZWUgIzEyMDggKi8gdGhpcy5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkc7XHJcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdGhpcy5jb21wdXRlVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgdmFyIGNoYW5nZWQgPSB3YXNTdXNwZW5kZWQgfHxcclxuICAgICAgICAgICAgaXNDYXVnaHRFeGNlcHRpb24ob2xkVmFsdWUpIHx8XHJcbiAgICAgICAgICAgIGlzQ2F1Z2h0RXhjZXB0aW9uKG5ld1ZhbHVlKSB8fFxyXG4gICAgICAgICAgICAhdGhpcy5lcXVhbHMob2xkVmFsdWUsIG5ld1ZhbHVlKTtcclxuICAgICAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xyXG4gICAgfTtcclxuICAgIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLmNvbXB1dGVWYWx1ZSA9IGZ1bmN0aW9uICh0cmFjaykge1xyXG4gICAgICAgIHRoaXMuaXNDb21wdXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGdsb2JhbFN0YXRlLmNvbXB1dGF0aW9uRGVwdGgrKztcclxuICAgICAgICB2YXIgcmVzO1xyXG4gICAgICAgIGlmICh0cmFjaykge1xyXG4gICAgICAgICAgICByZXMgPSB0cmFja0Rlcml2ZWRGdW5jdGlvbih0aGlzLCB0aGlzLmRlcml2YXRpb24sIHRoaXMuc2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZGVyaXZhdGlvbi5jYWxsKHRoaXMuc2NvcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmRlcml2YXRpb24uY2FsbCh0aGlzLnNjb3BlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gbmV3IENhdWdodEV4Y2VwdGlvbihlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBnbG9iYWxTdGF0ZS5jb21wdXRhdGlvbkRlcHRoLS07XHJcbiAgICAgICAgdGhpcy5pc0NvbXB1dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUuc3VzcGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMua2VlcEFsaXZlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyT2JzZXJ2aW5nKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkOyAvLyBkb24ndCBob2xkIG9uIHRvIGNvbXB1dGVkIHZhbHVlIVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xyXG4gICAgICAgIHZhciBwcmV2VmFsdWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIGF1dG9ydW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBfdGhpcy5nZXQoKTtcclxuICAgICAgICAgICAgaWYgKCFmaXJzdFRpbWUgfHwgZmlyZUltbWVkaWF0ZWx5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldlUgPSB1bnRyYWNrZWRTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBfdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IHByZXZWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQocHJldlUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwcmV2VmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS53YXJuQWJvdXRVbnRyYWNrZWRSZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlc1JlYWN0aW9uID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGZhaWwoXCJbbW9ieF0gQ29tcHV0ZWQgdmFsdWUgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc1RyYWNpbmcgIT09IFRyYWNlTW9kZS5OT05FKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW21vYngudHJhY2VdICdcIiArIHRoaXMubmFtZSArIFwiJyBpcyBiZWluZyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0LiBEb2luZyBhIGZ1bGwgcmVjb21wdXRlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ2xvYmFsU3RhdGUuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBDb21wdXRlZCB2YWx1ZSBcIiArIHRoaXMubmFtZSArIFwiIGlzIGJlaW5nIHJlYWQgb3V0c2lkZSBhIHJlYWN0aXZlIGNvbnRleHQuIERvaW5nIGEgZnVsbCByZWNvbXB1dGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcclxuICAgIH07XHJcbiAgICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCJbXCIgKyB0aGlzLmRlcml2YXRpb24udG9TdHJpbmcoKSArIFwiXVwiO1xyXG4gICAgfTtcclxuICAgIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvUHJpbWl0aXZlKHRoaXMuZ2V0KCkpO1xyXG4gICAgfTtcclxuICAgIENvbXB1dGVkVmFsdWUucHJvdG90eXBlW1N5bWJvbC50b1ByaW1pdGl2ZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21wdXRlZFZhbHVlO1xyXG59KCkpO1xyXG52YXIgaXNDb21wdXRlZFZhbHVlID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIkNvbXB1dGVkVmFsdWVcIiwgQ29tcHV0ZWRWYWx1ZSk7XG5cbi8qKlxyXG4gKiBUaGVzZSB2YWx1ZXMgd2lsbCBwZXJzaXN0IGlmIGdsb2JhbCBzdGF0ZSBpcyByZXNldFxyXG4gKi9cclxudmFyIHBlcnNpc3RlbnRLZXlzID0gW1xyXG4gICAgXCJtb2J4R3VpZFwiLFxyXG4gICAgXCJzcHlMaXN0ZW5lcnNcIixcclxuICAgIFwiZW5mb3JjZUFjdGlvbnNcIixcclxuICAgIFwiY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uXCIsXHJcbiAgICBcInJlYWN0aW9uUmVxdWlyZXNPYnNlcnZhYmxlXCIsXHJcbiAgICBcIm9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uXCIsXHJcbiAgICBcImFsbG93U3RhdGVSZWFkc1wiLFxyXG4gICAgXCJkaXNhYmxlRXJyb3JCb3VuZGFyaWVzXCIsXHJcbiAgICBcInJ1bklkXCIsXHJcbiAgICBcIlVOQ0hBTkdFRFwiXHJcbl07XHJcbnZhciBNb2JYR2xvYmFscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1vYlhHbG9iYWxzKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1vYlhHbG9iYWxzIHZlcnNpb24uXHJcbiAgICAgICAgICogTW9iWCBjb21wYXRpYmxpdHkgd2l0aCBvdGhlciB2ZXJzaW9ucyBsb2FkZWQgaW4gbWVtb3J5IGFzIGxvbmcgYXMgdGhpcyB2ZXJzaW9uIG1hdGNoZXMuXHJcbiAgICAgICAgICogSXQgaW5kaWNhdGVzIHRoYXQgdGhlIGdsb2JhbCBzdGF0ZSBzdGlsbCBzdG9yZXMgc2ltaWxhciBpbmZvcm1hdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogTi5COiB0aGlzIHZlcnNpb24gaXMgdW5yZWxhdGVkIHRvIHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgTW9iWCwgYW5kIGlzIG9ubHkgdGhlIHZlcnNpb24gb2YgdGhlXHJcbiAgICAgICAgICogaW50ZXJuYWwgc3RhdGUgc3RvcmFnZSBvZiBNb2JYLCBhbmQgY2FuIGJlIHRoZSBzYW1lIGFjcm9zcyBtYW55IGRpZmZlcmVudCBwYWNrYWdlIHZlcnNpb25zXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gNTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBnbG9iYWxseSB1bmlxdWUgdG9rZW4gdG8gc2lnbmFsIHVuY2hhbmdlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuVU5DSEFOR0VEID0ge307XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHJ1bm5pbmcgZGVyaXZhdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudHJhY2tpbmdEZXJpdmF0aW9uID0gbnVsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBcmUgd2UgcnVubmluZyBhIGNvbXB1dGF0aW9uIGN1cnJlbnRseT8gKG5vdCBhIHJlYWN0aW9uKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29tcHV0YXRpb25EZXB0aCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRWFjaCB0aW1lIGEgZGVyaXZhdGlvbiBpcyB0cmFja2VkLCBpdCBpcyBhc3NpZ25lZCBhIHVuaXF1ZSBydW4taWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnJ1bklkID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAnZ3VpZCcgZm9yIGdlbmVyYWwgcHVycG9zZS4gV2lsbCBiZSBwZXJzaXN0ZWQgYW1vbmdzdCByZXNldHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tb2J4R3VpZCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXJlIHdlIGluIGEgYmF0Y2ggYmxvY2s/IChhbmQgaG93IG1hbnkgb2YgdGhlbSlcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmluQmF0Y2ggPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE9ic2VydmFibGVzIHRoYXQgZG9uJ3QgaGF2ZSBvYnNlcnZlcnMgYW55bW9yZSwgYW5kIGFyZSBhYm91dCB0byBiZVxyXG4gICAgICAgICAqIHN1c3BlbmRlZCwgdW5sZXNzIHNvbWVib2R5IGVsc2UgYWNjZXNzZXMgaXQgaW4gdGhlIHNhbWUgYmF0Y2hcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEB0eXBlIHtJT2JzZXJ2YWJsZVtdfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGVuZGluZ1Vub2JzZXJ2YXRpb25zID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiBzY2hlZHVsZWQsIG5vdCB5ZXQgZXhlY3V0ZWQsIHJlYWN0aW9ucy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnBlbmRpbmdSZWFjdGlvbnMgPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBcmUgd2UgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVhY3Rpb25zP1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmVhY3Rpb25zID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSXMgaXQgYWxsb3dlZCB0byBjaGFuZ2Ugb2JzZXJ2YWJsZXMgYXQgdGhpcyBwb2ludD9cclxuICAgICAgICAgKiBJbiBnZW5lcmFsLCBNb2JYIGRvZXNuJ3QgYWxsb3cgdGhhdCB3aGVuIHJ1bm5pbmcgY29tcHV0YXRpb25zIGFuZCBSZWFjdC5yZW5kZXIuXHJcbiAgICAgICAgICogVG8gZW5zdXJlIHRoYXQgdGhvc2UgZnVuY3Rpb25zIHN0YXkgcHVyZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmFsbG93U3RhdGVDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJcyBpdCBhbGxvd2VkIHRvIHJlYWQgb2JzZXJ2YWJsZXMgYXQgdGhpcyBwb2ludD9cclxuICAgICAgICAgKiBVc2VkIHRvIGhvbGQgdGhlIHN0YXRlIG5lZWRlZCBmb3IgYG9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uYFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYWxsb3dTdGF0ZVJlYWRzID0gdHJ1ZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJZiBzdHJpY3QgbW9kZSBpcyBlbmFibGVkLCBzdGF0ZSBjaGFuZ2VzIGFyZSBieSBkZWZhdWx0IG5vdCBhbGxvd2VkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5lbmZvcmNlQWN0aW9ucyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNweSBjYWxsYmFja3NcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNweUxpc3RlbmVycyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdsb2JhbGx5IGF0dGFjaGVkIGVycm9yIGhhbmRsZXJzIHRoYXQgcmVhY3Qgc3BlY2lmaWNhbGx5IHRvIGVycm9ycyBpbiByZWFjdGlvbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFdhcm4gaWYgY29tcHV0ZWQgdmFsdWVzIGFyZSBhY2Nlc3NlZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogKEV4cGVyaW1lbnRhbClcclxuICAgICAgICAgKiBXYXJuIGlmIHlvdSB0cnkgdG8gY3JlYXRlIHRvIGRlcml2YXRpb24gLyByZWFjdGl2ZSBjb250ZXh0IHdpdGhvdXQgYWNjZXNzaW5nIGFueSBvYnNlcnZhYmxlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAoRXhwZXJpbWVudGFsKVxyXG4gICAgICAgICAqIFdhcm4gaWYgb2JzZXJ2YWJsZXMgYXJlIGFjY2Vzc2VkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbG93cyBvdmVyd3JpdGluZyBvZiBjb21wdXRlZCBwcm9wZXJ0aWVzLCB1c2VmdWwgaW4gdGVzdHMgYnV0IG5vdCBwcm9kIGFzIGl0IGNhbiBjYXVzZVxyXG4gICAgICAgICAqIG1lbW9yeSBsZWFrcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb2J4anMvbW9ieC9pc3N1ZXMvMTg2N1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZWRDb25maWd1cmFibGUgPSBmYWxzZTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIERvbid0IGNhdGNoIGFuZCByZXRocm93IGV4Y2VwdGlvbnMuIFRoaXMgaXMgdXNlZnVsIGZvciBpbnNwZWN0aW5nIHRoZSBzdGF0ZSBvZlxyXG4gICAgICAgICAqIHRoZSBzdGFjayB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMgd2hpbGUgZGVidWdnaW5nLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogSWYgdHJ1ZSwgd2UgYXJlIGFscmVhZHkgaGFuZGxpbmcgYW4gZXhjZXB0aW9uIGluIGFuIGFjdGlvbi4gQW55IGVycm9ycyBpbiByZWFjdGlvbnMgc2hvdWxkIGJlIHN1cHByZXNzZWQsIGFzXHJcbiAgICAgICAgICogdGhleSBhcmUgbm90IHRoZSBjYXVzZSwgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvaXNzdWVzLzE4MzZcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBNb2JYR2xvYmFscztcclxufSgpKTtcclxudmFyIG1vY2tHbG9iYWwgPSB7fTtcclxuZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93O1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbW9ja0dsb2JhbDtcclxufVxyXG52YXIgY2FuTWVyZ2VHbG9iYWxTdGF0ZSA9IHRydWU7XHJcbnZhciBpc29sYXRlQ2FsbGVkID0gZmFsc2U7XHJcbnZhciBnbG9iYWxTdGF0ZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XHJcbiAgICBpZiAoZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgPiAwICYmICFnbG9iYWwuX19tb2J4R2xvYmFscylcclxuICAgICAgICBjYW5NZXJnZUdsb2JhbFN0YXRlID0gZmFsc2U7XHJcbiAgICBpZiAoZ2xvYmFsLl9fbW9ieEdsb2JhbHMgJiYgZ2xvYmFsLl9fbW9ieEdsb2JhbHMudmVyc2lvbiAhPT0gbmV3IE1vYlhHbG9iYWxzKCkudmVyc2lvbilcclxuICAgICAgICBjYW5NZXJnZUdsb2JhbFN0YXRlID0gZmFsc2U7XHJcbiAgICBpZiAoIWNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFpc29sYXRlQ2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKFwiVGhlcmUgYXJlIG11bHRpcGxlLCBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgTW9iWCBhY3RpdmUuIE1ha2Ugc3VyZSBNb2JYIGlzIGxvYWRlZCBvbmx5IG9uY2Ugb3IgdXNlIGBjb25maWd1cmUoeyBpc29sYXRlR2xvYmFsU3RhdGU6IHRydWUgfSlgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNb2JYR2xvYmFscygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZ2xvYmFsLl9fbW9ieEdsb2JhbHMpIHtcclxuICAgICAgICBnbG9iYWwuX19tb2J4SW5zdGFuY2VDb3VudCArPSAxO1xyXG4gICAgICAgIGlmICghZ2xvYmFsLl9fbW9ieEdsb2JhbHMuVU5DSEFOR0VEKVxyXG4gICAgICAgICAgICBnbG9iYWwuX19tb2J4R2xvYmFscy5VTkNIQU5HRUQgPSB7fTsgLy8gbWFrZSBtZXJnZSBiYWNrd2FyZCBjb21wYXRpYmxlXHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbC5fX21vYnhHbG9iYWxzO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgPSAxO1xyXG4gICAgICAgIHJldHVybiAoZ2xvYmFsLl9fbW9ieEdsb2JhbHMgPSBuZXcgTW9iWEdsb2JhbHMoKSk7XHJcbiAgICB9XHJcbn0pKCk7XHJcbmZ1bmN0aW9uIGlzb2xhdGVHbG9iYWxTdGF0ZSgpIHtcclxuICAgIGlmIChnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zLmxlbmd0aCB8fFxyXG4gICAgICAgIGdsb2JhbFN0YXRlLmluQmF0Y2ggfHxcclxuICAgICAgICBnbG9iYWxTdGF0ZS5pc1J1bm5pbmdSZWFjdGlvbnMpXHJcbiAgICAgICAgZmFpbChcImlzb2xhdGVHbG9iYWxTdGF0ZSBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBNb2JYIGlzIHJ1bm5pbmcgYW55IHJlYWN0aW9uc1wiKTtcclxuICAgIGlzb2xhdGVDYWxsZWQgPSB0cnVlO1xyXG4gICAgaWYgKGNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcclxuICAgICAgICBpZiAoLS1nZXRHbG9iYWwoKS5fX21vYnhJbnN0YW5jZUNvdW50ID09PSAwKVxyXG4gICAgICAgICAgICBnZXRHbG9iYWwoKS5fX21vYnhHbG9iYWxzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGdsb2JhbFN0YXRlID0gbmV3IE1vYlhHbG9iYWxzKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0R2xvYmFsU3RhdGUoKSB7XHJcbiAgICByZXR1cm4gZ2xvYmFsU3RhdGU7XHJcbn1cclxuLyoqXHJcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHk7IHRoaXMgd2lsbCBicmVhayB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgZXhpc3Rpbmcgb2JzZXJ2YWJsZXMsXHJcbiAqIGJ1dCBjYW4gYmUgdXNlZCB0byBnZXQgYmFjayBhdCBhIHN0YWJsZSBzdGF0ZSBhZnRlciB0aHJvd2luZyBlcnJvcnNcclxuICovXHJcbmZ1bmN0aW9uIHJlc2V0R2xvYmFsU3RhdGUoKSB7XHJcbiAgICB2YXIgZGVmYXVsdEdsb2JhbHMgPSBuZXcgTW9iWEdsb2JhbHMoKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBkZWZhdWx0R2xvYmFscylcclxuICAgICAgICBpZiAocGVyc2lzdGVudEtleXMuaW5kZXhPZihrZXkpID09PSAtMSlcclxuICAgICAgICAgICAgZ2xvYmFsU3RhdGVba2V5XSA9IGRlZmF1bHRHbG9iYWxzW2tleV07XHJcbiAgICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9ICFnbG9iYWxTdGF0ZS5lbmZvcmNlQWN0aW9ucztcclxufVxuXG5mdW5jdGlvbiBoYXNPYnNlcnZlcnMob2JzZXJ2YWJsZSkge1xyXG4gICAgcmV0dXJuIG9ic2VydmFibGUub2JzZXJ2ZXJzICYmIG9ic2VydmFibGUub2JzZXJ2ZXJzLnNpemUgPiAwO1xyXG59XHJcbmZ1bmN0aW9uIGdldE9ic2VydmVycyhvYnNlcnZhYmxlKSB7XHJcbiAgICByZXR1cm4gb2JzZXJ2YWJsZS5vYnNlcnZlcnM7XHJcbn1cclxuLy8gZnVuY3Rpb24gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGU6IElPYnNlcnZhYmxlKSB7XHJcbi8vICAgICBjb25zdCBsaXN0ID0gb2JzZXJ2YWJsZS5vYnNlcnZlcnNcclxuLy8gICAgIGNvbnN0IG1hcCA9IG9ic2VydmFibGUub2JzZXJ2ZXJzSW5kZXhlc1xyXG4vLyAgICAgY29uc3QgbCA9IGxpc3QubGVuZ3RoXHJcbi8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4vLyAgICAgICAgIGNvbnN0IGlkID0gbGlzdFtpXS5fX21hcGlkXHJcbi8vICAgICAgICAgaWYgKGkpIHtcclxuLy8gICAgICAgICAgICAgaW52YXJpYW50KG1hcFtpZF0gPT09IGksIFwiSU5URVJOQUwgRVJST1IgbWFwcyBkZXJpdmF0aW9uLl9fbWFwaWQgdG8gaW5kZXggaW4gbGlzdFwiKSAvLyBmb3IgcGVyZm9ybWFuY2VcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBpbnZhcmlhbnQoIShpZCBpbiBtYXApLCBcIklOVEVSTkFMIEVSUk9SIG9ic2VydmVyIG9uIGluZGV4IDAgc2hvdWxkbid0IGJlIGhlbGQgaW4gbWFwLlwiKSAvLyBmb3IgcGVyZm9ybWFuY2VcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgICBpbnZhcmlhbnQoXHJcbi8vICAgICAgICAgbGlzdC5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXMobWFwKS5sZW5ndGggPT09IGxpc3QubGVuZ3RoIC0gMSxcclxuLy8gICAgICAgICBcIklOVEVSTkFMIEVSUk9SIHRoZXJlIGlzIG5vIGp1bmsgaW4gbWFwXCJcclxuLy8gICAgIClcclxuLy8gfVxyXG5mdW5jdGlvbiBhZGRPYnNlcnZlcihvYnNlcnZhYmxlLCBub2RlKSB7XHJcbiAgICAvLyBpbnZhcmlhbnQobm9kZS5kZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTEsIFwiSU5URVJOQUwgRVJST1IsIGNhbiBhZGQgb25seSBkZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTFcIik7XHJcbiAgICAvLyBpbnZhcmlhbnQob2JzZXJ2YWJsZS5fb2JzZXJ2ZXJzLmluZGV4T2Yobm9kZSkgPT09IC0xLCBcIklOVEVSTkFMIEVSUk9SIGFkZCBhbHJlYWR5IGFkZGVkIG5vZGVcIik7XHJcbiAgICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XHJcbiAgICBvYnNlcnZhYmxlLm9ic2VydmVycy5hZGQobm9kZSk7XHJcbiAgICBpZiAob2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlID4gbm9kZS5kZXBlbmRlbmNpZXNTdGF0ZSlcclxuICAgICAgICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBub2RlLmRlcGVuZGVuY2llc1N0YXRlO1xyXG4gICAgLy8gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGUpO1xyXG4gICAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiBkaWRuJ3QgYWRkIG5vZGVcIik7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2YWJsZSwgbm9kZSkge1xyXG4gICAgLy8gaW52YXJpYW50KGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwLCBcIklOVEVSTkFMIEVSUk9SLCByZW1vdmUgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IGluc2lkZSBiYXRjaFwiKTtcclxuICAgIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMuaW5kZXhPZihub2RlKSAhPT0gLTEsIFwiSU5URVJOQUwgRVJST1IgcmVtb3ZlIGFscmVhZHkgcmVtb3ZlZCBub2RlXCIpO1xyXG4gICAgLy8gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGUpO1xyXG4gICAgb2JzZXJ2YWJsZS5vYnNlcnZlcnMuZGVsZXRlKG5vZGUpO1xyXG4gICAgaWYgKG9ic2VydmFibGUub2JzZXJ2ZXJzLnNpemUgPT09IDApIHtcclxuICAgICAgICAvLyBkZWxldGluZyBsYXN0IG9ic2VydmVyXHJcbiAgICAgICAgcXVldWVGb3JVbm9ic2VydmF0aW9uKG9ic2VydmFibGUpO1xyXG4gICAgfVxyXG4gICAgLy8gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGUpO1xyXG4gICAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpID09PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiByZW1vdmUgYWxyZWFkeSByZW1vdmVkIG5vZGUyXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRm9yVW5vYnNlcnZhdGlvbihvYnNlcnZhYmxlKSB7XHJcbiAgICBpZiAob2JzZXJ2YWJsZS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMubGVuZ3RoID09PSAwLCBcIklOVEVSTkFMIEVSUk9SLCBzaG91bGQgb25seSBxdWV1ZSBmb3IgdW5vYnNlcnZhdGlvbiB1bm9ic2VydmVkIG9ic2VydmFibGVzXCIpO1xyXG4gICAgICAgIG9ic2VydmFibGUuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUucGVuZGluZ1Vub2JzZXJ2YXRpb25zLnB1c2gob2JzZXJ2YWJsZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEJhdGNoIHN0YXJ0cyBhIHRyYW5zYWN0aW9uLCBhdCBsZWFzdCBmb3IgcHVycG9zZXMgb2YgbWVtb2l6aW5nIENvbXB1dGVkVmFsdWVzIHdoZW4gbm90aGluZyBlbHNlIGRvZXMuXHJcbiAqIER1cmluZyBhIGJhdGNoIGBvbkJlY29tZVVub2JzZXJ2ZWRgIHdpbGwgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZSBwZXIgb2JzZXJ2YWJsZS5cclxuICogQXZvaWRzIHVubmVjZXNzYXJ5IHJlY2FsY3VsYXRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gc3RhcnRCYXRjaCgpIHtcclxuICAgIGdsb2JhbFN0YXRlLmluQmF0Y2grKztcclxufVxyXG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcclxuICAgIGlmICgtLWdsb2JhbFN0YXRlLmluQmF0Y2ggPT09IDApIHtcclxuICAgICAgICBydW5SZWFjdGlvbnMoKTtcclxuICAgICAgICAvLyB0aGUgYmF0Y2ggaXMgYWN0dWFsbHkgYWJvdXQgdG8gZmluaXNoLCBhbGwgdW5vYnNlcnZpbmcgc2hvdWxkIGhhcHBlbiBoZXJlLlxyXG4gICAgICAgIHZhciBsaXN0ID0gZ2xvYmFsU3RhdGUucGVuZGluZ1Vub2JzZXJ2YXRpb25zO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IGxpc3RbaV07XHJcbiAgICAgICAgICAgIG9ic2VydmFibGUuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAob2JzZXJ2YWJsZS5vYnNlcnZlcnMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmFibGUuaXNCZWluZ09ic2VydmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBvYnNlcnZhYmxlIGhhZCByZWFjdGl2ZSBvYnNlcnZlcnMsIHRyaWdnZXIgdGhlIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm9uQmVjb21lVW5vYnNlcnZlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmFibGUgaW5zdGFuY2VvZiBDb21wdXRlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHV0ZWQgdmFsdWVzIGFyZSBhdXRvbWF0aWNhbGx5IHRlYXJlZCBkb3duIHdoZW4gdGhlIGxhc3Qgb2JzZXJ2ZXIgbGVhdmVzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBwcm9jZXNzIGhhcHBlbnMgcmVjdXJzaXZlbHksIHRoaXMgY29tcHV0ZWQgbWlnaHQgYmUgdGhlIGxhc3Qgb2JzZXJ2YWJlIG9mIGFub3RoZXIsIGV0Yy4uXHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdXNwZW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUucGVuZGluZ1Vub2JzZXJ2YXRpb25zID0gW107XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVwb3J0T2JzZXJ2ZWQob2JzZXJ2YWJsZSkge1xyXG4gICAgY2hlY2tJZlN0YXRlUmVhZHNBcmVBbGxvd2VkKG9ic2VydmFibGUpO1xyXG4gICAgdmFyIGRlcml2YXRpb24gPSBnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb247XHJcbiAgICBpZiAoZGVyaXZhdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNpbXBsZSBvcHRpbWl6YXRpb24sIGdpdmUgZWFjaCBkZXJpdmF0aW9uIHJ1biBhbiB1bmlxdWUgaWQgKHJ1bklkKVxyXG4gICAgICAgICAqIENoZWNrIGlmIGxhc3QgdGltZSB0aGlzIG9ic2VydmFibGUgd2FzIGFjY2Vzc2VkIHRoZSBzYW1lIHJ1bklkIGlzIHVzZWRcclxuICAgICAgICAgKiBpZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGUgcmVsYXRpb24gaXMgYWxyZWFkeSBrbm93blxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChkZXJpdmF0aW9uLnJ1bklkICE9PSBvYnNlcnZhYmxlLmxhc3RBY2Nlc3NlZEJ5KSB7XHJcbiAgICAgICAgICAgIG9ic2VydmFibGUubGFzdEFjY2Vzc2VkQnkgPSBkZXJpdmF0aW9uLnJ1bklkO1xyXG4gICAgICAgICAgICAvLyBUcmllZCBzdG9yaW5nIG5ld09ic2VydmluZywgb3Igb2JzZXJ2aW5nLCBvciBib3RoIGFzIFNldCwgYnV0IHBlcmZvcm1hbmNlIGRpZG4ndCBjb21lIGNsb3NlLi4uXHJcbiAgICAgICAgICAgIGRlcml2YXRpb24ubmV3T2JzZXJ2aW5nW2Rlcml2YXRpb24udW5ib3VuZERlcHNDb3VudCsrXSA9IG9ic2VydmFibGU7XHJcbiAgICAgICAgICAgIGlmICghb2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWQpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmFibGUuaXNCZWluZ09ic2VydmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG9ic2VydmFibGUub25CZWNvbWVPYnNlcnZlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob2JzZXJ2YWJsZS5vYnNlcnZlcnMuc2l6ZSA9PT0gMCAmJiBnbG9iYWxTdGF0ZS5pbkJhdGNoID4gMCkge1xyXG4gICAgICAgIHF1ZXVlRm9yVW5vYnNlcnZhdGlvbihvYnNlcnZhYmxlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vLyBmdW5jdGlvbiBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZTogSU9ic2VydmFibGUsIG1zZzogc3RyaW5nKSB7XHJcbi8vICAgICAvLyBpdCdzIGV4cGVuc2l2ZSBzbyBiZXR0ZXIgbm90IHJ1biBpdCBpbiBwcm9kdWNpdG9uLiBidXQgdGVtcG9yYXJpbHkgaGVscGZ1bCBmb3IgdGVzdGluZ1xyXG4vLyAgICAgY29uc3QgbWluID0gZ2V0T2JzZXJ2ZXJzKG9ic2VydmFibGUpLnJlZHVjZSgoYSwgYikgPT4gTWF0aC5taW4oYSwgYi5kZXBlbmRlbmNpZXNTdGF0ZSksIDIpXHJcbi8vICAgICBpZiAobWluID49IG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSkgcmV0dXJuIC8vIDwtIHRoZSBvbmx5IGFzc3VtcHRpb24gYWJvdXQgYGxvd2VzdE9ic2VydmVyU3RhdGVgXHJcbi8vICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbi8vICAgICAgICAgXCJsb3dlc3RPYnNlcnZlclN0YXRlIGlzIHdyb25nIGZvciBcIiArXHJcbi8vICAgICAgICAgICAgIG1zZyArXHJcbi8vICAgICAgICAgICAgIFwiIGJlY2F1c2UgXCIgK1xyXG4vLyAgICAgICAgICAgICBtaW4gK1xyXG4vLyAgICAgICAgICAgICBcIiA8IFwiICtcclxuLy8gICAgICAgICAgICAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlXHJcbi8vICAgICApXHJcbi8vIH1cclxuLyoqXHJcbiAqIE5PVEU6IGN1cnJlbnQgcHJvcGFnYXRpb24gbWVjaGFuaXNtIHdpbGwgaW4gY2FzZSBvZiBzZWxmIHJlcnVuaW5nIGF1dG9ydW5zIGJlaGF2ZSB1bmV4cGVjdGVkbHlcclxuICogSXQgd2lsbCBwcm9wYWdhdGUgY2hhbmdlcyB0byBvYnNlcnZlcnMgZnJvbSBwcmV2aW91cyBydW5cclxuICogSXQncyBoYXJkIG9yIG1heWJlIGltcG9zc2libGUgKHdpdGggcmVhc29uYWJsZSBwZXJmKSB0byBnZXQgaXQgcmlnaHQgd2l0aCBjdXJyZW50IGFwcHJvYWNoXHJcbiAqIEhvcGVmdWxseSBzZWxmIHJlcnVuaW5nIGF1dG9ydW5zIGFyZW4ndCBhIGZlYXR1cmUgcGVvcGxlIHNob3VsZCBkZXBlbmQgb25cclxuICogQWxzbyBtb3N0IGJhc2ljIHVzZSBjYXNlcyBzaG91bGQgYmUgb2tcclxuICovXHJcbi8vIENhbGxlZCBieSBBdG9tIHdoZW4gaXRzIHZhbHVlIGNoYW5nZXNcclxuZnVuY3Rpb24gcHJvcGFnYXRlQ2hhbmdlZChvYnNlcnZhYmxlKSB7XHJcbiAgICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjaGFuZ2VkIHN0YXJ0XCIpO1xyXG4gICAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5TVEFMRSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xyXG4gICAgLy8gSWRlYWxseSB3ZSB1c2UgZm9yLi5vZiBoZXJlLCBidXQgdGhlIGRvd25jb21waWxlZCB2ZXJzaW9uIGlzIHJlYWxseSBzbG93Li4uXHJcbiAgICBvYnNlcnZhYmxlLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgaWYgKGQuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURSkge1xyXG4gICAgICAgICAgICBpZiAoZC5pc1RyYWNpbmcgIT09IFRyYWNlTW9kZS5OT05FKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dUcmFjZUluZm8oZCwgb2JzZXJ2YWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZC5vbkJlY29tZVN0YWxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGQuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xyXG4gICAgfSk7XHJcbiAgICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjaGFuZ2VkIGVuZFwiKTtcclxufVxyXG4vLyBDYWxsZWQgYnkgQ29tcHV0ZWRWYWx1ZSB3aGVuIGl0IHJlY2FsY3VsYXRlIGFuZCBpdHMgdmFsdWUgY2hhbmdlZFxyXG5mdW5jdGlvbiBwcm9wYWdhdGVDaGFuZ2VDb25maXJtZWQob2JzZXJ2YWJsZSkge1xyXG4gICAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwiY29uZmlybWVkIHN0YXJ0XCIpO1xyXG4gICAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5TVEFMRSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xyXG4gICAgb2JzZXJ2YWJsZS5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlBPU1NJQkxZX1NUQUxFKVxyXG4gICAgICAgICAgICBkLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5TVEFMRTtcclxuICAgICAgICBlbHNlIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUgLy8gdGhpcyBoYXBwZW5zIGR1cmluZyBjb21wdXRpbmcgb2YgYGRgLCBqdXN0IGtlZXAgbG93ZXN0T2JzZXJ2ZXJTdGF0ZSB1cCB0byBkYXRlLlxyXG4gICAgICAgIClcclxuICAgICAgICAgICAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xyXG4gICAgfSk7XHJcbiAgICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjb25maXJtZWQgZW5kXCIpO1xyXG59XHJcbi8vIFVzZWQgYnkgY29tcHV0ZWQgd2hlbiBpdHMgZGVwZW5kZW5jeSBjaGFuZ2VkLCBidXQgd2UgZG9uJ3Qgd2FuJ3QgdG8gaW1tZWRpYXRlbHkgcmVjb21wdXRlLlxyXG5mdW5jdGlvbiBwcm9wYWdhdGVNYXliZUNoYW5nZWQob2JzZXJ2YWJsZSkge1xyXG4gICAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwibWF5YmUgc3RhcnRcIik7XHJcbiAgICBpZiAob2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlICE9PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRTtcclxuICAgIG9ic2VydmFibGUub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICBpZiAoZC5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSB7XHJcbiAgICAgICAgICAgIGQuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlBPU1NJQkxZX1NUQUxFO1xyXG4gICAgICAgICAgICBpZiAoZC5pc1RyYWNpbmcgIT09IFRyYWNlTW9kZS5OT05FKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dUcmFjZUluZm8oZCwgb2JzZXJ2YWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZC5vbkJlY29tZVN0YWxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJtYXliZSBlbmRcIik7XHJcbn1cclxuZnVuY3Rpb24gbG9nVHJhY2VJbmZvKGRlcml2YXRpb24sIG9ic2VydmFibGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiW21vYngudHJhY2VdICdcIiArIGRlcml2YXRpb24ubmFtZSArIFwiJyBpcyBpbnZhbGlkYXRlZCBkdWUgdG8gYSBjaGFuZ2UgaW46ICdcIiArIG9ic2VydmFibGUubmFtZSArIFwiJ1wiKTtcclxuICAgIGlmIChkZXJpdmF0aW9uLmlzVHJhY2luZyA9PT0gVHJhY2VNb2RlLkJSRUFLKSB7XHJcbiAgICAgICAgdmFyIGxpbmVzID0gW107XHJcbiAgICAgICAgcHJpbnREZXBUcmVlKGdldERlcGVuZGVuY3lUcmVlKGRlcml2YXRpb24pLCBsaW5lcywgMSk7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgbmV3IEZ1bmN0aW9uKFwiZGVidWdnZXI7XFxuLypcXG5UcmFjaW5nICdcIiArIGRlcml2YXRpb24ubmFtZSArIFwiJ1xcblxcbllvdSBhcmUgZW50ZXJpbmcgdGhpcyBicmVhayBwb2ludCBiZWNhdXNlIGRlcml2YXRpb24gJ1wiICsgZGVyaXZhdGlvbi5uYW1lICsgXCInIGlzIGJlaW5nIHRyYWNlZCBhbmQgJ1wiICsgb2JzZXJ2YWJsZS5uYW1lICsgXCInIGlzIG5vdyBmb3JjaW5nIGl0IHRvIHVwZGF0ZS5cXG5KdXN0IGZvbGxvdyB0aGUgc3RhY2t0cmFjZSB5b3Ugc2hvdWxkIG5vdyBzZWUgaW4gdGhlIGRldnRvb2xzIHRvIHNlZSBwcmVjaXNlbHkgd2hhdCBwaWVjZSBvZiB5b3VyIGNvZGUgaXMgY2F1c2luZyB0aGlzIHVwZGF0ZVxcblRoZSBzdGFja2ZyYW1lIHlvdSBhcmUgbG9va2luZyBmb3IgaXMgYXQgbGVhc3QgfjYtOCBzdGFjay1mcmFtZXMgdXAuXFxuXFxuXCIgKyAoZGVyaXZhdGlvbiBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUgPyBkZXJpdmF0aW9uLmRlcml2YXRpb24udG9TdHJpbmcoKS5yZXBsYWNlKC9bKl1cXC8vZywgXCIvXCIpIDogXCJcIikgKyBcIlxcblxcblRoZSBkZXBlbmRlbmNpZXMgZm9yIHRoaXMgZGVyaXZhdGlvbiBhcmU6XFxuXFxuXCIgKyBsaW5lcy5qb2luKFwiXFxuXCIpICsgXCJcXG4qL1xcbiAgICBcIikoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcmludERlcFRyZWUodHJlZSwgbGluZXMsIGRlcHRoKSB7XHJcbiAgICBpZiAobGluZXMubGVuZ3RoID49IDEwMDApIHtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiKGFuZCBtYW55IG1vcmUpXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxpbmVzLnB1c2goXCJcIiArIG5ldyBBcnJheShkZXB0aCkuam9pbihcIlxcdFwiKSArIHRyZWUubmFtZSk7IC8vIE1XRTogbm90IHRoZSBmYXN0ZXN0LCBidXQgdGhlIGVhc2llc3Qgd2F5IDopXHJcbiAgICBpZiAodHJlZS5kZXBlbmRlbmNpZXMpXHJcbiAgICAgICAgdHJlZS5kZXBlbmRlbmNpZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIHByaW50RGVwVHJlZShjaGlsZCwgbGluZXMsIGRlcHRoICsgMSk7IH0pO1xyXG59XG5cbnZhciBSZWFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlYWN0aW9uKG5hbWUsIG9uSW52YWxpZGF0ZSwgZXJyb3JIYW5kbGVyLCByZXF1aXJlc09ic2VydmFibGUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIlJlYWN0aW9uQFwiICsgZ2V0TmV4dElkKCk7IH1cclxuICAgICAgICBpZiAocmVxdWlyZXNPYnNlcnZhYmxlID09PSB2b2lkIDApIHsgcmVxdWlyZXNPYnNlcnZhYmxlID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMub25JbnZhbGlkYXRlID0gb25JbnZhbGlkYXRlO1xyXG4gICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gZXJyb3JIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMucmVxdWlyZXNPYnNlcnZhYmxlID0gcmVxdWlyZXNPYnNlcnZhYmxlO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2aW5nID0gW107IC8vIG5vZGVzIHdlIGFyZSBsb29raW5nIGF0LiBPdXIgdmFsdWUgZGVwZW5kcyBvbiB0aGVzZSBub2Rlc1xyXG4gICAgICAgIHRoaXMubmV3T2JzZXJ2aW5nID0gW107XHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HO1xyXG4gICAgICAgIHRoaXMuZGlmZlZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLnJ1bklkID0gMDtcclxuICAgICAgICB0aGlzLnVuYm91bmREZXBzQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuX19tYXBpZCA9IFwiI1wiICsgZ2V0TmV4dElkKCk7XHJcbiAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9pc1RyYWNrUGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNUcmFjaW5nID0gVHJhY2VNb2RlLk5PTkU7XHJcbiAgICB9XHJcbiAgICBSZWFjdGlvbi5wcm90b3R5cGUub25CZWNvbWVTdGFsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XHJcbiAgICB9O1xyXG4gICAgUmVhY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXNTY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNTY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zLnB1c2godGhpcyk7XHJcbiAgICAgICAgICAgIHJ1blJlYWN0aW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSZWFjdGlvbi5wcm90b3R5cGUuaXNTY2hlZHVsZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2NoZWR1bGVkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaW50ZXJuYWwsIHVzZSBzY2hlZHVsZSgpIGlmIHlvdSBpbnRlbmQgdG8ga2ljayBvZmYgYSByZWFjdGlvblxyXG4gICAgICovXHJcbiAgICBSZWFjdGlvbi5wcm90b3R5cGUucnVuUmVhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgc3RhcnRCYXRjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc1NjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29tcHV0ZSh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNUcmFja1BlbmRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSW52YWxpZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RyYWNrUGVuZGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NweUVuYWJsZWQoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25JbnZhbGlkYXRlIGRpZG4ndCB0cmlnZ2VyIHRyYWNrIHJpZ2h0IGF3YXkuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHlSZXBvcnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzY2hlZHVsZWQtcmVhY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZEJhdGNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJlYWN0aW9uLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCJSZWFjdGlvbiBhbHJlYWR5IGRpc3Bvc2VkXCIpIC8vIE5vdGU6IE5vdCBhIHdhcm5pbmcgLyBlcnJvciBpbiBtb2J4IDQgZWl0aGVyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXJ0QmF0Y2goKTtcclxuICAgICAgICB2YXIgbm90aWZ5ID0gaXNTcHlFbmFibGVkKCk7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGltZTtcclxuICAgICAgICBpZiAobm90aWZ5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBzcHlSZXBvcnRTdGFydCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlYWN0aW9uXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRyYWNrRGVyaXZlZEZ1bmN0aW9uKHRoaXMsIGZuLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2lzVHJhY2tQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xyXG4gICAgICAgICAgICAvLyBkaXNwb3NlZCBkdXJpbmcgbGFzdCBydW4uIENsZWFuIHVwIGV2ZXJ5dGhpbmcgdGhhdCB3YXMgYm91bmQgYWZ0ZXIgdGhlIGRpc3Bvc2UgY2FsbC5cclxuICAgICAgICAgICAgY2xlYXJPYnNlcnZpbmcodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0NhdWdodEV4Y2VwdGlvbihyZXN1bHQpKVxyXG4gICAgICAgICAgICB0aGlzLnJlcG9ydEV4Y2VwdGlvbkluRGVyaXZhdGlvbihyZXN1bHQuY2F1c2UpO1xyXG4gICAgICAgIGlmIChub3RpZnkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHNweVJlcG9ydEVuZCh7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmRCYXRjaCgpO1xyXG4gICAgfTtcclxuICAgIFJlYWN0aW9uLnByb3RvdHlwZS5yZXBvcnRFeGNlcHRpb25JbkRlcml2YXRpb24gPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmVycm9ySGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9ySGFuZGxlcihlcnJvciwgdGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMpXHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJbbW9ieF0gRW5jb3VudGVyZWQgYW4gdW5jYXVnaHQgZXhjZXB0aW9uIHRoYXQgd2FzIHRocm93biBieSBhIHJlYWN0aW9uIG9yIG9ic2VydmVyIGNvbXBvbmVudCwgaW46ICdcIiArIHRoaXMgKyBcIidcIjtcclxuICAgICAgICBpZiAoZ2xvYmFsU3RhdGUuc3VwcHJlc3NSZWFjdGlvbkVycm9ycykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gKGVycm9yIGluIHJlYWN0aW9uICdcIiArIHRoaXMubmFtZSArIFwiJyBzdXBwcmVzc2VkLCBmaXggZXJyb3Igb2YgY2F1c2luZyBhY3Rpb24gYmVsb3cpXCIpOyAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgZXJyb3IpO1xyXG4gICAgICAgICAgICAvKiogSWYgZGVidWdnaW5nIGJyb3VnaHQgeW91IGhlcmUsIHBsZWFzZSwgcmVhZCB0aGUgYWJvdmUgbWVzc2FnZSA6LSkuIFRueCEgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU3B5RW5hYmxlZCgpKSB7XHJcbiAgICAgICAgICAgIHNweVJlcG9ydCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFwiXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYoZXJyb3IsIF90aGlzKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgUmVhY3Rpb24ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIGRpc3Bvc2VkIHdoaWxlIHJ1bm5pbmcsIGNsZWFuIHVwIGxhdGVyLiBNYXliZSBub3Qgb3B0aW1hbCwgYnV0IHJhcmUgY2FzZVxyXG4gICAgICAgICAgICAgICAgc3RhcnRCYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJPYnNlcnZpbmcodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBlbmRCYXRjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJlYWN0aW9uLnByb3RvdHlwZS5nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHJbJG1vYnhdID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH07XHJcbiAgICBSZWFjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiUmVhY3Rpb25bXCIgKyB0aGlzLm5hbWUgKyBcIl1cIjtcclxuICAgIH07XHJcbiAgICBSZWFjdGlvbi5wcm90b3R5cGUudHJhY2UgPSBmdW5jdGlvbiAoZW50ZXJCcmVha1BvaW50KSB7XHJcbiAgICAgICAgaWYgKGVudGVyQnJlYWtQb2ludCA9PT0gdm9pZCAwKSB7IGVudGVyQnJlYWtQb2ludCA9IGZhbHNlOyB9XHJcbiAgICAgICAgdHJhY2UodGhpcywgZW50ZXJCcmVha1BvaW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVhY3Rpb247XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIG9uUmVhY3Rpb25FcnJvcihoYW5kbGVyKSB7XHJcbiAgICBnbG9iYWxTdGF0ZS5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IGdsb2JhbFN0YXRlLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMClcclxuICAgICAgICAgICAgZ2xvYmFsU3RhdGUuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogTWFnaWMgbnVtYmVyIGFsZXJ0IVxyXG4gKiBEZWZpbmVzIHdpdGhpbiBob3cgbWFueSB0aW1lcyBhIHJlYWN0aW9uIGlzIGFsbG93ZWQgdG8gcmUtdHJpZ2dlciBpdHNlbGZcclxuICogdW50aWwgaXQgaXMgYXNzdW1lZCB0aGF0IHRoaXMgaXMgZ29ubmEgYmUgYSBuZXZlciBlbmRpbmcgbG9vcC4uLlxyXG4gKi9cclxudmFyIE1BWF9SRUFDVElPTl9JVEVSQVRJT05TID0gMTAwO1xyXG52YXIgcmVhY3Rpb25TY2hlZHVsZXIgPSBmdW5jdGlvbiAoZikgeyByZXR1cm4gZigpOyB9O1xyXG5mdW5jdGlvbiBydW5SZWFjdGlvbnMoKSB7XHJcbiAgICAvLyBUcmFtcG9saW5pbmcsIGlmIHJ1blJlYWN0aW9ucyBhcmUgYWxyZWFkeSBydW5uaW5nLCBuZXcgcmVhY3Rpb25zIHdpbGwgYmUgcGlja2VkIHVwXHJcbiAgICBpZiAoZ2xvYmFsU3RhdGUuaW5CYXRjaCA+IDAgfHwgZ2xvYmFsU3RhdGUuaXNSdW5uaW5nUmVhY3Rpb25zKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHJlYWN0aW9uU2NoZWR1bGVyKHJ1blJlYWN0aW9uc0hlbHBlcik7XHJcbn1cclxuZnVuY3Rpb24gcnVuUmVhY3Rpb25zSGVscGVyKCkge1xyXG4gICAgZ2xvYmFsU3RhdGUuaXNSdW5uaW5nUmVhY3Rpb25zID0gdHJ1ZTtcclxuICAgIHZhciBhbGxSZWFjdGlvbnMgPSBnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zO1xyXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xyXG4gICAgLy8gV2hpbGUgcnVubmluZyByZWFjdGlvbnMsIG5ldyByZWFjdGlvbnMgbWlnaHQgYmUgdHJpZ2dlcmVkLlxyXG4gICAgLy8gSGVuY2Ugd2Ugd29yayB3aXRoIHR3byB2YXJpYWJsZXMgYW5kIGNoZWNrIHdoZXRoZXJcclxuICAgIC8vIHdlIGNvbnZlcmdlIHRvIG5vIHJlbWFpbmluZyByZWFjdGlvbnMgYWZ0ZXIgYSB3aGlsZS5cclxuICAgIHdoaWxlIChhbGxSZWFjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGlmICgrK2l0ZXJhdGlvbnMgPT09IE1BWF9SRUFDVElPTl9JVEVSQVRJT05TKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZWFjdGlvbiBkb2Vzbid0IGNvbnZlcmdlIHRvIGEgc3RhYmxlIHN0YXRlIGFmdGVyIFwiICsgTUFYX1JFQUNUSU9OX0lURVJBVElPTlMgKyBcIiBpdGVyYXRpb25zLlwiICtcclxuICAgICAgICAgICAgICAgIChcIiBQcm9iYWJseSB0aGVyZSBpcyBhIGN5Y2xlIGluIHRoZSByZWFjdGl2ZSBmdW5jdGlvbjogXCIgKyBhbGxSZWFjdGlvbnNbMF0pKTtcclxuICAgICAgICAgICAgYWxsUmVhY3Rpb25zLnNwbGljZSgwKTsgLy8gY2xlYXIgcmVhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZW1haW5pbmdSZWFjdGlvbnMgPSBhbGxSZWFjdGlvbnMuc3BsaWNlKDApO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVtYWluaW5nUmVhY3Rpb25zLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuICAgICAgICAgICAgcmVtYWluaW5nUmVhY3Rpb25zW2ldLnJ1blJlYWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBnbG9iYWxTdGF0ZS5pc1J1bm5pbmdSZWFjdGlvbnMgPSBmYWxzZTtcclxufVxyXG52YXIgaXNSZWFjdGlvbiA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJSZWFjdGlvblwiLCBSZWFjdGlvbik7XHJcbmZ1bmN0aW9uIHNldFJlYWN0aW9uU2NoZWR1bGVyKGZuKSB7XHJcbiAgICB2YXIgYmFzZVNjaGVkdWxlciA9IHJlYWN0aW9uU2NoZWR1bGVyO1xyXG4gICAgcmVhY3Rpb25TY2hlZHVsZXIgPSBmdW5jdGlvbiAoZikgeyByZXR1cm4gZm4oZnVuY3Rpb24gKCkgeyByZXR1cm4gYmFzZVNjaGVkdWxlcihmKTsgfSk7IH07XHJcbn1cblxuZnVuY3Rpb24gaXNTcHlFbmFibGVkKCkge1xyXG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhIWdsb2JhbFN0YXRlLnNweUxpc3RlbmVycy5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gc3B5UmVwb3J0KGV2ZW50KSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgIHJldHVybjsgLy8gZGVhZCBjb2RlIGVsaW1pbmF0aW9uIGNhbiBkbyB0aGUgcmVzdFxyXG4gICAgaWYgKCFnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciBsaXN0ZW5lcnMgPSBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnM7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyBpKyspXHJcbiAgICAgICAgbGlzdGVuZXJzW2ldKGV2ZW50KTtcclxufVxyXG5mdW5jdGlvbiBzcHlSZXBvcnRTdGFydChldmVudCkge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICByZXR1cm47XHJcbiAgICB2YXIgY2hhbmdlID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGV2ZW50KSwgeyBzcHlSZXBvcnRTdGFydDogdHJ1ZSB9KTtcclxuICAgIHNweVJlcG9ydChjaGFuZ2UpO1xyXG59XHJcbnZhciBFTkRfRVZFTlQgPSB7IHNweVJlcG9ydEVuZDogdHJ1ZSB9O1xyXG5mdW5jdGlvbiBzcHlSZXBvcnRFbmQoY2hhbmdlKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmIChjaGFuZ2UpXHJcbiAgICAgICAgc3B5UmVwb3J0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7IHNweVJlcG9ydEVuZDogdHJ1ZSB9KSk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgc3B5UmVwb3J0KEVORF9FVkVOVCk7XHJcbn1cclxuZnVuY3Rpb24gc3B5KGxpc3RlbmVyKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiW21vYnguc3B5XSBJcyBhIG5vLW9wIGluIHByb2R1Y3Rpb24gYnVpbGRzXCIpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgcmV0dXJuIG9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMgPSBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsKSB7IHJldHVybiBsICE9PSBsaXN0ZW5lcjsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZG9udFJlYXNzaWduRmllbGRzKCkge1xyXG4gICAgZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJAYWN0aW9uIGZpZWxkcyBhcmUgbm90IHJlYXNzaWduYWJsZVwiKTtcclxufVxyXG5mdW5jdGlvbiBuYW1lZEFjdGlvbkRlY29yYXRvcihuYW1lKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwoXCJAYWN0aW9uIGNhbm5vdCBiZSB1c2VkIHdpdGggZ2V0dGVyc1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBiYWJlbCAvIHR5cGVzY3JpcHRcclxuICAgICAgICAgICAgLy8gQGFjdGlvbiBtZXRob2QoKSB7IH1cclxuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3IudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHR5cGVzY3JpcHRcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNyZWF0ZUFjdGlvbihuYW1lLCBkZXNjcmlwdG9yLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUgLy8gZm9yIHR5cGVzY3JpcHQsIHRoaXMgbXVzdCBiZSB3cml0YWJsZSwgb3RoZXJ3aXNlIGl0IGNhbm5vdCBpbmhlcml0IDovIChzZWUgaW5oZXJpdGFibGUgYWN0aW9ucyB0ZXN0KVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBiYWJlbCBvbmx5OiBAYWN0aW9uIG1ldGhvZCA9ICgpID0+IHt9XHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsaXplcl8xID0gZGVzY3JpcHRvci5pbml0aWFsaXplcjtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE4uQjogd2UgY2FuJ3QgaW1tZWRpYXRlbHkgaW52b2tlIGluaXRpYWxpemVyOyB0aGlzIHdvdWxkIGJlIHdyb25nXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFjdGlvbihuYW1lLCBpbml0aWFsaXplcl8xLmNhbGwodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBib3VuZCBpbnN0YW5jZSBtZXRob2RzXHJcbiAgICAgICAgcmV0dXJuIGFjdGlvbkZpZWxkRGVjb3JhdG9yKG5hbWUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGFjdGlvbkZpZWxkRGVjb3JhdG9yKG5hbWUpIHtcclxuICAgIC8vIFNpbXBsZSBwcm9wZXJ0eSB0aGF0IHdyaXRlcyBvbiBmaXJzdCBpbnZvY2F0aW9uIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYWRkSGlkZGVuUHJvcCh0aGlzLCBwcm9wLCBhY3Rpb24obmFtZSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBib3VuZEFjdGlvbkRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvciwgYXBwbHlUb0luc3RhbmNlKSB7XHJcbiAgICBpZiAoYXBwbHlUb0luc3RhbmNlID09PSB0cnVlKSB7XHJcbiAgICAgICAgZGVmaW5lQm91bmRBY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGRlc2NyaXB0b3IudmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlc2NyaXB0b3IpIHtcclxuICAgICAgICAvLyBpZiAoZGVzY3JpcHRvci52YWx1ZSlcclxuICAgICAgICAvLyBUeXBlc2NyaXB0IC8gQmFiZWw6IEBhY3Rpb24uYm91bmQgbWV0aG9kKCkgeyB9XHJcbiAgICAgICAgLy8gYWxzbzogYmFiZWwgQGFjdGlvbi5ib3VuZCBtZXRob2QgPSAoKSA9PiB7fVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5lQm91bmRBY3Rpb24odGhpcywgcHJvcGVydHlOYW1lLCBkZXNjcmlwdG9yLnZhbHVlIHx8IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGRvbnRSZWFzc2lnbkZpZWxkc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBmaWVsZCBkZWNvcmF0b3IgVHlwZXNjcmlwdCBAYWN0aW9uLmJvdW5kIG1ldGhvZCA9ICgpID0+IHt9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIGRlZmluZUJvdW5kQWN0aW9uKHRoaXMsIHByb3BlcnR5TmFtZSwgdik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbnZhciBhY3Rpb24gPSBmdW5jdGlvbiBhY3Rpb24oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xyXG4gICAgLy8gYWN0aW9uKGZuKCkge30pXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVBY3Rpb24oYXJnMS5uYW1lIHx8IFwiPHVubmFtZWQgYWN0aW9uPlwiLCBhcmcxKTtcclxuICAgIC8vIGFjdGlvbihcIm5hbWVcIiwgZm4oKSB7fSlcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmcyID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFjdGlvbihhcmcxLCBhcmcyKTtcclxuICAgIC8vIEBhY3Rpb24oXCJuYW1lXCIpIGZuKCkge31cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmcxID09PSBcInN0cmluZ1wiKVxyXG4gICAgICAgIHJldHVybiBuYW1lZEFjdGlvbkRlY29yYXRvcihhcmcxKTtcclxuICAgIC8vIEBhY3Rpb24gZm4oKSB7fVxyXG4gICAgaWYgKGFyZzQgPT09IHRydWUpIHtcclxuICAgICAgICAvLyBhcHBseSB0byBpbnN0YW5jZSBpbW1lZGlhdGVseVxyXG4gICAgICAgIGFkZEhpZGRlblByb3AoYXJnMSwgYXJnMiwgY3JlYXRlQWN0aW9uKGFyZzEubmFtZSB8fCBhcmcyLCBhcmczLnZhbHVlLCB0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmFtZWRBY3Rpb25EZWNvcmF0b3IoYXJnMikuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxufTtcclxuYWN0aW9uLmJvdW5kID0gYm91bmRBY3Rpb25EZWNvcmF0b3I7XHJcbmZ1bmN0aW9uIHJ1bkluQWN0aW9uKGFyZzEsIGFyZzIpIHtcclxuICAgIHZhciBhY3Rpb25OYW1lID0gdHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIgPyBhcmcxIDogYXJnMS5uYW1lIHx8IFwiPHVubmFtZWQgYWN0aW9uPlwiO1xyXG4gICAgdmFyIGZuID0gdHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIiA/IGFyZzEgOiBhcmcyO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgIGludmFyaWFudCh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIiAmJiBmbi5sZW5ndGggPT09IDAsIFwiYHJ1bkluQWN0aW9uYCBleHBlY3RzIGEgZnVuY3Rpb24gd2l0aG91dCBhcmd1bWVudHNcIik7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25OYW1lICE9PSBcInN0cmluZ1wiIHx8ICFhY3Rpb25OYW1lKVxyXG4gICAgICAgICAgICBmYWlsKFwiYWN0aW9ucyBzaG91bGQgaGF2ZSB2YWxpZCBuYW1lcywgZ290OiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4ZWN1dGVBY3Rpb24oYWN0aW9uTmFtZSwgZm4sIHRoaXMsIHVuZGVmaW5lZCk7XHJcbn1cclxuZnVuY3Rpb24gaXNBY3Rpb24odGhpbmcpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwiZnVuY3Rpb25cIiAmJiB0aGluZy5pc01vYnhBY3Rpb24gPT09IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gZGVmaW5lQm91bmRBY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGZuKSB7XHJcbiAgICBhZGRIaWRkZW5Qcm9wKHRhcmdldCwgcHJvcGVydHlOYW1lLCBjcmVhdGVBY3Rpb24ocHJvcGVydHlOYW1lLCBmbi5iaW5kKHRhcmdldCkpKTtcclxufVxuXG4vKipcclxuICogQ3JlYXRlcyBhIG5hbWVkIHJlYWN0aXZlIHZpZXcgYW5kIGtlZXBzIGl0IGFsaXZlLCBzbyB0aGF0IHRoZSB2aWV3IGlzIGFsd2F5c1xyXG4gKiB1cGRhdGVkIGlmIG9uZSBvZiB0aGUgZGVwZW5kZW5jaWVzIGNoYW5nZXMsIGV2ZW4gd2hlbiB0aGUgdmlldyBpcyBub3QgZnVydGhlciB1c2VkIGJ5IHNvbWV0aGluZyBlbHNlLlxyXG4gKiBAcGFyYW0gdmlldyBUaGUgcmVhY3RpdmUgdmlld1xyXG4gKiBAcmV0dXJucyBkaXNwb3NlciBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gc3RvcCB0aGUgdmlldyBmcm9tIGJlaW5nIHVwZGF0ZWQgaW4gdGhlIGZ1dHVyZS5cclxuICovXHJcbmZ1bmN0aW9uIGF1dG9ydW4odmlldywgb3B0cykge1xyXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0gRU1QVFlfT0JKRUNUOyB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiB2aWV3ID09PSBcImZ1bmN0aW9uXCIsIFwiQXV0b3J1biBleHBlY3RzIGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcIik7XHJcbiAgICAgICAgaW52YXJpYW50KGlzQWN0aW9uKHZpZXcpID09PSBmYWxzZSwgXCJBdXRvcnVuIGRvZXMgbm90IGFjY2VwdCBhY3Rpb25zIHNpbmNlIGFjdGlvbnMgYXJlIHVudHJhY2thYmxlXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIG5hbWUgPSAob3B0cyAmJiBvcHRzLm5hbWUpIHx8IHZpZXcubmFtZSB8fCBcIkF1dG9ydW5AXCIgKyBnZXROZXh0SWQoKTtcclxuICAgIHZhciBydW5TeW5jID0gIW9wdHMuc2NoZWR1bGVyICYmICFvcHRzLmRlbGF5O1xyXG4gICAgdmFyIHJlYWN0aW9uO1xyXG4gICAgaWYgKHJ1blN5bmMpIHtcclxuICAgICAgICAvLyBub3JtYWwgYXV0b3J1blxyXG4gICAgICAgIHJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFjayhyZWFjdGlvblJ1bm5lcik7XHJcbiAgICAgICAgfSwgb3B0cy5vbkVycm9yLCBvcHRzLnJlcXVpcmVzT2JzZXJ2YWJsZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgc2NoZWR1bGVyXzEgPSBjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyhvcHRzKTtcclxuICAgICAgICAvLyBkZWJvdW5jZWQgYXV0b3J1blxyXG4gICAgICAgIHZhciBpc1NjaGVkdWxlZF8xID0gZmFsc2U7XHJcbiAgICAgICAgcmVhY3Rpb24gPSBuZXcgUmVhY3Rpb24obmFtZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzU2NoZWR1bGVkXzEpIHtcclxuICAgICAgICAgICAgICAgIGlzU2NoZWR1bGVkXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVyXzEoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2NoZWR1bGVkXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlYWN0aW9uLmlzRGlzcG9zZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0aW9uLnRyYWNrKHJlYWN0aW9uUnVubmVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgb3B0cy5vbkVycm9yLCBvcHRzLnJlcXVpcmVzT2JzZXJ2YWJsZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFjdGlvblJ1bm5lcigpIHtcclxuICAgICAgICB2aWV3KHJlYWN0aW9uKTtcclxuICAgIH1cclxuICAgIHJlYWN0aW9uLnNjaGVkdWxlKCk7XHJcbiAgICByZXR1cm4gcmVhY3Rpb24uZ2V0RGlzcG9zZXIoKTtcclxufVxyXG52YXIgcnVuID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYoKTsgfTtcclxuZnVuY3Rpb24gY3JlYXRlU2NoZWR1bGVyRnJvbU9wdGlvbnMob3B0cykge1xyXG4gICAgcmV0dXJuIG9wdHMuc2NoZWR1bGVyXHJcbiAgICAgICAgPyBvcHRzLnNjaGVkdWxlclxyXG4gICAgICAgIDogb3B0cy5kZWxheVxyXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChmKSB7IHJldHVybiBzZXRUaW1lb3V0KGYsIG9wdHMuZGVsYXkpOyB9XHJcbiAgICAgICAgICAgIDogcnVuO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aW9uKGV4cHJlc3Npb24sIGVmZmVjdCwgb3B0cykge1xyXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0gRU1QVFlfT0JKRUNUOyB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBleHByZXNzaW9uID09PSBcImZ1bmN0aW9uXCIsIFwiRmlyc3QgYXJndW1lbnQgdG8gcmVhY3Rpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBvcHRzID09PSBcIm9iamVjdFwiLCBcIlRoaXJkIGFyZ3VtZW50IG9mIHJlYWN0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0XCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIG5hbWUgPSBvcHRzLm5hbWUgfHwgXCJSZWFjdGlvbkBcIiArIGdldE5leHRJZCgpO1xyXG4gICAgdmFyIGVmZmVjdEFjdGlvbiA9IGFjdGlvbihuYW1lLCBvcHRzLm9uRXJyb3IgPyB3cmFwRXJyb3JIYW5kbGVyKG9wdHMub25FcnJvciwgZWZmZWN0KSA6IGVmZmVjdCk7XHJcbiAgICB2YXIgcnVuU3luYyA9ICFvcHRzLnNjaGVkdWxlciAmJiAhb3B0cy5kZWxheTtcclxuICAgIHZhciBzY2hlZHVsZXIgPSBjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyhvcHRzKTtcclxuICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xyXG4gICAgdmFyIGlzU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICB2YXIgdmFsdWU7XHJcbiAgICB2YXIgZXF1YWxzID0gb3B0cy5jb21wYXJlU3RydWN0dXJhbFxyXG4gICAgICAgID8gY29tcGFyZXIuc3RydWN0dXJhbFxyXG4gICAgICAgIDogb3B0cy5lcXVhbHMgfHwgY29tcGFyZXIuZGVmYXVsdDtcclxuICAgIHZhciByID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZmlyc3RUaW1lIHx8IHJ1blN5bmMpIHtcclxuICAgICAgICAgICAgcmVhY3Rpb25SdW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWlzU2NoZWR1bGVkKSB7XHJcbiAgICAgICAgICAgIGlzU2NoZWR1bGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2NoZWR1bGVyKHJlYWN0aW9uUnVubmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBvcHRzLm9uRXJyb3IsIG9wdHMucmVxdWlyZXNPYnNlcnZhYmxlKTtcclxuICAgIGZ1bmN0aW9uIHJlYWN0aW9uUnVubmVyKCkge1xyXG4gICAgICAgIGlzU2NoZWR1bGVkID0gZmFsc2U7IC8vIFE6IG1vdmUgaW50byByZWFjdGlvbiBydW5uZXI/XHJcbiAgICAgICAgaWYgKHIuaXNEaXNwb3NlZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgci50cmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBleHByZXNzaW9uKHIpO1xyXG4gICAgICAgICAgICBjaGFuZ2VkID0gZmlyc3RUaW1lIHx8ICFlcXVhbHModmFsdWUsIG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChmaXJzdFRpbWUgJiYgb3B0cy5maXJlSW1tZWRpYXRlbHkpXHJcbiAgICAgICAgICAgIGVmZmVjdEFjdGlvbih2YWx1ZSwgcik7XHJcbiAgICAgICAgaWYgKCFmaXJzdFRpbWUgJiYgY2hhbmdlZCA9PT0gdHJ1ZSlcclxuICAgICAgICAgICAgZWZmZWN0QWN0aW9uKHZhbHVlLCByKTtcclxuICAgICAgICBpZiAoZmlyc3RUaW1lKVxyXG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHIuc2NoZWR1bGUoKTtcclxuICAgIHJldHVybiByLmdldERpc3Bvc2VyKCk7XHJcbn1cclxuZnVuY3Rpb24gd3JhcEVycm9ySGFuZGxlcihlcnJvckhhbmRsZXIsIGJhc2VGbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZUZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGVycm9ySGFuZGxlci5jYWxsKHRoaXMsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gb25CZWNvbWVPYnNlcnZlZCh0aGluZywgYXJnMiwgYXJnMykge1xyXG4gICAgcmV0dXJuIGludGVyY2VwdEhvb2soXCJvbkJlY29tZU9ic2VydmVkXCIsIHRoaW5nLCBhcmcyLCBhcmczKTtcclxufVxyXG5mdW5jdGlvbiBvbkJlY29tZVVub2JzZXJ2ZWQodGhpbmcsIGFyZzIsIGFyZzMpIHtcclxuICAgIHJldHVybiBpbnRlcmNlcHRIb29rKFwib25CZWNvbWVVbm9ic2VydmVkXCIsIHRoaW5nLCBhcmcyLCBhcmczKTtcclxufVxyXG5mdW5jdGlvbiBpbnRlcmNlcHRIb29rKGhvb2ssIHRoaW5nLCBhcmcyLCBhcmczKSB7XHJcbiAgICB2YXIgYXRvbSA9IHR5cGVvZiBhcmczID09PSBcImZ1bmN0aW9uXCIgPyBnZXRBdG9tKHRoaW5nLCBhcmcyKSA6IGdldEF0b20odGhpbmcpO1xyXG4gICAgdmFyIGNiID0gdHlwZW9mIGFyZzMgPT09IFwiZnVuY3Rpb25cIiA/IGFyZzMgOiBhcmcyO1xyXG4gICAgdmFyIGxpc3RlbmVyc0tleSA9IGhvb2sgKyBcIkxpc3RlbmVyc1wiO1xyXG4gICAgaWYgKGF0b21bbGlzdGVuZXJzS2V5XSkge1xyXG4gICAgICAgIGF0b21bbGlzdGVuZXJzS2V5XS5hZGQoY2IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXRvbVtsaXN0ZW5lcnNLZXldID0gbmV3IFNldChbY2JdKTtcclxuICAgIH1cclxuICAgIHZhciBvcmlnID0gYXRvbVtob29rXTtcclxuICAgIGlmICh0eXBlb2Ygb3JpZyAhPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBcIk5vdCBhbiBhdG9tIHRoYXQgY2FuIGJlICh1bilvYnNlcnZlZFwiKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhvb2tMaXN0ZW5lcnMgPSBhdG9tW2xpc3RlbmVyc0tleV07XHJcbiAgICAgICAgaWYgKGhvb2tMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgaG9va0xpc3RlbmVycy5kZWxldGUoY2IpO1xyXG4gICAgICAgICAgICBpZiAoaG9va0xpc3RlbmVycy5zaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgYXRvbVtsaXN0ZW5lcnNLZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBjb25maWd1cmUob3B0aW9ucykge1xyXG4gICAgdmFyIGVuZm9yY2VBY3Rpb25zID0gb3B0aW9ucy5lbmZvcmNlQWN0aW9ucywgY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uID0gb3B0aW9ucy5jb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24sIGNvbXB1dGVkQ29uZmlndXJhYmxlID0gb3B0aW9ucy5jb21wdXRlZENvbmZpZ3VyYWJsZSwgZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IG9wdGlvbnMuZGlzYWJsZUVycm9yQm91bmRhcmllcywgcmVhY3Rpb25TY2hlZHVsZXIgPSBvcHRpb25zLnJlYWN0aW9uU2NoZWR1bGVyLCByZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSA9IG9wdGlvbnMucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUsIG9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uID0gb3B0aW9ucy5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbjtcclxuICAgIGlmIChvcHRpb25zLmlzb2xhdGVHbG9iYWxTdGF0ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGlzb2xhdGVHbG9iYWxTdGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVuZm9yY2VBY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGVuZm9yY2VBY3Rpb25zID09PSBcImJvb2xlYW5cIiB8fCBlbmZvcmNlQWN0aW9ucyA9PT0gXCJzdHJpY3RcIilcclxuICAgICAgICAgICAgZGVwcmVjYXRlZChcIkRlcHJlY2F0ZWQgdmFsdWUgZm9yICdlbmZvcmNlQWN0aW9ucycsIHVzZSAnZmFsc2UnID0+ICdcXFwibmV2ZXJcXFwiJywgJ3RydWUnID0+ICdcXFwib2JzZXJ2ZWRcXFwiJywgJ1xcXCJzdHJpY3RcXFwiJyA9PiBcXFwiJ2Fsd2F5cydcXFwiIGluc3RlYWRcIik7XHJcbiAgICAgICAgdmFyIGVhID0gdm9pZCAwO1xyXG4gICAgICAgIHN3aXRjaCAoZW5mb3JjZUFjdGlvbnMpIHtcclxuICAgICAgICAgICAgY2FzZSB0cnVlOlxyXG4gICAgICAgICAgICBjYXNlIFwib2JzZXJ2ZWRcIjpcclxuICAgICAgICAgICAgICAgIGVhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgICBjYXNlIFwibmV2ZXJcIjpcclxuICAgICAgICAgICAgICAgIGVhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInN0cmljdFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiYWx3YXlzXCI6XHJcbiAgICAgICAgICAgICAgICBlYSA9IFwic3RyaWN0XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGZhaWwoXCJJbnZhbGlkIHZhbHVlIGZvciAnZW5mb3JjZUFjdGlvbnMnOiAnXCIgKyBlbmZvcmNlQWN0aW9ucyArIFwiJywgZXhwZWN0ZWQgJ25ldmVyJywgJ2Fsd2F5cycgb3IgJ29ic2VydmVkJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnMgPSBlYTtcclxuICAgICAgICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGVhID09PSB0cnVlIHx8IGVhID09PSBcInN0cmljdFwiID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uID0gISFjb21wdXRlZFJlcXVpcmVzUmVhY3Rpb247XHJcbiAgICB9XHJcbiAgICBpZiAocmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGdsb2JhbFN0YXRlLnJlYWN0aW9uUmVxdWlyZXNPYnNlcnZhYmxlID0gISFyZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZTtcclxuICAgIH1cclxuICAgIGlmIChvYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUub2JzZXJ2YWJsZVJlcXVpcmVzUmVhY3Rpb24gPSAhIW9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uO1xyXG4gICAgICAgIGdsb2JhbFN0YXRlLmFsbG93U3RhdGVSZWFkcyA9ICFnbG9iYWxTdGF0ZS5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbjtcclxuICAgIH1cclxuICAgIGlmIChjb21wdXRlZENvbmZpZ3VyYWJsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZ2xvYmFsU3RhdGUuY29tcHV0ZWRDb25maWd1cmFibGUgPSAhIWNvbXB1dGVkQ29uZmlndXJhYmxlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpc2FibGVFcnJvckJvdW5kYXJpZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChkaXNhYmxlRXJyb3JCb3VuZGFyaWVzID09PSB0cnVlKVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBEZWJ1ZyBmZWF0dXJlIG9ubHkuIE1vYlggd2lsbCBOT1QgcmVjb3ZlciBmcm9tIGVycm9ycyB3aGVuIGBkaXNhYmxlRXJyb3JCb3VuZGFyaWVzYCBpcyBlbmFibGVkLlwiKTtcclxuICAgICAgICBnbG9iYWxTdGF0ZS5kaXNhYmxlRXJyb3JCb3VuZGFyaWVzID0gISFkaXNhYmxlRXJyb3JCb3VuZGFyaWVzO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlYWN0aW9uU2NoZWR1bGVyKSB7XHJcbiAgICAgICAgc2V0UmVhY3Rpb25TY2hlZHVsZXIocmVhY3Rpb25TY2hlZHVsZXIpO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGRlY29yYXRlKHRoaW5nLCBkZWNvcmF0b3JzKSB7XHJcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICBpbnZhcmlhbnQoaXNQbGFpbk9iamVjdChkZWNvcmF0b3JzKSwgXCJEZWNvcmF0b3JzIHNob3VsZCBiZSBhIGtleSB2YWx1ZSBtYXBcIik7XHJcbiAgICB2YXIgdGFyZ2V0ID0gdHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIgPyB0aGluZy5wcm90b3R5cGUgOiB0aGluZztcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICB2YXIgcHJvcGVydHlEZWNvcmF0b3JzID0gZGVjb3JhdG9yc1twcm9wXTtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcGVydHlEZWNvcmF0b3JzKSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURlY29yYXRvcnMgPSBbcHJvcGVydHlEZWNvcmF0b3JzXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgIGludmFyaWFudChwcm9wZXJ0eURlY29yYXRvcnMuZXZlcnkoZnVuY3Rpb24gKGRlY29yYXRvcikgeyByZXR1cm4gdHlwZW9mIGRlY29yYXRvciA9PT0gXCJmdW5jdGlvblwiOyB9KSwgXCJEZWNvcmF0ZTogZXhwZWN0ZWQgYSBkZWNvcmF0b3IgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZGVjb3JhdG9yIGZ1bmN0aW9ucyBmb3IgJ1wiICsgcHJvcCArIFwiJ1wiKTtcclxuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcclxuICAgICAgICB2YXIgbmV3RGVzY3JpcHRvciA9IHByb3BlcnR5RGVjb3JhdG9ycy5yZWR1Y2UoZnVuY3Rpb24gKGFjY0Rlc2NyaXB0b3IsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcCwgYWNjRGVzY3JpcHRvcik7IH0sIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgIGlmIChuZXdEZXNjcmlwdG9yKVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCBuZXdEZXNjcmlwdG9yKTtcclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBwcm9wIGluIGRlY29yYXRvcnMpIHtcclxuICAgICAgICBfbG9vcF8xKHByb3ApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaW5nO1xyXG59XG5cbmZ1bmN0aW9uIGV4dGVuZE9ic2VydmFibGUodGFyZ2V0LCBwcm9wZXJ0aWVzLCBkZWNvcmF0b3JzLCBvcHRpb25zKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaW52YXJpYW50KGFyZ3VtZW50cy5sZW5ndGggPj0gMiAmJiBhcmd1bWVudHMubGVuZ3RoIDw9IDQsIFwiJ2V4dGVuZE9ic2VydmFibGUnIGV4cGVjdGVkIDItNCBhcmd1bWVudHNcIik7XHJcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIsIFwiJ2V4dGVuZE9ic2VydmFibGUnIGV4cGVjdHMgYW4gb2JqZWN0IGFzIGZpcnN0IGFyZ3VtZW50XCIpO1xyXG4gICAgICAgIGludmFyaWFudCghaXNPYnNlcnZhYmxlTWFwKHRhcmdldCksIFwiJ2V4dGVuZE9ic2VydmFibGUnIHNob3VsZCBub3QgYmUgdXNlZCBvbiBtYXBzLCB1c2UgbWFwLm1lcmdlIGluc3RlYWRcIik7XHJcbiAgICB9XHJcbiAgICBvcHRpb25zID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgIHZhciBkZWZhdWx0RGVjb3JhdG9yID0gZ2V0RGVmYXVsdERlY29yYXRvckZyb21PYmplY3RPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgaW5pdGlhbGl6ZUluc3RhbmNlKHRhcmdldCk7IC8vIEZpeGVzICMxNzQwXHJcbiAgICBhc09ic2VydmFibGVPYmplY3QodGFyZ2V0LCBvcHRpb25zLm5hbWUsIGRlZmF1bHREZWNvcmF0b3IuZW5oYW5jZXIpOyAvLyBtYWtlIHN1cmUgb2JqZWN0IGlzIG9ic2VydmFibGUsIGV2ZW4gd2l0aG91dCBpbml0aWFsIHByb3BzXHJcbiAgICBpZiAocHJvcGVydGllcylcclxuICAgICAgICBleHRlbmRPYnNlcnZhYmxlT2JqZWN0V2l0aFByb3BlcnRpZXModGFyZ2V0LCBwcm9wZXJ0aWVzLCBkZWNvcmF0b3JzLCBkZWZhdWx0RGVjb3JhdG9yKTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdERlY29yYXRvckZyb21PYmplY3RPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBvcHRpb25zLmRlZmF1bHREZWNvcmF0b3IgfHwgKG9wdGlvbnMuZGVlcCA9PT0gZmFsc2UgPyByZWZEZWNvcmF0b3IgOiBkZWVwRGVjb3JhdG9yKTtcclxufVxyXG5mdW5jdGlvbiBleHRlbmRPYnNlcnZhYmxlT2JqZWN0V2l0aFByb3BlcnRpZXModGFyZ2V0LCBwcm9wZXJ0aWVzLCBkZWNvcmF0b3JzLCBkZWZhdWx0RGVjb3JhdG9yKSB7XHJcbiAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgICAgICBpbnZhcmlhbnQoIWlzT2JzZXJ2YWJsZShwcm9wZXJ0aWVzKSwgXCJFeHRlbmRpbmcgYW4gb2JqZWN0IHdpdGggYW5vdGhlciBvYnNlcnZhYmxlIChvYmplY3QpIGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBjb25zdHJ1Y3QgYW4gZXhwbGljaXQgcHJvcGVydHltYXAsIHVzaW5nIGB0b0pTYCBpZiBuZWVkLiBTZWUgaXNzdWUgIzU0MFwiKTtcclxuICAgICAgICBpZiAoZGVjb3JhdG9ycykge1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IGdldFBsYWluT2JqZWN0S2V5cyhkZWNvcmF0b3JzKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXNfMSA9IF9fdmFsdWVzKGtleXMpLCBrZXlzXzFfMSA9IGtleXNfMS5uZXh0KCk7ICFrZXlzXzFfMS5kb25lOyBrZXlzXzFfMSA9IGtleXNfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHByb3BlcnRpZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKFwiVHJ5aW5nIHRvIGRlY2xhcmUgYSBkZWNvcmF0b3IgZm9yIHVuc3BlY2lmaWVkIHByb3BlcnR5ICdcIiArIHN0cmluZ2lmeUtleShrZXkpICsgXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5c18xXzEgJiYgIWtleXNfMV8xLmRvbmUgJiYgKF9hID0ga2V5c18xLnJldHVybikpIF9hLmNhbGwoa2V5c18xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0QmF0Y2goKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBnZXRQbGFpbk9iamVjdEtleXMocHJvcGVydGllcyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5c18yID0gX192YWx1ZXMoa2V5cyksIGtleXNfMl8xID0ga2V5c18yLm5leHQoKTsgIWtleXNfMl8xLmRvbmU7IGtleXNfMl8xID0ga2V5c18yLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMl8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3BlcnRpZXMsIGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKFwiJ2V4dGVuZE9ic2VydmFiZScgb25seSBhY2NlcHRzIHBsYWluIG9iamVjdHMgYXMgc2Vjb25kIGFyZ3VtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkKGRlc2NyaXB0b3IudmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKFwiUGFzc2luZyBhICdjb21wdXRlZCcgYXMgaW5pdGlhbCBwcm9wZXJ0eSB2YWx1ZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGJ5IGV4dGVuZE9ic2VydmFibGUuIFVzZSBhIGdldHRlciBvciBkZWNvcmF0b3IgaW5zdGVhZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzICYmIGtleSBpbiBkZWNvcmF0b3JzXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkZWNvcmF0b3JzW2tleV1cclxuICAgICAgICAgICAgICAgICAgICA6IGRlc2NyaXB0b3IuZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcHV0ZWREZWNvcmF0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0RGVjb3JhdG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiB0eXBlb2YgZGVjb3JhdG9yICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbChcIk5vdCBhIHZhbGlkIGRlY29yYXRvciBmb3IgJ1wiICsgc3RyaW5naWZ5S2V5KGtleSkgKyBcIicsIGdvdDogXCIgKyBkZWNvcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdERlc2NyaXB0b3IgPSBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdERlc2NyaXB0b3IgLy8gb3RoZXJ3aXNlLCBhc3N1bWUgYWxyZWFkeSBhcHBsaWVkLCBkdWUgdG8gYGFwcGx5VG9JbnN0YW5jZWBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHJlc3VsdERlc2NyaXB0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5c18yXzEgJiYgIWtleXNfMl8xLmRvbmUgJiYgKF9iID0ga2V5c18yLnJldHVybikpIF9iLmNhbGwoa2V5c18yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgZW5kQmF0Y2goKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBnZXREZXBlbmRlbmN5VHJlZSh0aGluZywgcHJvcGVydHkpIHtcclxuICAgIHJldHVybiBub2RlVG9EZXBlbmRlbmN5VHJlZShnZXRBdG9tKHRoaW5nLCBwcm9wZXJ0eSkpO1xyXG59XHJcbmZ1bmN0aW9uIG5vZGVUb0RlcGVuZGVuY3lUcmVlKG5vZGUpIHtcclxuICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgbmFtZTogbm9kZS5uYW1lXHJcbiAgICB9O1xyXG4gICAgaWYgKG5vZGUub2JzZXJ2aW5nICYmIG5vZGUub2JzZXJ2aW5nLmxlbmd0aCA+IDApXHJcbiAgICAgICAgcmVzdWx0LmRlcGVuZGVuY2llcyA9IHVuaXF1ZShub2RlLm9ic2VydmluZykubWFwKG5vZGVUb0RlcGVuZGVuY3lUcmVlKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gZ2V0T2JzZXJ2ZXJUcmVlKHRoaW5nLCBwcm9wZXJ0eSkge1xyXG4gICAgcmV0dXJuIG5vZGVUb09ic2VydmVyVHJlZShnZXRBdG9tKHRoaW5nLCBwcm9wZXJ0eSkpO1xyXG59XHJcbmZ1bmN0aW9uIG5vZGVUb09ic2VydmVyVHJlZShub2RlKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0ge1xyXG4gICAgICAgIG5hbWU6IG5vZGUubmFtZVxyXG4gICAgfTtcclxuICAgIGlmIChoYXNPYnNlcnZlcnMobm9kZSkpXHJcbiAgICAgICAgcmVzdWx0Lm9ic2VydmVycyA9IEFycmF5LmZyb20oZ2V0T2JzZXJ2ZXJzKG5vZGUpKS5tYXAobm9kZVRvT2JzZXJ2ZXJUcmVlKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cblxudmFyIGdlbmVyYXRvcklkID0gMDtcclxuZnVuY3Rpb24gRmxvd0NhbmNlbGxhdGlvbkVycm9yKCkge1xyXG4gICAgdGhpcy5tZXNzYWdlID0gXCJGTE9XX0NBTkNFTExFRFwiO1xyXG59XHJcbkZsb3dDYW5jZWxsYXRpb25FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XHJcbmZ1bmN0aW9uIGlzRmxvd0NhbmNlbGxhdGlvbkVycm9yKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBGbG93Q2FuY2VsbGF0aW9uRXJyb3I7XHJcbn1cclxuZnVuY3Rpb24gZmxvdyhnZW5lcmF0b3IpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKVxyXG4gICAgICAgIGZhaWwoISFwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBcIkZsb3cgZXhwZWN0cyAxIGFyZ3VtZW50IGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBkZWNvcmF0b3JcIik7XHJcbiAgICB2YXIgbmFtZSA9IGdlbmVyYXRvci5uYW1lIHx8IFwiPHVubmFtZWQgZmxvdz5cIjtcclxuICAgIC8vIEltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90ai9jby9ibG9iL21hc3Rlci9pbmRleC5qc1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3R4ID0gdGhpcztcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICB2YXIgcnVuSWQgPSArK2dlbmVyYXRvcklkO1xyXG4gICAgICAgIHZhciBnZW4gPSBhY3Rpb24obmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIGluaXRcIiwgZ2VuZXJhdG9yKS5hcHBseShjdHgsIGFyZ3MpO1xyXG4gICAgICAgIHZhciByZWplY3RvcjtcclxuICAgICAgICB2YXIgcGVuZGluZ1Byb21pc2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzdGVwSWQgPSAwO1xyXG4gICAgICAgICAgICByZWplY3RvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nUHJvbWlzZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHZhciByZXQ7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbihuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0geWllbGQgXCIgKyBzdGVwSWQrKywgZ2VuLm5leHQpLmNhbGwoZ2VuLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dChyZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nUHJvbWlzZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHZhciByZXQ7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbihuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0geWllbGQgXCIgKyBzdGVwSWQrKywgZ2VuLnRocm93KS5jYWxsKGdlbiwgZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHQocmV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KHJldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldCAmJiB0eXBlb2YgcmV0LnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGFzeW5jIGl0ZXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LnRoZW4obmV4dCwgcmVqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0LmRvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmV0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHJldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1Byb21pc2UudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb25GdWxmaWxsZWQodW5kZWZpbmVkKTsgLy8ga2ljayBvZmYgdGhlIHByb2Nlc3NcclxuICAgICAgICB9KTtcclxuICAgICAgICBwcm9taXNlLmNhbmNlbCA9IGFjdGlvbihuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0gY2FuY2VsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nUHJvbWlzZSlcclxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxQcm9taXNlKHBlbmRpbmdQcm9taXNlKTtcclxuICAgICAgICAgICAgICAgIC8vIEZpbmFsbHkgYmxvY2sgY2FuIHJldHVybiAob3IgeWllbGQpIHN0dWZmLi5cclxuICAgICAgICAgICAgICAgIHZhciByZXMgPSBnZW4ucmV0dXJuKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBlYXQgYW55dGhpbmcgdGhhdCBwcm9taXNlIHdvdWxkIGRvLCBpdCdzIGNhbmNlbGxlZCFcclxuICAgICAgICAgICAgICAgIHZhciB5aWVsZGVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShyZXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgeWllbGRlZFByb21pc2UudGhlbihub29wLCBub29wKTtcclxuICAgICAgICAgICAgICAgIGNhbmNlbFByb21pc2UoeWllbGRlZFByb21pc2UpOyAvLyBtYXliZSBpdCBjYW4gYmUgY2FuY2VsbGVkIDopXHJcbiAgICAgICAgICAgICAgICAvLyByZWplY3Qgb3VyIG9yaWdpbmFsIHByb21pc2VcclxuICAgICAgICAgICAgICAgIHJlamVjdG9yKG5ldyBGbG93Q2FuY2VsbGF0aW9uRXJyb3IoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdG9yKGUpOyAvLyB0aGVyZSBjb3VsZCBiZSBhIHRocm93aW5nIGZpbmFsbHkgYmxvY2tcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjYW5jZWxQcm9taXNlKHByb21pc2UpIHtcclxuICAgIGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBwcm9taXNlLmNhbmNlbCgpO1xyXG59XG5cbmZ1bmN0aW9uIGludGVyY2VwdFJlYWRzKHRoaW5nLCBwcm9wT3JIYW5kbGVyLCBoYW5kbGVyKSB7XHJcbiAgICB2YXIgdGFyZ2V0O1xyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCh0aGluZykgfHwgaXNPYnNlcnZhYmxlQXJyYXkodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZVZhbHVlKHRoaW5nKSkge1xyXG4gICAgICAgIHRhcmdldCA9IGdldEFkbWluaXN0cmF0aW9uKHRoaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh0aGluZykpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BPckhhbmRsZXIgIT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICAgICAgXCJJbnRlcmNlcHRSZWFkcyBjYW4gb25seSBiZSB1c2VkIHdpdGggYSBzcGVjaWZpYyBwcm9wZXJ0eSwgbm90IHdpdGggYW4gb2JqZWN0IGluIGdlbmVyYWxcIik7XHJcbiAgICAgICAgdGFyZ2V0ID0gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcsIHByb3BPckhhbmRsZXIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgb2JzZXJ2YWJsZSBtYXAsIG9iamVjdCBvciBhcnJheSBhcyBmaXJzdCBhcnJheVwiKTtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQuZGVoYW5jZXIgIT09IHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJBbiBpbnRlcmNlcHQgcmVhZGVyIHdhcyBhbHJlYWR5IGVzdGFibGlzaGVkXCIpO1xyXG4gICAgdGFyZ2V0LmRlaGFuY2VyID0gdHlwZW9mIHByb3BPckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIiA/IHByb3BPckhhbmRsZXIgOiBoYW5kbGVyO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0YXJnZXQuZGVoYW5jZXIgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGludGVyY2VwdCh0aGluZywgcHJvcE9ySGFuZGxlciwgaGFuZGxlcikge1xyXG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdFByb3BlcnR5KHRoaW5nLCBwcm9wT3JIYW5kbGVyLCBoYW5kbGVyKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gaW50ZXJjZXB0SW50ZXJjZXB0YWJsZSh0aGluZywgcHJvcE9ySGFuZGxlcik7XHJcbn1cclxuZnVuY3Rpb24gaW50ZXJjZXB0SW50ZXJjZXB0YWJsZSh0aGluZywgaGFuZGxlcikge1xyXG4gICAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nKS5pbnRlcmNlcHQoaGFuZGxlcik7XHJcbn1cclxuZnVuY3Rpb24gaW50ZXJjZXB0UHJvcGVydHkodGhpbmcsIHByb3BlcnR5LCBoYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcsIHByb3BlcnR5KS5pbnRlcmNlcHQoaGFuZGxlcik7XHJcbn1cblxuZnVuY3Rpb24gX2lzQ29tcHV0ZWQodmFsdWUsIHByb3BlcnR5KSB7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChpc09ic2VydmFibGVPYmplY3QodmFsdWUpID09PSBmYWxzZSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICghdmFsdWVbJG1vYnhdLnZhbHVlcy5oYXMocHJvcGVydHkpKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgdmFyIGF0b20gPSBnZXRBdG9tKHZhbHVlLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgcmV0dXJuIGlzQ29tcHV0ZWRWYWx1ZShhdG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc0NvbXB1dGVkVmFsdWUodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcHV0ZWQodmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSlcclxuICAgICAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICAgICAgXCJpc0NvbXB1dGVkIGV4cGVjdHMgb25seSAxIGFyZ3VtZW50LiBVc2UgaXNPYnNlcnZhYmxlUHJvcCB0byBpbnNwZWN0IHRoZSBvYnNlcnZhYmlsaXR5IG9mIGEgcHJvcGVydHlcIik7XHJcbiAgICByZXR1cm4gX2lzQ29tcHV0ZWQodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcHV0ZWRQcm9wKHZhbHVlLCBwcm9wTmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBwcm9wTmFtZSAhPT0gXCJzdHJpbmdcIilcclxuICAgICAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICAgICAgXCJpc0NvbXB1dGVkIGV4cGVjdGVkIGEgcHJvcGVydHkgbmFtZSBhcyBzZWNvbmQgYXJndW1lbnRcIik7XHJcbiAgICByZXR1cm4gX2lzQ29tcHV0ZWQodmFsdWUsIHByb3BOYW1lKTtcclxufVxuXG5mdW5jdGlvbiBfaXNPYnNlcnZhYmxlKHZhbHVlLCBwcm9wZXJ0eSkge1xyXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgIChpc09ic2VydmFibGVNYXAodmFsdWUpIHx8IGlzT2JzZXJ2YWJsZUFycmF5KHZhbHVlKSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWlsKFwiaXNPYnNlcnZhYmxlKG9iamVjdCwgcHJvcGVydHlOYW1lKSBpcyBub3Qgc3VwcG9ydGVkIGZvciBhcnJheXMgYW5kIG1hcHMuIFVzZSBtYXAuaGFzIG9yIGFycmF5Lmxlbmd0aCBpbnN0ZWFkLlwiKTtcclxuICAgICAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVbJG1vYnhdLnZhbHVlcy5oYXMocHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBGb3IgZmlyc3QgY2hlY2ssIHNlZSAjNzAxXHJcbiAgICByZXR1cm4gKGlzT2JzZXJ2YWJsZU9iamVjdCh2YWx1ZSkgfHxcclxuICAgICAgICAhIXZhbHVlWyRtb2J4XSB8fFxyXG4gICAgICAgIGlzQXRvbSh2YWx1ZSkgfHxcclxuICAgICAgICBpc1JlYWN0aW9uKHZhbHVlKSB8fFxyXG4gICAgICAgIGlzQ29tcHV0ZWRWYWx1ZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpXHJcbiAgICAgICAgZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICAgICAgXCJpc09ic2VydmFibGUgZXhwZWN0cyBvbmx5IDEgYXJndW1lbnQuIFVzZSBpc09ic2VydmFibGVQcm9wIHRvIGluc3BlY3QgdGhlIG9ic2VydmFiaWxpdHkgb2YgYSBwcm9wZXJ0eVwiKTtcclxuICAgIHJldHVybiBfaXNPYnNlcnZhYmxlKHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiBpc09ic2VydmFibGVQcm9wKHZhbHVlLCBwcm9wTmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBwcm9wTmFtZSAhPT0gXCJzdHJpbmdcIilcclxuICAgICAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJleHBlY3RlZCBhIHByb3BlcnR5IG5hbWUgYXMgc2Vjb25kIGFyZ3VtZW50XCIpO1xyXG4gICAgcmV0dXJuIF9pc09ic2VydmFibGUodmFsdWUsIHByb3BOYW1lKTtcclxufVxuXG5mdW5jdGlvbiBrZXlzKG9iaikge1xyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialskbW9ieF0uZ2V0S2V5cygpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLmtleXMoKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShvYmoua2V5cygpKTtcclxuICAgIH1cclxuICAgIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5tYXAoZnVuY3Rpb24gKF8sIGluZGV4KSB7IHJldHVybiBpbmRleDsgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICBcIidrZXlzKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMsIHNldHMgYW5kIG1hcHNcIik7XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVzKG9iaikge1xyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqLmdldChrZXkpOyB9KTtcclxuICAgIH1cclxuICAgIGlmIChpc09ic2VydmFibGVTZXQob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG9iai52YWx1ZXMoKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBvYmouc2xpY2UoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgIFwiJ3ZhbHVlcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzLCBzZXRzIGFuZCBtYXBzXCIpO1xyXG59XHJcbmZ1bmN0aW9uIGVudHJpZXMob2JqKSB7XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcclxuICAgICAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBba2V5LCBvYmpba2V5XV07IH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gW2tleSwgb2JqLmdldChrZXkpXTsgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShvYmouZW50cmllcygpKTtcclxuICAgIH1cclxuICAgIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5tYXAoZnVuY3Rpb24gKGtleSwgaW5kZXgpIHsgcmV0dXJuIFtpbmRleCwga2V5XTsgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICBcIidlbnRyaWVzKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XHJcbn1cclxuZnVuY3Rpb24gc2V0KG9iaiwga2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgIWlzT2JzZXJ2YWJsZVNldChvYmopKSB7XHJcbiAgICAgICAgc3RhcnRCYXRjaCgpO1xyXG4gICAgICAgIHZhciB2YWx1ZXNfMSA9IGtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXlfMSBpbiB2YWx1ZXNfMSlcclxuICAgICAgICAgICAgICAgIHNldChvYmosIGtleV8xLCB2YWx1ZXNfMVtrZXlfMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgZW5kQmF0Y2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XHJcbiAgICAgICAgdmFyIGFkbSA9IG9ialskbW9ieF07XHJcbiAgICAgICAgdmFyIGV4aXN0aW5nT2JzZXJ2YWJsZSA9IGFkbS52YWx1ZXMuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nT2JzZXJ2YWJsZSkge1xyXG4gICAgICAgICAgICBhZG0ud3JpdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZG0uYWRkT2JzZXJ2YWJsZVByb3Aoa2V5LCB2YWx1ZSwgYWRtLmRlZmF1bHRFbmhhbmNlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcclxuICAgICAgICBvYmouc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcclxuICAgICAgICBvYmouYWRkKGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09IFwibnVtYmVyXCIpXHJcbiAgICAgICAgICAgIGtleSA9IHBhcnNlSW50KGtleSwgMTApO1xyXG4gICAgICAgIGludmFyaWFudChrZXkgPj0gMCwgXCJOb3QgYSB2YWxpZCBpbmRleDogJ1wiICsga2V5ICsgXCInXCIpO1xyXG4gICAgICAgIHN0YXJ0QmF0Y2goKTtcclxuICAgICAgICBpZiAoa2V5ID49IG9iai5sZW5ndGgpXHJcbiAgICAgICAgICAgIG9iai5sZW5ndGggPSBrZXkgKyAxO1xyXG4gICAgICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgZW5kQmF0Y2goKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBcIidzZXQoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgbWFwc1wiKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZW1vdmUob2JqLCBrZXkpIHtcclxuICAgIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIG9ialskbW9ieF0ucmVtb3ZlKGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVNYXAob2JqKSkge1xyXG4gICAgICAgIG9iai5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XHJcbiAgICAgICAgb2JqLmRlbGV0ZShrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xyXG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcclxuICAgICAgICBpbnZhcmlhbnQoa2V5ID49IDAsIFwiTm90IGEgdmFsaWQgaW5kZXg6ICdcIiArIGtleSArIFwiJ1wiKTtcclxuICAgICAgICBvYmouc3BsaWNlKGtleSwgMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICAgICAgXCIncmVtb3ZlKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzKG9iaiwga2V5KSB7XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcclxuICAgICAgICAvLyByZXR1cm4ga2V5cyhvYmopLmluZGV4T2Yoa2V5KSA+PSAwXHJcbiAgICAgICAgdmFyIGFkbSA9IGdldEFkbWluaXN0cmF0aW9uKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIGFkbS5oYXMoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5oYXMoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5oYXMoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JzZXJ2YWJsZUFycmF5KG9iaikpIHtcclxuICAgICAgICByZXR1cm4ga2V5ID49IDAgJiYga2V5IDwgb2JqLmxlbmd0aDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBcIidoYXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgbWFwc1wiKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXQob2JqLCBrZXkpIHtcclxuICAgIGlmICghaGFzKG9iaiwga2V5KSlcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcclxuICAgICAgICByZXR1cm4gb2JqLmdldChrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBcIidnZXQoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgbWFwc1wiKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBvYnNlcnZlKHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUsIGZpcmVJbW1lZGlhdGVseSkge1xyXG4gICAgaWYgKHR5cGVvZiBjYk9yRmlyZSA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIHJldHVybiBvYnNlcnZlT2JzZXJ2YWJsZVByb3BlcnR5KHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUsIGZpcmVJbW1lZGlhdGVseSk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIG9ic2VydmVPYnNlcnZhYmxlKHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUpO1xyXG59XHJcbmZ1bmN0aW9uIG9ic2VydmVPYnNlcnZhYmxlKHRoaW5nLCBsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XHJcbiAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcpLm9ic2VydmUobGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSk7XHJcbn1cclxuZnVuY3Rpb24gb2JzZXJ2ZU9ic2VydmFibGVQcm9wZXJ0eSh0aGluZywgcHJvcGVydHksIGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcclxuICAgIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbih0aGluZywgcHJvcGVydHkpLm9ic2VydmUobGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSk7XHJcbn1cblxudmFyIGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgZGV0ZWN0Q3ljbGVzOiB0cnVlLFxyXG4gICAgZXhwb3J0TWFwc0FzT2JqZWN0czogdHJ1ZSxcclxuICAgIHJlY3Vyc2VFdmVyeXRoaW5nOiBmYWxzZVxyXG59O1xyXG5mdW5jdGlvbiBjYWNoZShtYXAsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zLmRldGVjdEN5Y2xlcylcclxuICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIHRvSlNIZWxwZXIoc291cmNlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKSB7XHJcbiAgICBpZiAoIW9wdGlvbnMucmVjdXJzZUV2ZXJ5dGhpbmcgJiYgIWlzT2JzZXJ2YWJsZShzb3VyY2UpKVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgLy8gRGlyZWN0bHkgcmV0dXJuIG51bGwgaWYgc291cmNlIGlzIG51bGxcclxuICAgIGlmIChzb3VyY2UgPT09IG51bGwpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyBEaXJlY3RseSByZXR1cm4gdGhlIERhdGUgb2JqZWN0IGl0c2VsZiBpZiBjb250YWluZWQgaW4gdGhlIG9ic2VydmFibGVcclxuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlVmFsdWUoc291cmNlKSlcclxuICAgICAgICByZXR1cm4gdG9KU0hlbHBlcihzb3VyY2UuZ2V0KCksIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pO1xyXG4gICAgLy8gbWFrZSBzdXJlIHdlIHRyYWNrIHRoZSBrZXlzIG9mIHRoZSBvYmplY3RcclxuICAgIGlmIChpc09ic2VydmFibGUoc291cmNlKSlcclxuICAgICAgICBrZXlzKHNvdXJjZSk7XHJcbiAgICB2YXIgZGV0ZWN0Q3ljbGVzID0gb3B0aW9ucy5kZXRlY3RDeWNsZXMgPT09IHRydWU7XHJcbiAgICBpZiAoZGV0ZWN0Q3ljbGVzICYmIHNvdXJjZSAhPT0gbnVsbCAmJiBfX2FscmVhZHlTZWVuLmhhcyhzb3VyY2UpKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYWxyZWFkeVNlZW4uZ2V0KHNvdXJjZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkoc291cmNlKSB8fCBBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICB2YXIgcmVzXzEgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIFtdLCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgdG9BZGQgPSBzb3VyY2UubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2Vlbik7IH0pO1xyXG4gICAgICAgIHJlc18xLmxlbmd0aCA9IHRvQWRkLmxlbmd0aDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRvQWRkLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuICAgICAgICAgICAgcmVzXzFbaV0gPSB0b0FkZFtpXTtcclxuICAgICAgICByZXR1cm4gcmVzXzE7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KHNvdXJjZSkgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHNvdXJjZSkgPT09IFNldC5wcm90b3R5cGUpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5leHBvcnRNYXBzQXNPYmplY3RzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzXzIgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIG5ldyBTZXQoKSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzXzIuYWRkKHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNfMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZXNfMyA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgW10sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJlc18zLnB1c2godG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2VlbikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc18zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc09ic2VydmFibGVNYXAoc291cmNlKSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc291cmNlKSA9PT0gTWFwLnByb3RvdHlwZSkge1xyXG4gICAgICAgIGlmIChvcHRpb25zLmV4cG9ydE1hcHNBc09iamVjdHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNfNCA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgbmV3IE1hcCgpLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJlc180LnNldChrZXksIHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNfNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZXNfNSA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwge30sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgcmVzXzVba2V5XSA9IHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc181O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEZhbGxiYWNrIHRvIHRoZSBzaXR1YXRpb24gdGhhdCBzb3VyY2UgaXMgYW4gT2JzZXJ2YWJsZU9iamVjdCBvciBhIHBsYWluIG9iamVjdFxyXG4gICAgdmFyIHJlcyA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwge30sIG9wdGlvbnMpO1xyXG4gICAgZ2V0UGxhaW5PYmplY3RLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmVzW2tleV0gPSB0b0pTSGVscGVyKHNvdXJjZVtrZXldLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB0b0pTKHNvdXJjZSwgb3B0aW9ucykge1xyXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIilcclxuICAgICAgICBvcHRpb25zID0geyBkZXRlY3RDeWNsZXM6IG9wdGlvbnMgfTtcclxuICAgIGlmICghb3B0aW9ucylcclxuICAgICAgICBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XHJcbiAgICBvcHRpb25zLmRldGVjdEN5Y2xlcyA9XHJcbiAgICAgICAgb3B0aW9ucy5kZXRlY3RDeWNsZXMgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IG9wdGlvbnMucmVjdXJzZUV2ZXJ5dGhpbmcgPT09IHRydWVcclxuICAgICAgICAgICAgOiBvcHRpb25zLmRldGVjdEN5Y2xlcyA9PT0gdHJ1ZTtcclxuICAgIHZhciBfX2FscmVhZHlTZWVuO1xyXG4gICAgaWYgKG9wdGlvbnMuZGV0ZWN0Q3ljbGVzKVxyXG4gICAgICAgIF9fYWxyZWFkeVNlZW4gPSBuZXcgTWFwKCk7XHJcbiAgICByZXR1cm4gdG9KU0hlbHBlcihzb3VyY2UsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pO1xyXG59XG5cbmZ1bmN0aW9uIHRyYWNlKCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGVudGVyQnJlYWtQb2ludCA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwiYm9vbGVhblwiKVxyXG4gICAgICAgIGVudGVyQnJlYWtQb2ludCA9IGFyZ3MucG9wKCk7XHJcbiAgICB2YXIgZGVyaXZhdGlvbiA9IGdldEF0b21Gcm9tQXJncyhhcmdzKTtcclxuICAgIGlmICghZGVyaXZhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmYWlsKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBcIid0cmFjZShicmVhaz8pJyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhIHRyYWNrZWQgY29tcHV0ZWQgdmFsdWUgb3IgYSBSZWFjdGlvbi4gQ29uc2lkZXIgcGFzc2luZyBpbiB0aGUgY29tcHV0ZWQgdmFsdWUgb3IgcmVhY3Rpb24gZXhwbGljaXRseVwiKTtcclxuICAgIH1cclxuICAgIGlmIChkZXJpdmF0aW9uLmlzVHJhY2luZyA9PT0gVHJhY2VNb2RlLk5PTkUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlttb2J4LnRyYWNlXSAnXCIgKyBkZXJpdmF0aW9uLm5hbWUgKyBcIicgdHJhY2luZyBlbmFibGVkXCIpO1xyXG4gICAgfVxyXG4gICAgZGVyaXZhdGlvbi5pc1RyYWNpbmcgPSBlbnRlckJyZWFrUG9pbnQgPyBUcmFjZU1vZGUuQlJFQUsgOiBUcmFjZU1vZGUuTE9HO1xyXG59XHJcbmZ1bmN0aW9uIGdldEF0b21Gcm9tQXJncyhhcmdzKSB7XHJcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgcmV0dXJuIGdldEF0b20oYXJnc1swXSk7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QXRvbShhcmdzWzBdLCBhcmdzWzFdKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogRHVyaW5nIGEgdHJhbnNhY3Rpb24gbm8gdmlld3MgYXJlIHVwZGF0ZWQgdW50aWwgdGhlIGVuZCBvZiB0aGUgdHJhbnNhY3Rpb24uXHJcbiAqIFRoZSB0cmFuc2FjdGlvbiB3aWxsIGJlIHJ1biBzeW5jaHJvbm91c2x5IG5vbmV0aGVsZXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gYWN0aW9uIGEgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIHNvbWUgcmVhY3RpdmUgc3RhdGVcclxuICogQHJldHVybnMgYW55IHZhbHVlIHRoYXQgd2FzIHJldHVybmVkIGJ5IHRoZSAnYWN0aW9uJyBwYXJhbWV0ZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2FjdGlvbihhY3Rpb24sIHRoaXNBcmcpIHtcclxuICAgIGlmICh0aGlzQXJnID09PSB2b2lkIDApIHsgdGhpc0FyZyA9IHVuZGVmaW5lZDsgfVxyXG4gICAgc3RhcnRCYXRjaCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYWN0aW9uLmFwcGx5KHRoaXNBcmcpO1xyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgZW5kQmF0Y2goKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiB3aGVuKHByZWRpY2F0ZSwgYXJnMSwgYXJnMikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgfHwgKGFyZzEgJiYgdHlwZW9mIGFyZzEgPT09IFwib2JqZWN0XCIpKVxyXG4gICAgICAgIHJldHVybiB3aGVuUHJvbWlzZShwcmVkaWNhdGUsIGFyZzEpO1xyXG4gICAgcmV0dXJuIF93aGVuKHByZWRpY2F0ZSwgYXJnMSwgYXJnMiB8fCB7fSk7XHJcbn1cclxuZnVuY3Rpb24gX3doZW4ocHJlZGljYXRlLCBlZmZlY3QsIG9wdHMpIHtcclxuICAgIHZhciB0aW1lb3V0SGFuZGxlO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRzLnRpbWVvdXQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICB0aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghZGlzcG9zZXJbJG1vYnhdLmlzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgICAgIGRpc3Bvc2VyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJXSEVOX1RJTUVPVVRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5vbkVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMub25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBvcHRzLnRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgb3B0cy5uYW1lID0gb3B0cy5uYW1lIHx8IFwiV2hlbkBcIiArIGdldE5leHRJZCgpO1xyXG4gICAgdmFyIGVmZmVjdEFjdGlvbiA9IGNyZWF0ZUFjdGlvbihvcHRzLm5hbWUgKyBcIi1lZmZlY3RcIiwgZWZmZWN0KTtcclxuICAgIHZhciBkaXNwb3NlciA9IGF1dG9ydW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICBpZiAocHJlZGljYXRlKCkpIHtcclxuICAgICAgICAgICAgci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0SGFuZGxlKVxyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xyXG4gICAgICAgICAgICBlZmZlY3RBY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBvcHRzKTtcclxuICAgIHJldHVybiBkaXNwb3NlcjtcclxufVxyXG5mdW5jdGlvbiB3aGVuUHJvbWlzZShwcmVkaWNhdGUsIG9wdHMpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgb3B0cyAmJiBvcHRzLm9uRXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIGZhaWwoXCJ0aGUgb3B0aW9ucyAnb25FcnJvcicgYW5kICdwcm9taXNlJyBjYW5ub3QgYmUgY29tYmluZWRcIik7XHJcbiAgICB2YXIgY2FuY2VsO1xyXG4gICAgdmFyIHJlcyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICB2YXIgZGlzcG9zZXIgPSBfd2hlbihwcmVkaWNhdGUsIHJlc29sdmUsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRzKSwgeyBvbkVycm9yOiByZWplY3QgfSkpO1xyXG4gICAgICAgIGNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGlzcG9zZXIoKTtcclxuICAgICAgICAgICAgcmVqZWN0KFwiV0hFTl9DQU5DRUxMRURcIik7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgcmVzLmNhbmNlbCA9IGNhbmNlbDtcclxuICAgIHJldHVybiByZXM7XHJcbn1cblxuZnVuY3Rpb24gZ2V0QWRtKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRhcmdldFskbW9ieF07XHJcbn1cclxuZnVuY3Rpb24gaXNQcm9wZXJ0eUtleSh2YWwpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcclxufVxyXG4vLyBPcHRpbWl6YXRpb246IHdlIGRvbid0IG5lZWQgdGhlIGludGVybWVkaWF0ZSBvYmplY3RzIGFuZCBjb3VsZCBoYXZlIGEgY29tcGxldGVseSBjdXN0b20gYWRtaW5pc3RyYXRpb24gZm9yIER5bmFtaWNPYmplY3RzLFxyXG4vLyBhbmQgc2tpcCBlaXRoZXIgdGhlIGludGVybmFsIHZhbHVlcyBtYXAsIG9yIHRoZSBiYXNlIG9iamVjdCB3aXRoIGl0cyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyFcclxudmFyIG9iamVjdFByb3h5VHJhcHMgPSB7XHJcbiAgICBoYXM6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gJG1vYnggfHwgbmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiIHx8IG5hbWUgPT09IG1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XHJcbiAgICAgICAgLy8gTVdFOiBzaG91bGQgYGluYCBvcGVyYXRvciBiZSByZWFjdGl2ZT8gSWYgbm90LCBiZWxvdyBjb2RlIHBhdGggd2lsbCBiZSBmYXN0ZXIgLyBtb3JlIG1lbW9yeSBlZmZpY2llbnRcclxuICAgICAgICAvLyBUT0RPOiBjaGVjayBwZXJmb3JtYW5jZSBzdGF0cyFcclxuICAgICAgICAvLyBpZiAoYWRtLnZhbHVlcy5nZXQobmFtZSBhcyBzdHJpbmcpKSByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIGlmIChpc1Byb3BlcnR5S2V5KG5hbWUpKVxyXG4gICAgICAgICAgICByZXR1cm4gYWRtLmhhcyhuYW1lKTtcclxuICAgICAgICByZXR1cm4gbmFtZSBpbiB0YXJnZXQ7XHJcbiAgICB9LFxyXG4gICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICRtb2J4IHx8IG5hbWUgPT09IFwiY29uc3RydWN0b3JcIiB8fCBuYW1lID09PSBtb2J4RGlkUnVuTGF6eUluaXRpYWxpemVyc1N5bWJvbClcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcclxuICAgICAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XHJcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBhZG0udmFsdWVzLmdldChuYW1lKTtcclxuICAgICAgICBpZiAob2JzZXJ2YWJsZSBpbnN0YW5jZW9mIEF0b20pIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9ic2VydmFibGUuZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmaXhlcyAjMTc5NiwgYmVjYXVzZSBkZWxldGluZyBhIHByb3AgdGhhdCBoYXMgYW5cclxuICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCB2YWx1ZSB3b24ndCByZXRyaWdnZXIgYSBvYnNlcnZlciAobm8gdmlzaWJsZSBlZmZlY3QpLFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGF1dG9ydW4gd291bGRuJ3Qgc3Vic2NyaWJlIHRvIGZ1dHVyZSBrZXkgY2hhbmdlcyAoc2VlIGFsc28gbmV4dCBjb21tZW50KVxyXG4gICAgICAgICAgICAgICAgYWRtLmhhcyhuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc3RhcnQgbGlzdGVuaW5nIHRvIGZ1dHVyZSBrZXlzXHJcbiAgICAgICAgLy8gbm90ZSB0aGF0IHdlIG9ubHkgZG8gdGhpcyBoZXJlIGZvciBvcHRpbWl6YXRpb25cclxuICAgICAgICBpZiAoaXNQcm9wZXJ0eUtleShuYW1lKSlcclxuICAgICAgICAgICAgYWRtLmhhcyhuYW1lKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzUHJvcGVydHlLZXkobmFtZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBzZXQodGFyZ2V0LCBuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcclxuICAgICAgICBpZiAoIWlzUHJvcGVydHlLZXkobmFtZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XHJcbiAgICAgICAgYWRtLnJlbW92ZShuYW1lKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBvd25LZXlzOiBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIGFkbSA9IGdldEFkbSh0YXJnZXQpO1xyXG4gICAgICAgIGFkbS5rZXlzQXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZW50RXh0ZW5zaW9uczogZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGZhaWwoXCJEeW5hbWljIG9ic2VydmFibGUgb2JqZWN0cyBjYW5ub3QgYmUgZnJvemVuXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRHluYW1pY09ic2VydmFibGVPYmplY3QoYmFzZSkge1xyXG4gICAgdmFyIHByb3h5ID0gbmV3IFByb3h5KGJhc2UsIG9iamVjdFByb3h5VHJhcHMpO1xyXG4gICAgYmFzZVskbW9ieF0ucHJveHkgPSBwcm94eTtcclxuICAgIHJldHVybiBwcm94eTtcclxufVxuXG5mdW5jdGlvbiBoYXNJbnRlcmNlcHRvcnMoaW50ZXJjZXB0YWJsZSkge1xyXG4gICAgcmV0dXJuIGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzICE9PSB1bmRlZmluZWQgJiYgaW50ZXJjZXB0YWJsZS5pbnRlcmNlcHRvcnMubGVuZ3RoID4gMDtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlckludGVyY2VwdG9yKGludGVyY2VwdGFibGUsIGhhbmRsZXIpIHtcclxuICAgIHZhciBpbnRlcmNlcHRvcnMgPSBpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9ycyB8fCAoaW50ZXJjZXB0YWJsZS5pbnRlcmNlcHRvcnMgPSBbXSk7XHJcbiAgICBpbnRlcmNlcHRvcnMucHVzaChoYW5kbGVyKTtcclxuICAgIHJldHVybiBvbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaWR4ID0gaW50ZXJjZXB0b3JzLmluZGV4T2YoaGFuZGxlcik7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpXHJcbiAgICAgICAgICAgIGludGVyY2VwdG9ycy5zcGxpY2UoaWR4LCAxKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGludGVyY2VwdENoYW5nZShpbnRlcmNlcHRhYmxlLCBjaGFuZ2UpIHtcclxuICAgIHZhciBwcmV2VSA9IHVudHJhY2tlZFN0YXJ0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEludGVyY2VwdG9yIGNhbiBtb2RpZnkgdGhlIGFycmF5LCBjb3B5IGl0IHRvIGF2b2lkIGNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uLCBzZWUgIzE5NTBcclxuICAgICAgICB2YXIgaW50ZXJjZXB0b3JzID0gX19zcHJlYWQoKGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzIHx8IFtdKSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZSA9IGludGVyY2VwdG9yc1tpXShjaGFuZ2UpO1xyXG4gICAgICAgICAgICBpbnZhcmlhbnQoIWNoYW5nZSB8fCBjaGFuZ2UudHlwZSwgXCJJbnRlcmNlcHQgaGFuZGxlcnMgc2hvdWxkIHJldHVybiBub3RoaW5nIG9yIGEgY2hhbmdlIG9iamVjdFwiKTtcclxuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoYW5nZTtcclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHVudHJhY2tlZEVuZChwcmV2VSk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gaGFzTGlzdGVuZXJzKGxpc3RlbmFibGUpIHtcclxuICAgIHJldHVybiBsaXN0ZW5hYmxlLmNoYW5nZUxpc3RlbmVycyAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzLmxlbmd0aCA+IDA7XHJcbn1cclxuZnVuY3Rpb24gcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5hYmxlLCBoYW5kbGVyKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gbGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnMgfHwgKGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzID0gW10pO1xyXG4gICAgbGlzdGVuZXJzLnB1c2goaGFuZGxlcik7XHJcbiAgICByZXR1cm4gb25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG4gICAgICAgIGlmIChpZHggIT09IC0xKVxyXG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMobGlzdGVuYWJsZSwgY2hhbmdlKSB7XHJcbiAgICB2YXIgcHJldlUgPSB1bnRyYWNrZWRTdGFydCgpO1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzO1xyXG4gICAgaWYgKCFsaXN0ZW5lcnMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBsaXN0ZW5lcnNbaV0oY2hhbmdlKTtcclxuICAgIH1cclxuICAgIHVudHJhY2tlZEVuZChwcmV2VSk7XHJcbn1cblxudmFyIE1BWF9TUExJQ0VfU0laRSA9IDEwMDAwOyAvLyBTZWUgZS5nLiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvaXNzdWVzLzg1OVxyXG52YXIgYXJyYXlUcmFwcyA9IHtcclxuICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSAkbW9ieClcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFskbW9ieF07XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IFwibGVuZ3RoXCIpXHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbJG1vYnhdLmdldEFycmF5TGVuZ3RoKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUV4dGVuc2lvbnMuZ2V0LmNhbGwodGFyZ2V0LCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmICFpc05hTihuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlFeHRlbnNpb25zLmdldC5jYWxsKHRhcmdldCwgcGFyc2VJbnQobmFtZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyYXlFeHRlbnNpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUV4dGVuc2lvbnNbbmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRbbmFtZV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSBcImxlbmd0aFwiKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFskbW9ieF0uc2V0QXJyYXlMZW5ndGgodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgYXJyYXlFeHRlbnNpb25zLnNldC5jYWxsKHRhcmdldCwgbmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIgfHwgaXNOYU4obmFtZSkpIHtcclxuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBudW1lcmljIHN0cmluZ1xyXG4gICAgICAgICAgICBhcnJheUV4dGVuc2lvbnMuc2V0LmNhbGwodGFyZ2V0LCBwYXJzZUludChuYW1lKSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZW50RXh0ZW5zaW9uczogZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIGZhaWwoXCJPYnNlcnZhYmxlIGFycmF5cyBjYW5ub3QgYmUgZnJvemVuXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlT2JzZXJ2YWJsZUFycmF5KGluaXRpYWxWYWx1ZXMsIGVuaGFuY2VyLCBuYW1lLCBvd25lZCkge1xyXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQoKTsgfVxyXG4gICAgaWYgKG93bmVkID09PSB2b2lkIDApIHsgb3duZWQgPSBmYWxzZTsgfVxyXG4gICAgdmFyIGFkbSA9IG5ldyBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbihuYW1lLCBlbmhhbmNlciwgb3duZWQpO1xyXG4gICAgYWRkSGlkZGVuRmluYWxQcm9wKGFkbS52YWx1ZXMsICRtb2J4LCBhZG0pO1xyXG4gICAgdmFyIHByb3h5ID0gbmV3IFByb3h5KGFkbS52YWx1ZXMsIGFycmF5VHJhcHMpO1xyXG4gICAgYWRtLnByb3h5ID0gcHJveHk7XHJcbiAgICBpZiAoaW5pdGlhbFZhbHVlcyAmJiBpbml0aWFsVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBwcmV2ID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydCh0cnVlKTtcclxuICAgICAgICBhZG0uc3BsaWNlV2l0aEFycmF5KDAsIDAsIGluaXRpYWxWYWx1ZXMpO1xyXG4gICAgICAgIGFsbG93U3RhdGVDaGFuZ2VzRW5kKHByZXYpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XHJcbnZhciBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKG5hbWUsIGVuaGFuY2VyLCBvd25lZCkge1xyXG4gICAgICAgIHRoaXMub3duZWQgPSBvd25lZDtcclxuICAgICAgICB0aGlzLnZhbHVlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucHJveHkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5sYXN0S25vd25MZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuYXRvbSA9IG5ldyBBdG9tKG5hbWUgfHwgXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQoKSk7XHJcbiAgICAgICAgdGhpcy5lbmhhbmNlciA9IGZ1bmN0aW9uIChuZXdWLCBvbGRWKSB7IHJldHVybiBlbmhhbmNlcihuZXdWLCBvbGRWLCBuYW1lICsgXCJbLi5dXCIpOyB9O1xyXG4gICAgfVxyXG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmRlaGFuY2VWYWx1ZXMgPSBmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVoYW5jZXIgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAodGhpcy5kZWhhbmNlcik7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuaW50ZXJjZXB0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvcih0aGlzLCBoYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XHJcbiAgICAgICAgaWYgKGZpcmVJbW1lZGlhdGVseSA9PT0gdm9pZCAwKSB7IGZpcmVJbW1lZGlhdGVseSA9IGZhbHNlOyB9XHJcbiAgICAgICAgaWYgKGZpcmVJbW1lZGlhdGVseSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcih7XHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNwbGljZVwiLFxyXG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICBhZGRlZDogdGhpcy52YWx1ZXMuc2xpY2UoKSxcclxuICAgICAgICAgICAgICAgIGFkZGVkQ291bnQ6IHRoaXMudmFsdWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lcih0aGlzLCBsaXN0ZW5lcik7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmdldEFycmF5TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLnNldEFycmF5TGVuZ3RoID0gZnVuY3Rpb24gKG5ld0xlbmd0aCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmV3TGVuZ3RoICE9PSBcIm51bWJlclwiIHx8IG5ld0xlbmd0aCA8IDApXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlttb2J4LmFycmF5XSBPdXQgb2YgcmFuZ2U6IFwiICsgbmV3TGVuZ3RoKTtcclxuICAgICAgICB2YXIgY3VycmVudExlbmd0aCA9IHRoaXMudmFsdWVzLmxlbmd0aDtcclxuICAgICAgICBpZiAobmV3TGVuZ3RoID09PSBjdXJyZW50TGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZWxzZSBpZiAobmV3TGVuZ3RoID4gY3VycmVudExlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3SXRlbXMgPSBuZXcgQXJyYXkobmV3TGVuZ3RoIC0gY3VycmVudExlbmd0aCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoIC0gY3VycmVudExlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbmV3SXRlbXNbaV0gPSB1bmRlZmluZWQ7IC8vIE5vIEFycmF5LmZpbGwgZXZlcnl3aGVyZS4uLlxyXG4gICAgICAgICAgICB0aGlzLnNwbGljZVdpdGhBcnJheShjdXJyZW50TGVuZ3RoLCAwLCBuZXdJdGVtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zcGxpY2VXaXRoQXJyYXkobmV3TGVuZ3RoLCBjdXJyZW50TGVuZ3RoIC0gbmV3TGVuZ3RoKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUudXBkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiAob2xkTGVuZ3RoLCBkZWx0YSkge1xyXG4gICAgICAgIGlmIChvbGRMZW5ndGggIT09IHRoaXMubGFzdEtub3duTGVuZ3RoKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gTW9kaWZpY2F0aW9uIGV4Y2VwdGlvbjogdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiBhbiBvYnNlcnZhYmxlIGFycmF5IHdhcyBjaGFuZ2VkLlwiKTtcclxuICAgICAgICB0aGlzLmxhc3RLbm93bkxlbmd0aCArPSBkZWx0YTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuc3BsaWNlV2l0aEFycmF5ID0gZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGNoZWNrSWZTdGF0ZU1vZGlmaWNhdGlvbnNBcmVBbGxvd2VkKHRoaXMuYXRvbSk7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudmFsdWVzLmxlbmd0aDtcclxuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID4gbGVuZ3RoKVxyXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcclxuICAgICAgICBlbHNlIGlmIChpbmRleCA8IDApXHJcbiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5tYXgoMCwgbGVuZ3RoICsgaW5kZXgpO1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICBkZWxldGVDb3VudCA9IGxlbmd0aCAtIGluZGV4O1xyXG4gICAgICAgIGVsc2UgaWYgKGRlbGV0ZUNvdW50ID09PSB1bmRlZmluZWQgfHwgZGVsZXRlQ291bnQgPT09IG51bGwpXHJcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gMDtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGVsZXRlQ291bnQsIGxlbmd0aCAtIGluZGV4KSk7XHJcbiAgICAgICAgaWYgKG5ld0l0ZW1zID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIG5ld0l0ZW1zID0gRU1QVFlfQVJSQVk7XHJcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3BsaWNlXCIsXHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQ6IGRlbGV0ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgYWRkZWQ6IG5ld0l0ZW1zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIWNoYW5nZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBFTVBUWV9BUlJBWTtcclxuICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBjaGFuZ2UucmVtb3ZlZENvdW50O1xyXG4gICAgICAgICAgICBuZXdJdGVtcyA9IGNoYW5nZS5hZGRlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3SXRlbXMgPSBuZXdJdGVtcy5sZW5ndGggPT09IDAgPyBuZXdJdGVtcyA6IG5ld0l0ZW1zLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuZW5oYW5jZXIodiwgdW5kZWZpbmVkKTsgfSk7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoRGVsdGEgPSBuZXdJdGVtcy5sZW5ndGggLSBkZWxldGVDb3VudDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBcnJheUxlbmd0aChsZW5ndGgsIGxlbmd0aERlbHRhKTsgLy8gY2hlY2tzIGlmIGludGVybmFsIGFycmF5IHdhc24ndCBtb2RpZmllZFxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzID0gdGhpcy5zcGxpY2VJdGVtc0ludG9WYWx1ZXMoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZUNvdW50ICE9PSAwIHx8IG5ld0l0ZW1zLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnlBcnJheVNwbGljZShpbmRleCwgbmV3SXRlbXMsIHJlcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlcyhyZXMpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5zcGxpY2VJdGVtc0ludG9WYWx1ZXMgPSBmdW5jdGlvbiAoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAobmV3SXRlbXMubGVuZ3RoIDwgTUFYX1NQTElDRV9TSVpFKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnZhbHVlcykuc3BsaWNlLmFwcGx5KF9hLCBfX3NwcmVhZChbaW5kZXgsIGRlbGV0ZUNvdW50XSwgbmV3SXRlbXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLnZhbHVlcy5zbGljZShpbmRleCwgaW5kZXggKyBkZWxldGVDb3VudCk7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXNcclxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCBpbmRleClcclxuICAgICAgICAgICAgICAgIC5jb25jYXQobmV3SXRlbXMsIHRoaXMudmFsdWVzLnNsaWNlKGluZGV4ICsgZGVsZXRlQ291bnQpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm5vdGlmeUFycmF5Q2hpbGRVcGRhdGUgPSBmdW5jdGlvbiAoaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZCAmJiBpc1NweUVuYWJsZWQoKTtcclxuICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5XHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAvLyBUaGUgcmVhc29uIHdoeSB0aGlzIGlzIG9uIHJpZ2h0IGhhbmQgc2lkZSBoZXJlIChhbmQgbm90IGFib3ZlKSwgaXMgdGhpcyB3YXkgdGhlIHVnbGlmaWVyIHdpbGwgZHJvcCBpdCwgYnV0IGl0IHdvbid0XHJcbiAgICAgICAgLy8gY2F1c2UgYW55IHJ1bnRpbWUgb3ZlcmhlYWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB3aXRob3V0IE5PREVfRU5WIHNldCwgdW5sZXNzIHNweWluZyBpcyBlbmFibGVkXHJcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7IG5hbWU6IHRoaXMuYXRvbS5uYW1lIH0pKTtcclxuICAgICAgICB0aGlzLmF0b20ucmVwb3J0Q2hhbmdlZCgpO1xyXG4gICAgICAgIGlmIChub3RpZnkpXHJcbiAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xyXG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICBzcHlSZXBvcnRFbmQoKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUubm90aWZ5QXJyYXlTcGxpY2UgPSBmdW5jdGlvbiAoaW5kZXgsIGFkZGVkLCByZW1vdmVkKSB7XHJcbiAgICAgICAgdmFyIG5vdGlmeVNweSA9ICF0aGlzLm93bmVkICYmIGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNwbGljZVwiLFxyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZDogcmVtb3ZlZCxcclxuICAgICAgICAgICAgICAgIGFkZGVkOiBhZGRlZCxcclxuICAgICAgICAgICAgICAgIHJlbW92ZWRDb3VudDogcmVtb3ZlZC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBhZGRlZENvdW50OiBhZGRlZC5sZW5ndGhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7IG5hbWU6IHRoaXMuYXRvbS5uYW1lIH0pKTtcclxuICAgICAgICB0aGlzLmF0b20ucmVwb3J0Q2hhbmdlZCgpO1xyXG4gICAgICAgIC8vIGNvbmZvcm06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L29ic2VydmVcclxuICAgICAgICBpZiAobm90aWZ5KVxyXG4gICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcclxuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgc3B5UmVwb3J0RW5kKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uO1xyXG59KCkpO1xyXG52YXIgYXJyYXlFeHRlbnNpb25zID0ge1xyXG4gICAgaW50ZXJjZXB0OiBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzWyRtb2J4XS5pbnRlcmNlcHQoaGFuZGxlcik7XHJcbiAgICB9LFxyXG4gICAgb2JzZXJ2ZTogZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcclxuICAgICAgICBpZiAoZmlyZUltbWVkaWF0ZWx5ID09PSB2b2lkIDApIHsgZmlyZUltbWVkaWF0ZWx5ID0gZmFsc2U7IH1cclxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XHJcbiAgICAgICAgcmV0dXJuIGFkbS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xyXG4gICAgfSxcclxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKDApO1xyXG4gICAgfSxcclxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChuZXdJdGVtcykge1xyXG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcclxuICAgICAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheSgwLCBhZG0udmFsdWVzLmxlbmd0aCwgbmV3SXRlbXMpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgdGhpcyBhcnJheSBiYWNrIHRvIGEgKHNoYWxsb3cpIGphdmFzY3JpcHQgc3RydWN0dXJlLlxyXG4gICAgICogRm9yIGEgZGVlcCBjbG9uZSB1c2UgbW9ieC50b0pTXHJcbiAgICAgKi9cclxuICAgIHRvSlM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zbGljZSgpO1xyXG4gICAgfSxcclxuICAgIHRvSlNPTjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFVzZWQgYnkgSlNPTi5zdHJpbmdpZnlcclxuICAgICAgICByZXR1cm4gdGhpcy50b0pTKCk7XHJcbiAgICB9LFxyXG4gICAgLypcclxuICAgICAqIGZ1bmN0aW9ucyB0aGF0IGRvIGFsdGVyIHRoZSBpbnRlcm5hbCBzdHJ1Y3R1cmUgb2YgdGhlIGFycmF5LCAoYmFzZWQgb24gbGliLmVzNi5kLnRzKVxyXG4gICAgICogc2luY2UgdGhlc2UgZnVuY3Rpb25zIGFsdGVyIHRoZSBpbm5lciBzdHJ1Y3R1cmUgb2YgdGhlIGFycmF5LCB0aGUgaGF2ZSBzaWRlIGVmZmVjdHMuXHJcbiAgICAgKiBCZWNhdXNlIHRoZSBoYXZlIHNpZGUgZWZmZWN0cywgdGhleSBzaG91bGQgbm90IGJlIHVzZWQgaW4gY29tcHV0ZWQgZnVuY3Rpb24sXHJcbiAgICAgKiBhbmQgZm9yIHRoYXQgcmVhc29uIHRoZSBkbyBub3QgY2FsbCBkZXBlbmRlbmN5U3RhdGUubm90aWZ5T2JzZXJ2ZWRcclxuICAgICAqL1xyXG4gICAgc3BsaWNlOiBmdW5jdGlvbiAoaW5kZXgsIGRlbGV0ZUNvdW50KSB7XHJcbiAgICAgICAgdmFyIG5ld0l0ZW1zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgbmV3SXRlbXNbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcclxuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCk7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBhZG0uc3BsaWNlV2l0aEFycmF5KGluZGV4LCBkZWxldGVDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhZG0uc3BsaWNlV2l0aEFycmF5KGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpO1xyXG4gICAgfSxcclxuICAgIHNwbGljZVdpdGhBcnJheTogZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcclxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XHJcbiAgICAgICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XHJcbiAgICB9LFxyXG4gICAgcHVzaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcclxuICAgICAgICBhZG0uc3BsaWNlV2l0aEFycmF5KGFkbS52YWx1ZXMubGVuZ3RoLCAwLCBpdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIGFkbS52YWx1ZXMubGVuZ3RoO1xyXG4gICAgfSxcclxuICAgIHBvcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwbGljZShNYXRoLm1heCh0aGlzWyRtb2J4XS52YWx1ZXMubGVuZ3RoIC0gMSwgMCksIDEpWzBdO1xyXG4gICAgfSxcclxuICAgIHNoaWZ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKDAsIDEpWzBdO1xyXG4gICAgfSxcclxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBpdGVtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XHJcbiAgICAgICAgYWRtLnNwbGljZVdpdGhBcnJheSgwLCAwLCBpdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIGFkbS52YWx1ZXMubGVuZ3RoO1xyXG4gICAgfSxcclxuICAgIHJldmVyc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyByZXZlcnNlIGJ5IGRlZmF1bHQgbXV0YXRlcyBpbiBwbGFjZSBiZWZvcmUgcmV0dXJuaW5nIHRoZSByZXN1bHRcclxuICAgICAgICAvLyB3aGljaCBtYWtlcyBpdCBib3RoIGEgJ2Rlcml2YXRpb24nIGFuZCBhICdtdXRhdGlvbicuXHJcbiAgICAgICAgLy8gc28gd2UgZGV2aWF0ZSBmcm9tIHRoZSBkZWZhdWx0IGFuZCBqdXN0IG1ha2UgaXQgYW4gZGVydml0YXRpb25cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBgb2JzZXJ2YWJsZUFycmF5LnJldmVyc2UoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBhcnJheSBpbiBwbGFjZS4gVXNlIGBvYnNlcnZhYmxlQXJyYXkuc2xpY2UoKS5yZXZlcnNlKClgIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBhbmQgcGVyZm9ybSB0aGUgb3BlcmF0aW9uIG9uIGEgY29weSwgb3IgYG9ic2VydmFibGVBcnJheS5yZXBsYWNlKG9ic2VydmFibGVBcnJheS5zbGljZSgpLnJldmVyc2UoKSlgIHRvIHJldmVyc2UgJiB1cGRhdGUgaW4gcGxhY2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjbG9uZSA9IHRoaXMuc2xpY2UoKTtcclxuICAgICAgICByZXR1cm4gY2xvbmUucmV2ZXJzZS5hcHBseShjbG9uZSwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBzb3J0OiBmdW5jdGlvbiAoY29tcGFyZUZuKSB7XHJcbiAgICAgICAgLy8gc29ydCBieSBkZWZhdWx0IG11dGF0ZXMgaW4gcGxhY2UgYmVmb3JlIHJldHVybmluZyB0aGUgcmVzdWx0XHJcbiAgICAgICAgLy8gd2hpY2ggZ29lcyBhZ2FpbnN0IGFsbCBnb29kIHByYWN0aWNlcy4gTGV0J3Mgbm90IGNoYW5nZSB0aGUgYXJyYXkgaW4gcGxhY2UhXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gYG9ic2VydmFibGVBcnJheS5zb3J0KClgIHdpbGwgbm90IHVwZGF0ZSB0aGUgYXJyYXkgaW4gcGxhY2UuIFVzZSBgb2JzZXJ2YWJsZUFycmF5LnNsaWNlKCkuc29ydCgpYCB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgYW5kIHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBvbiBhIGNvcHksIG9yIGBvYnNlcnZhYmxlQXJyYXkucmVwbGFjZShvYnNlcnZhYmxlQXJyYXkuc2xpY2UoKS5zb3J0KCkpYCB0byBzb3J0ICYgdXBkYXRlIGluIHBsYWNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLnNsaWNlKCk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lLnNvcnQuYXBwbHkoY2xvbmUsIGFyZ3VtZW50cyk7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XHJcbiAgICAgICAgdmFyIGlkeCA9IGFkbS5kZWhhbmNlVmFsdWVzKGFkbS52YWx1ZXMpLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgIGlmIChpZHggPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIGdldDogZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xyXG4gICAgICAgIGlmIChhZG0pIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgYWRtLnZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGFkbS5hdG9tLnJlcG9ydE9ic2VydmVkKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRtLmRlaGFuY2VWYWx1ZShhZG0udmFsdWVzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW21vYnguYXJyYXldIEF0dGVtcHQgdG8gcmVhZCBhbiBhcnJheSBpbmRleCAoXCIgKyBpbmRleCArIFwiKSB0aGF0IGlzIG91dCBvZiBib3VuZHMgKFwiICsgYWRtLnZhbHVlcy5sZW5ndGggKyBcIikuIFBsZWFzZSBjaGVjayBsZW5ndGggZmlyc3QuIE91dCBvZiBib3VuZCBpbmRpY2VzIHdpbGwgbm90IGJlIHRyYWNrZWQgYnkgTW9iWFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIChpbmRleCwgbmV3VmFsdWUpIHtcclxuICAgICAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFkbS52YWx1ZXM7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgYXQgaW5kZXggaW4gcmFuZ2VcclxuICAgICAgICAgICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQoYWRtLmF0b20pO1xyXG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKGFkbSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UoYWRtLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IGFkbS5wcm94eSxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gYWRtLmVuaGFuY2VyKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2VkID0gbmV3VmFsdWUgIT09IG9sZFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYWRtLm5vdGlmeUFycmF5Q2hpbGRVcGRhdGUoaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IHZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGl0ZW1cclxuICAgICAgICAgICAgYWRtLnNwbGljZVdpdGhBcnJheShpbmRleCwgMCwgW25ld1ZhbHVlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBvdXQgb2YgYm91bmRzXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlttb2J4LmFycmF5XSBJbmRleCBvdXQgb2YgYm91bmRzLCBcIiArIGluZGV4ICsgXCIgaXMgbGFyZ2VyIHRoYW4gXCIgKyB2YWx1ZXMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbltcclxuICAgIFwiY29uY2F0XCIsXHJcbiAgICBcImV2ZXJ5XCIsXHJcbiAgICBcImZpbHRlclwiLFxyXG4gICAgXCJmb3JFYWNoXCIsXHJcbiAgICBcImluZGV4T2ZcIixcclxuICAgIFwiam9pblwiLFxyXG4gICAgXCJsYXN0SW5kZXhPZlwiLFxyXG4gICAgXCJtYXBcIixcclxuICAgIFwicmVkdWNlXCIsXHJcbiAgICBcInJlZHVjZVJpZ2h0XCIsXHJcbiAgICBcInNsaWNlXCIsXHJcbiAgICBcInNvbWVcIixcclxuICAgIFwidG9TdHJpbmdcIixcclxuICAgIFwidG9Mb2NhbGVTdHJpbmdcIlxyXG5dLmZvckVhY2goZnVuY3Rpb24gKGZ1bmNOYW1lKSB7XHJcbiAgICBhcnJheUV4dGVuc2lvbnNbZnVuY05hbWVdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcclxuICAgICAgICBhZG0uYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xyXG4gICAgICAgIHZhciByZXMgPSBhZG0uZGVoYW5jZVZhbHVlcyhhZG0udmFsdWVzKTtcclxuICAgICAgICByZXR1cm4gcmVzW2Z1bmNOYW1lXS5hcHBseShyZXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59KTtcclxudmFyIGlzT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24gPSBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb25cIiwgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24pO1xyXG5mdW5jdGlvbiBpc09ic2VydmFibGVBcnJheSh0aGluZykge1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0KHRoaW5nKSAmJiBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKHRoaW5nWyRtb2J4XSk7XHJcbn1cblxudmFyIF9hO1xyXG52YXIgT2JzZXJ2YWJsZU1hcE1hcmtlciA9IHt9O1xyXG4vLyBqdXN0IGV4dGVuZCBNYXA/IFNlZSBhbHNvIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL25lc3RoYXJ1cy8xM2I0ZDc0ZjJlZjRhMmY0MzU3ZGJkM2ZjMjNjMWU1NFxyXG4vLyBCdXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb2J4anMvbW9ieC9pc3N1ZXMvMTU1NlxyXG52YXIgT2JzZXJ2YWJsZU1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVNYXAoaW5pdGlhbERhdGEsIGVuaGFuY2VyLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKGVuaGFuY2VyID09PSB2b2lkIDApIHsgZW5oYW5jZXIgPSBkZWVwRW5oYW5jZXI7IH1cclxuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIk9ic2VydmFibGVNYXBAXCIgKyBnZXROZXh0SWQoKTsgfVxyXG4gICAgICAgIHRoaXMuZW5oYW5jZXIgPSBlbmhhbmNlcjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXNbX2FdID0gT2JzZXJ2YWJsZU1hcE1hcmtlcjtcclxuICAgICAgICB0aGlzLl9rZXlzQXRvbSA9IGNyZWF0ZUF0b20odGhpcy5uYW1lICsgXCIua2V5cygpXCIpO1xyXG4gICAgICAgIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSA9IFwiTWFwXCI7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2J4Lm1hcCByZXF1aXJlcyBNYXAgcG9seWZpbGwgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuIENoZWNrIGJhYmVsLXBvbHlmaWxsIG9yIGNvcmUtanMvZXM2L21hcC5qc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLl9oYXNNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5tZXJnZShpbml0aWFsRGF0YSk7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5faGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmhhcyhrZXkpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzKGtleSk7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5faGFzTWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghZW50cnkpIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogcmVwbGFjZSB3aXRoIGF0b20gKGJyZWFraW5nIGNoYW5nZSlcclxuICAgICAgICAgICAgdmFyIG5ld0VudHJ5ID0gKGVudHJ5ID0gbmV3IE9ic2VydmFibGVWYWx1ZSh0aGlzLl9oYXMoa2V5KSwgcmVmZXJlbmNlRW5oYW5jZXIsIHRoaXMubmFtZSArIFwiLlwiICsgc3RyaW5naWZ5S2V5KGtleSkgKyBcIj9cIiwgZmFsc2UpKTtcclxuICAgICAgICAgICAgdGhpcy5faGFzTWFwLnNldChrZXksIG5ld0VudHJ5KTtcclxuICAgICAgICAgICAgb25CZWNvbWVVbm9ic2VydmVkKG5ld0VudHJ5LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5faGFzTWFwLmRlbGV0ZShrZXkpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5LmdldCgpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGhhc0tleSA9IHRoaXMuX2hhcyhrZXkpO1xyXG4gICAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBoYXNLZXkgPyBcInVwZGF0ZVwiIDogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGtleVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgdmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNLZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmFsdWUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRWYWx1ZShrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBrZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5faGFzKGtleSkpIHtcclxuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxyXG4gICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IHRoaXMuX2RhdGEuZ2V0KGtleSkudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNoYW5nZSksIHsgbmFtZTogdGhpcy5uYW1lLCBrZXk6IGtleSB9KSk7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlSGFzTWFwRW50cnkoa2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IF90aGlzLl9kYXRhLmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zZXROZXdWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2RhdGEuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5KVxyXG4gICAgICAgICAgICAgICAgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0RW5kKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuX3VwZGF0ZUhhc01hcEVudHJ5ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9oYXNNYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIGVudHJ5LnNldE5ld1ZhbHVlKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlID0gZnVuY3Rpb24gKGtleSwgbmV3VmFsdWUpIHtcclxuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IHRoaXMuX2RhdGEuZ2V0KGtleSk7XHJcbiAgICAgICAgbmV3VmFsdWUgPSBvYnNlcnZhYmxlLnByZXBhcmVOZXdWYWx1ZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQpIHtcclxuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxyXG4gICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9ic2VydmFibGUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xyXG4gICAgICAgICAgICBvYnNlcnZhYmxlLnNldE5ld1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeSlcclxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5fYWRkVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcy5fa2V5c0F0b20pO1xyXG4gICAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZVZhbHVlKG5ld1ZhbHVlLCBfdGhpcy5lbmhhbmNlciwgX3RoaXMubmFtZSArIFwiLlwiICsgc3RyaW5naWZ5S2V5KGtleSksIGZhbHNlKTtcclxuICAgICAgICAgICAgX3RoaXMuX2RhdGEuc2V0KGtleSwgb2JzZXJ2YWJsZSk7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS52YWx1ZTsgLy8gdmFsdWUgbWlnaHQgaGF2ZSBiZWVuIGNoYW5nZWRcclxuICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZUhhc01hcEVudHJ5KGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIF90aGlzLl9rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwgeyBuYW1lOiB0aGlzLm5hbWUsIGtleToga2V5IH0pKTtcclxuICAgICAgICBpZiAobm90aWZ5KVxyXG4gICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcclxuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgc3B5UmVwb3J0RW5kKCk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWUodGhpcy5fZGF0YS5nZXQoa2V5KS5nZXQoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZGVoYW5jZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVoYW5jZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2tleXNBdG9tLnJlcG9ydE9ic2VydmVkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEua2V5cygpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgdmFyIGtleXMgPSBBcnJheS5mcm9tKHRoaXMua2V5cygpKTtcclxuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IGtleXMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlOiBzZWxmLmdldChrZXlzW25leHRJbmRleCsrXSksIGRvbmU6IGZhbHNlIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHsgZG9uZTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgdmFyIGtleXMgPSBBcnJheS5mcm9tKHRoaXMua2V5cygpKTtcclxuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA8IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbbmV4dEluZGV4KytdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBba2V5LCBzZWxmLmdldChrZXkpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGVbKF9hID0gJG1vYngsIFN5bWJvbC5pdGVyYXRvcildID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2I7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9lID0gX19yZWFkKF9kLnZhbHVlLCAyKSwga2V5ID0gX2VbMF0sIHZhbHVlID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBrZXksIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKiogTWVyZ2UgYW5vdGhlciBvYmplY3QgaW50byB0aGlzIG9iamVjdCwgcmV0dXJucyB0aGlzLiAqL1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAob3RoZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChpc09ic2VydmFibGVNYXAob3RoZXIpKSB7XHJcbiAgICAgICAgICAgIG90aGVyID0gb3RoZXIudG9KUygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1BsYWluT2JqZWN0KG90aGVyKSlcclxuICAgICAgICAgICAgICAgIGdldFBsYWluT2JqZWN0S2V5cyhvdGhlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBfdGhpcy5zZXQoa2V5LCBvdGhlcltrZXldKTsgfSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3RoZXIpKVxyXG4gICAgICAgICAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2MgPSBfX3JlYWQoX2IsIDIpLCBrZXkgPSBfY1swXSwgdmFsdWUgPSBfY1sxXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRVM2TWFwKG90aGVyKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG90aGVyLmNvbnN0cnVjdG9yICE9PSBNYXApXHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbChcIkNhbm5vdCBpbml0aWFsaXplIGZyb20gY2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbSBNYXA6IFwiICsgb3RoZXIuY29uc3RydWN0b3IubmFtZSk7IC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgeyByZXR1cm4gX3RoaXMuc2V0KGtleSwgdmFsdWUpOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChvdGhlciAhPT0gbnVsbCAmJiBvdGhlciAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgZmFpbChcIkNhbm5vdCBpbml0aWFsaXplIG1hcCBmcm9tIFwiICsgb3RoZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1bnRyYWNrZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVfMiwgX2I7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXMoX3RoaXMua2V5cygpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2QudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gZ3JhYiBhbGwgdGhlIGtleXMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgbmV3IG1hcCBidXQgbm90IHByZXNlbnQgaW4gdGhlIGN1cnJlbnQgbWFwXHJcbiAgICAgICAgICAgIC8vIGFuZCBkZWxldGUgdGhlbSBmcm9tIHRoZSBtYXAsIHRoZW4gbWVyZ2UgdGhlIG5ldyBtYXBcclxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGNhdXNlIHJlYWN0aW9ucyBvbmx5IG9uIGNoYW5nZWQgdmFsdWVzXHJcbiAgICAgICAgICAgIHZhciBuZXdLZXlzID0gZ2V0TWFwTGlrZUtleXModmFsdWVzKTtcclxuICAgICAgICAgICAgdmFyIG9sZEtleXMgPSBBcnJheS5mcm9tKF90aGlzLmtleXMoKSk7XHJcbiAgICAgICAgICAgIHZhciBtaXNzaW5nS2V5cyA9IG9sZEtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiBuZXdLZXlzLmluZGV4T2YoaykgPT09IC0xOyB9KTtcclxuICAgICAgICAgICAgbWlzc2luZ0tleXMuZm9yRWFjaChmdW5jdGlvbiAoaykgeyByZXR1cm4gX3RoaXMuZGVsZXRlKGspOyB9KTtcclxuICAgICAgICAgICAgX3RoaXMubWVyZ2UodmFsdWVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2tleXNBdG9tLnJlcG9ydE9ic2VydmVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBwbGFpbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoaXMgbWFwLlxyXG4gICAgICogTm90ZSB0aGF0IGFsbCB0aGUga2V5cyBiZWluZyBzdHJpbmdpZmllZC5cclxuICAgICAqIElmIHRoZXJlIGFyZSBkdXBsaWNhdGluZyBrZXlzIGFmdGVyIGNvbnZlcnRpbmcgdGhlbSB0byBzdHJpbmdzLCBiZWhhdmlvdXIgaXMgdW5kZXRlcm1pbmVkLlxyXG4gICAgICovXHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS50b1BPSk8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVfMywgX2I7XHJcbiAgICAgICAgdmFyIHJlcyA9IHt9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZSA9IF9fcmVhZChfZC52YWx1ZSwgMiksIGtleSA9IF9lWzBdLCB2YWx1ZSA9IF9lWzFdO1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgbGllIGFib3V0IHN5bWJvbCBrZXkgdHlwZXMgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTg2M1xyXG4gICAgICAgICAgICAgICAgcmVzW3R5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBzdHJpbmdpZnlLZXkoa2V5KV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzaGFsbG93IG5vbiBvYnNlcnZhYmxlIG9iamVjdCBjbG9uZSBvZiB0aGlzIG1hcC5cclxuICAgICAqIE5vdGUgdGhhdCB0aGUgdmFsdWVzIG1pZ3RoIHN0aWxsIGJlIG9ic2VydmFibGUuIEZvciBhIGRlZXAgY2xvbmUgdXNlIG1vYngudG9KUy5cclxuICAgICAqL1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUudG9KUyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hcCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVXNlZCBieSBKU09OLnN0cmluZ2lmeVxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvUE9KTygpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLm5hbWUgK1xyXG4gICAgICAgICAgICBcIlt7IFwiICtcclxuICAgICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLmtleXMoKSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc3RyaW5naWZ5S2V5KGtleSkgKyBcIjogXCIgKyAoXCJcIiArIF90aGlzLmdldChrZXkpKTsgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKFwiLCBcIikgK1xyXG4gICAgICAgICAgICBcIiB9XVwiKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE9ic2VydmVzIHRoaXMgb2JqZWN0LiBUcmlnZ2VycyBmb3IgdGhlIGV2ZW50cyAnYWRkJywgJ3VwZGF0ZScgYW5kICdkZWxldGUnLlxyXG4gICAgICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvb2JzZXJ2ZVxyXG4gICAgICogZm9yIGNhbGxiYWNrIGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgIGludmFyaWFudChmaXJlSW1tZWRpYXRlbHkgIT09IHRydWUsIFwiYG9ic2VydmVgIGRvZXNuJ3Qgc3VwcG9ydCBmaXJlSW1tZWRpYXRlbHk9dHJ1ZSBpbiBjb21iaW5hdGlvbiB3aXRoIG1hcHMuXCIpO1xyXG4gICAgICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5pbnRlcmNlcHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZhYmxlTWFwO1xyXG59KCkpO1xyXG4vKiAndmFyJyBmaXhlcyBzbWFsbC1idWlsZCBpc3N1ZSAqL1xyXG52YXIgaXNPYnNlcnZhYmxlTWFwID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIk9ic2VydmFibGVNYXBcIiwgT2JzZXJ2YWJsZU1hcCk7XG5cbnZhciBfYSQxO1xyXG52YXIgT2JzZXJ2YWJsZVNldE1hcmtlciA9IHt9O1xyXG52YXIgT2JzZXJ2YWJsZVNldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVTZXQoaW5pdGlhbERhdGEsIGVuaGFuY2VyLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKGVuaGFuY2VyID09PSB2b2lkIDApIHsgZW5oYW5jZXIgPSBkZWVwRW5oYW5jZXI7IH1cclxuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIk9ic2VydmFibGVTZXRAXCIgKyBnZXROZXh0SWQoKTsgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpc1tfYSQxXSA9IE9ic2VydmFibGVTZXRNYXJrZXI7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLl9hdG9tID0gY3JlYXRlQXRvbSh0aGlzLm5hbWUpO1xyXG4gICAgICAgIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSA9IFwiU2V0XCI7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2J4LnNldCByZXF1aXJlcyBTZXQgcG9seWZpbGwgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuIENoZWNrIGJhYmVsLXBvbHlmaWxsIG9yIGNvcmUtanMvZXM2L3NldC5qc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmhhbmNlciA9IGZ1bmN0aW9uIChuZXdWLCBvbGRWKSB7IHJldHVybiBlbmhhbmNlcihuZXdWLCBvbGRWLCBuYW1lKTsgfTtcclxuICAgICAgICBpZiAoaW5pdGlhbERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXBsYWNlKGluaXRpYWxEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5kZWhhbmNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1bnRyYWNrZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVfMSwgX2I7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXMoX3RoaXMuX2RhdGEudmFsdWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9kLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxldGUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFja0ZuLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgdmFyIGVfMiwgX2I7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX2QudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja0ZuLmNhbGwodGhpc0FyZywgdmFsdWUsIHZhbHVlLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVTZXQucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9hdG9tLnJlcG9ydE9ic2VydmVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGNoZWNrSWZTdGF0ZU1vZGlmaWNhdGlvbnNBcmVBbGxvd2VkKHRoaXMuX2F0b20pO1xyXG4gICAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIWNoYW5nZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBpZGVhbGx5LCB2YWx1ZSA9IGNoYW5nZS52YWx1ZSB3b3VsZCBiZSBkb25lIGhlcmUsIHNvIHRoYXQgdmFsdWVzIGNhbiBiZVxyXG4gICAgICAgICAgICAvLyBjaGFuZ2VkIGJ5IGludGVyY2VwdG9yLiBTYW1lIGFwcGxpZXMgZm9yIG90aGVyIFNldCBhbmQgTWFwIGFwaSdzLlxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGF0YS5hZGQoX3RoaXMuZW5oYW5jZXIodmFsdWUsIHVuZGVmaW5lZCkpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2F0b20ucmVwb3J0Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxyXG4gICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQoY2hhbmdlKTtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeSlcclxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIWNoYW5nZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XHJcbiAgICAgICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5XHJcbiAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwgeyBuYW1lOiB0aGlzLm5hbWUgfSkpO1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fYXRvbS5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGF0YS5kZWxldGUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeSlcclxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5oYXModGhpcy5kZWhhbmNlVmFsdWUodmFsdWUpKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHZhciBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLmtleXMoKSk7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXMoKSk7XHJcbiAgICAgICAgcmV0dXJuIG1ha2VJdGVyYWJsZSh7XHJcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG5leHRJbmRleDtcclxuICAgICAgICAgICAgICAgIG5leHRJbmRleCArPSAxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4IDwgdmFsdWVzLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgID8geyB2YWx1ZTogW2tleXNbaW5kZXhdLCB2YWx1ZXNbaW5kZXhdXSwgZG9uZTogZmFsc2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogeyBkb25lOiB0cnVlIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVTZXQucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9hdG9tLnJlcG9ydE9ic2VydmVkKCk7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHZhciBvYnNlcnZhYmxlVmFsdWVzID0gQXJyYXkuZnJvbSh0aGlzLl9kYXRhLnZhbHVlcygpKTtcclxuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IG9ic2VydmFibGVWYWx1ZXMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlOiBzZWxmLmRlaGFuY2VWYWx1ZShvYnNlcnZhYmxlVmFsdWVzW25leHRJbmRleCsrXSksIGRvbmU6IGZhbHNlIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHsgZG9uZTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZVNldChvdGhlcikpIHtcclxuICAgICAgICAgICAgb3RoZXIgPSBvdGhlci50b0pTKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3RoZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIF90aGlzLmFkZCh2YWx1ZSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRVM2U2V0KG90aGVyKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdGhpcy5hZGQodmFsdWUpOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChvdGhlciAhPT0gbnVsbCAmJiBvdGhlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKFwiQ2Fubm90IGluaXRpYWxpemUgc2V0IGZyb20gXCIgKyBvdGhlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcclxuICAgICAgICAvLyBUT0RPICdmaXJlSW1tZWRpYXRlbHknIGNhbiBiZSB0cnVlP1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBpbnZhcmlhbnQoZmlyZUltbWVkaWF0ZWx5ICE9PSB0cnVlLCBcImBvYnNlcnZlYCBkb2Vzbid0IHN1cHBvcnQgZmlyZUltbWVkaWF0ZWx5PXRydWUgaW4gY29tYmluYXRpb24gd2l0aCBzZXRzLlwiKTtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lcih0aGlzLCBsaXN0ZW5lcik7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUuaW50ZXJjZXB0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvcih0aGlzLCBoYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS50b0pTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2V0KHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIlsgXCIgKyBBcnJheS5mcm9tKHRoaXMpLmpvaW4oXCIsIFwiKSArIFwiIF1cIjtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZVsoX2EkMSA9ICRtb2J4LCBTeW1ib2wuaXRlcmF0b3IpXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVNldDtcclxufSgpKTtcclxudmFyIGlzT2JzZXJ2YWJsZVNldCA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJPYnNlcnZhYmxlU2V0XCIsIE9ic2VydmFibGVTZXQpO1xuXG52YXIgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uKHRhcmdldCwgdmFsdWVzLCBuYW1lLCBkZWZhdWx0RW5oYW5jZXIpIHtcclxuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHsgdmFsdWVzID0gbmV3IE1hcCgpOyB9XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRFbmhhbmNlciA9IGRlZmF1bHRFbmhhbmNlcjtcclxuICAgICAgICB0aGlzLmtleXNBdG9tID0gbmV3IEF0b20obmFtZSArIFwiLmtleXNcIik7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzLmdldChrZXkpLmdldCgpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMudGFyZ2V0O1xyXG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gdGhpcy52YWx1ZXMuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKG9ic2VydmFibGUgaW5zdGFuY2VvZiBDb21wdXRlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmFibGUuc2V0KG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbnRlcmNlcHRcclxuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eSB8fCBpbnN0YW5jZSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWYWx1ZSA9IG9ic2VydmFibGUucHJlcGFyZU5ld1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgICAgICAvLyBub3RpZnkgc3B5ICYgb2JzZXJ2ZXJzXHJcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQpIHtcclxuICAgICAgICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweVxyXG4gICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgaW5zdGFuY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9ic2VydmFibGUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7IG5hbWU6IHRoaXMubmFtZSwga2V5OiBrZXkgfSkpO1xyXG4gICAgICAgICAgICBvYnNlcnZhYmxlLnNldE5ld1ZhbHVlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeSlcclxuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHNweVJlcG9ydEVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgbWFwID0gdGhpcy5wZW5kaW5nS2V5cyB8fCAodGhpcy5wZW5kaW5nS2V5cyA9IG5ldyBNYXAoKSk7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gbWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChlbnRyeSlcclxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmdldCgpO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gISF0aGlzLnZhbHVlcy5nZXQoa2V5KTtcclxuICAgICAgICAgICAgLy8gUG9zc2libGUgb3B0aW1pemF0aW9uOiBEb24ndCBoYXZlIGEgc2VwYXJhdGUgbWFwIGZvciBub24gZXhpc3Rpbmcga2V5cyxcclxuICAgICAgICAgICAgLy8gYnV0IHN0b3JlIHRoZW0gaW4gdGhlIHZhbHVlcyBtYXAgaW5zdGVhZCwgdXNpbmcgYSBzcGVjaWFsIHN5bWJvbCB0byBkZW5vdGUgXCJub3QgZXhpc3RpbmdcIlxyXG4gICAgICAgICAgICBlbnRyeSA9IG5ldyBPYnNlcnZhYmxlVmFsdWUoZXhpc3RzLCByZWZlcmVuY2VFbmhhbmNlciwgdGhpcy5uYW1lICsgXCIuXCIgKyBzdHJpbmdpZnlLZXkoa2V5KSArIFwiP1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5LCBlbnRyeSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5nZXQoKTsgLy8gcmVhZCB0byBzdWJzY3JpYmVcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5hZGRPYnNlcnZhYmxlUHJvcCA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgbmV3VmFsdWUsIGVuaGFuY2VyKSB7XHJcbiAgICAgICAgaWYgKGVuaGFuY2VyID09PSB2b2lkIDApIHsgZW5oYW5jZXIgPSB0aGlzLmRlZmF1bHRFbmhhbmNlcjsgfVxyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldDtcclxuICAgICAgICBhc3NlcnRQcm9wZXJ0eUNvbmZpZ3VyYWJsZSh0YXJnZXQsIHByb3BOYW1lKTtcclxuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHByb3BOYW1lLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFjaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlVmFsdWUobmV3VmFsdWUsIGVuaGFuY2VyLCB0aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShwcm9wTmFtZSksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5zZXQocHJvcE5hbWUsIG9ic2VydmFibGUpO1xyXG4gICAgICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS52YWx1ZTsgLy8gb2JzZXJ2YWJsZVZhbHVlIG1pZ2h0IGhhdmUgY2hhbmdlZCBpdFxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCBnZW5lcmF0ZU9ic2VydmFibGVQcm9wQ29uZmlnKHByb3BOYW1lKSk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlQcm9wZXJ0eUFkZGl0aW9uKHByb3BOYW1lLCBuZXdWYWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5hZGRDb21wdXRlZFByb3AgPSBmdW5jdGlvbiAocHJvcGVydHlPd25lciwgLy8gd2hlcmUgaXMgdGhlIHByb3BlcnR5IGRlY2xhcmVkP1xyXG4gICAgcHJvcE5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XHJcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IHRoaXMubmFtZSArIFwiLlwiICsgc3RyaW5naWZ5S2V5KHByb3BOYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5zZXQocHJvcE5hbWUsIG5ldyBDb21wdXRlZFZhbHVlKG9wdGlvbnMpKTtcclxuICAgICAgICBpZiAocHJvcGVydHlPd25lciA9PT0gdGFyZ2V0IHx8IGlzUHJvcGVydHlDb25maWd1cmFibGUocHJvcGVydHlPd25lciwgcHJvcE5hbWUpKVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcGVydHlPd25lciwgcHJvcE5hbWUsIGdlbmVyYXRlQ29tcHV0ZWRQcm9wQ29uZmlnKHByb3BOYW1lKSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlcy5oYXMoa2V5KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldDtcclxuICAgICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVtb3ZlXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzdGFydEJhdGNoKCk7XHJcbiAgICAgICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcclxuICAgICAgICAgICAgdmFyIG9sZE9ic2VydmFibGUgPSB0aGlzLnZhbHVlcy5nZXQoa2V5KTtcclxuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gb2xkT2JzZXJ2YWJsZSAmJiBvbGRPYnNlcnZhYmxlLmdldCgpO1xyXG4gICAgICAgICAgICBvbGRPYnNlcnZhYmxlICYmIG9sZE9ic2VydmFibGUuc2V0KHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIC8vIG5vdGlmeSBrZXkgYW5kIGtleXNldCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgdGhpcy5rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nS2V5cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5wZW5kaW5nS2V5cy5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmIChlbnRyeSlcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5zZXQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgcHJvcFxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy50YXJnZXRba2V5XTtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHlcclxuICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnlTcHkgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNoYW5nZSksIHsgbmFtZTogdGhpcy5uYW1lLCBrZXk6IGtleSB9KSk7XHJcbiAgICAgICAgICAgIGlmIChub3RpZnkpXHJcbiAgICAgICAgICAgICAgICBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcclxuICAgICAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICBzcHlSZXBvcnRFbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIGVuZEJhdGNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuaWxsZWdhbEFjY2VzcyA9IGZ1bmN0aW9uIChvd25lciwgcHJvcE5hbWUpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIGhhcHBlbnMgaWYgYSBwcm9wZXJ0eSBpcyBhY2Nlc3NlZCB0aHJvdWdoIHRoZSBwcm90b3R5cGUgY2hhaW4sIGJ1dCB0aGUgcHJvcGVydHkgd2FzXHJcbiAgICAgICAgICogZGVjbGFyZWQgZGlyZWN0bHkgYXMgb3duIHByb3BlcnR5IG9uIHRoZSBwcm90b3R5cGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBFLmcuOlxyXG4gICAgICAgICAqIGNsYXNzIEEge1xyXG4gICAgICAgICAqIH1cclxuICAgICAgICAgKiBleHRlbmRPYnNlcnZhYmxlKEEucHJvdG90eXBlLCB7IHg6IDEgfSlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGNsYXNzQiBleHRlbnMgQSB7XHJcbiAgICAgICAgICogfVxyXG4gICAgICAgICAqIGNvbnNvbGUubG9nKG5ldyBCKCkueClcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEl0IGlzIHVuY2xlYXIgd2hldGhlciB0aGUgcHJvcGVydHkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgJ3N0YXRpYycgb3IgaW5oZXJpdGVkLlxyXG4gICAgICAgICAqIEVpdGhlciB1c2UgYGNvbnNvbGUubG9nKEEueClgXHJcbiAgICAgICAgICogb3I6IGRlY29yYXRlKEEsIHsgeDogb2JzZXJ2YWJsZSB9KVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogV2hlbiB1c2luZyBkZWNvcmF0ZSwgdGhlIHByb3BlcnR5IHdpbGwgYWx3YXlzIGJlIHJlZGVjbGFyZWQgYXMgb3duIHByb3BlcnR5IG9uIHRoZSBhY3R1YWwgaW5zdGFuY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zb2xlLndhcm4oXCJQcm9wZXJ0eSAnXCIgKyBwcm9wTmFtZSArIFwiJyBvZiAnXCIgKyBvd25lciArIFwiJyB3YXMgYWNjZXNzZWQgdGhyb3VnaCB0aGUgcHJvdG90eXBlIGNoYWluLiBVc2UgJ2RlY29yYXRlJyBpbnN0ZWFkIHRvIGRlY2xhcmUgdGhlIHByb3Agb3IgYWNjZXNzIGl0IHN0YXRpY2FsbHkgdGhyb3VnaCBpdCdzIG93bmVyXCIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT2JzZXJ2ZXMgdGhpcyBvYmplY3QuIFRyaWdnZXJzIGZvciB0aGUgZXZlbnRzICdhZGQnLCAndXBkYXRlJyBhbmQgJ2RlbGV0ZScuXHJcbiAgICAgKiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9vYnNlcnZlXHJcbiAgICAgKiBmb3IgY2FsbGJhY2sgZGV0YWlsc1xyXG4gICAgICovXHJcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGZpcmVJbW1lZGlhdGVseSkge1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxyXG4gICAgICAgICAgICBpbnZhcmlhbnQoZmlyZUltbWVkaWF0ZWx5ICE9PSB0cnVlLCBcImBvYnNlcnZlYCBkb2Vzbid0IHN1cHBvcnQgdGhlIGZpcmUgaW1tZWRpYXRlbHkgcHJvcGVydHkgZm9yIG9ic2VydmFibGUgb2JqZWN0cy5cIik7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyTGlzdGVuZXIodGhpcywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuaW50ZXJjZXB0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvcih0aGlzLCBoYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm5vdGlmeVByb3BlcnR5QWRkaXRpb24gPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xyXG4gICAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5XHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eSB8fCB0aGlzLnRhcmdldCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICBpZiAobm90aWZ5U3B5ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIilcclxuICAgICAgICAgICAgc3B5UmVwb3J0U3RhcnQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNoYW5nZSksIHsgbmFtZTogdGhpcy5uYW1lLCBrZXk6IGtleSB9KSk7XHJcbiAgICAgICAgaWYgKG5vdGlmeSlcclxuICAgICAgICAgICAgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XHJcbiAgICAgICAgaWYgKG5vdGlmeVNweSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgICAgIHNweVJlcG9ydEVuZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdLZXlzKSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMucGVuZGluZ0tleXMuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmIChlbnRyeSlcclxuICAgICAgICAgICAgICAgIGVudHJ5LnNldCh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlXzEsIF9hO1xyXG4gICAgICAgIHRoaXMua2V5c0F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcclxuICAgICAgICAvLyByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRoaXMudmFsdWVzKSBhcyBhbnlcclxuICAgICAgICB2YXIgcmVzID0gW107XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnZhbHVlcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGtleSA9IF9kWzBdLCB2YWx1ZSA9IF9kWzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbjtcclxufSgpKTtcclxuZnVuY3Rpb24gYXNPYnNlcnZhYmxlT2JqZWN0KHRhcmdldCwgbmFtZSwgZGVmYXVsdEVuaGFuY2VyKSB7XHJcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBcIlwiOyB9XHJcbiAgICBpZiAoZGVmYXVsdEVuaGFuY2VyID09PSB2b2lkIDApIHsgZGVmYXVsdEVuaGFuY2VyID0gZGVlcEVuaGFuY2VyOyB9XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgJG1vYngpKVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRbJG1vYnhdO1xyXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgaW52YXJpYW50KE9iamVjdC5pc0V4dGVuc2libGUodGFyZ2V0KSwgXCJDYW5ub3QgbWFrZSB0aGUgZGVzaWduYXRlZCBvYmplY3Qgb2JzZXJ2YWJsZTsgaXQgaXMgbm90IGV4dGVuc2libGVcIik7XHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodGFyZ2V0KSlcclxuICAgICAgICBuYW1lID0gKHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lIHx8IFwiT2JzZXJ2YWJsZU9iamVjdFwiKSArIFwiQFwiICsgZ2V0TmV4dElkKCk7XHJcbiAgICBpZiAoIW5hbWUpXHJcbiAgICAgICAgbmFtZSA9IFwiT2JzZXJ2YWJsZU9iamVjdEBcIiArIGdldE5leHRJZCgpO1xyXG4gICAgdmFyIGFkbSA9IG5ldyBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24odGFyZ2V0LCBuZXcgTWFwKCksIHN0cmluZ2lmeUtleShuYW1lKSwgZGVmYXVsdEVuaGFuY2VyKTtcclxuICAgIGFkZEhpZGRlblByb3AodGFyZ2V0LCAkbW9ieCwgYWRtKTtcclxuICAgIHJldHVybiBhZG07XHJcbn1cclxudmFyIG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG52YXIgY29tcHV0ZWRQcm9wZXJ0eUNvbmZpZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU9ic2VydmFibGVQcm9wQ29uZmlnKHByb3BOYW1lKSB7XHJcbiAgICByZXR1cm4gKG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdIHx8XHJcbiAgICAgICAgKG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdID0ge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbJG1vYnhdLnJlYWQocHJvcE5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzWyRtb2J4XS53cml0ZShwcm9wTmFtZSwgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lcihvd25lcikge1xyXG4gICAgdmFyIGFkbSA9IG93bmVyWyRtb2J4XTtcclxuICAgIGlmICghYWRtKSB7XHJcbiAgICAgICAgLy8gYmVjYXVzZSBjb21wdXRlZCBwcm9wcyBhcmUgZGVjbGFyZWQgb24gcHJvdHksXHJcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgaW5zdGFuY2UgbWlnaHQgbm90IGhhdmUgYmVlbiBpbml0aWFsaXplZCB5ZXRcclxuICAgICAgICBpbml0aWFsaXplSW5zdGFuY2Uob3duZXIpO1xyXG4gICAgICAgIHJldHVybiBvd25lclskbW9ieF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWRtO1xyXG59XHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ29tcHV0ZWRQcm9wQ29uZmlnKHByb3BOYW1lKSB7XHJcbiAgICByZXR1cm4gKGNvbXB1dGVkUHJvcGVydHlDb25maWdzW3Byb3BOYW1lXSB8fFxyXG4gICAgICAgIChjb21wdXRlZFByb3BlcnR5Q29uZmlnc1twcm9wTmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZ2xvYmFsU3RhdGUuY29tcHV0ZWRDb25maWd1cmFibGUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbkZvckNvbXB1dGVkUHJvcE93bmVyKHRoaXMpLnJlYWQocHJvcE5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBZG1pbmlzdHJhdGlvbkZvckNvbXB1dGVkUHJvcE93bmVyKHRoaXMpLndyaXRlKHByb3BOYW1lLCB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxufVxyXG52YXIgaXNPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24gPSBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uXCIsIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbik7XHJcbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZU9iamVjdCh0aGluZykge1xyXG4gICAgaWYgKGlzT2JqZWN0KHRoaW5nKSkge1xyXG4gICAgICAgIC8vIEluaXRpYWxpemVycyBydW4gbGF6aWx5IHdoZW4gdHJhbnNwaWxpbmcgdG8gYmFiZWwsIHNvIG1ha2Ugc3VyZSB0aGV5IGFyZSBydW4uLi5cclxuICAgICAgICBpbml0aWFsaXplSW5zdGFuY2UodGhpbmcpO1xyXG4gICAgICAgIHJldHVybiBpc09ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbih0aGluZ1skbW9ieF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XG5cbmZ1bmN0aW9uIGdldEF0b20odGhpbmcsIHByb3BlcnR5KSB7XHJcbiAgICBpZiAodHlwZW9mIHRoaW5nID09PSBcIm9iamVjdFwiICYmIHRoaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZUFycmF5KHRoaW5nKSkge1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJdCBpcyBub3QgcG9zc2libGUgdG8gZ2V0IGluZGV4IGF0b21zIGZyb20gYXJyYXlzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpbmdbJG1vYnhdLmF0b207XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09ic2VydmFibGVTZXQodGhpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGluZ1skbW9ieF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09ic2VydmFibGVNYXAodGhpbmcpKSB7XHJcbiAgICAgICAgICAgIHZhciBhbnlUaGluZyA9IHRoaW5nO1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbnlUaGluZy5fa2V5c0F0b207XHJcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gYW55VGhpbmcuX2RhdGEuZ2V0KHByb3BlcnR5KSB8fCBhbnlUaGluZy5faGFzTWFwLmdldChwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIGlmICghb2JzZXJ2YWJsZSlcclxuICAgICAgICAgICAgICAgIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aGUgZW50cnkgJ1wiICsgcHJvcGVydHkgKyBcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG9ic2VydmFibGUgbWFwICdcIiArIGdldERlYnVnTmFtZSh0aGluZykgKyBcIidcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbml0aWFsaXplcnMgcnVuIGxhemlseSB3aGVuIHRyYW5zcGlsaW5nIHRvIGJhYmVsLCBzbyBtYWtlIHN1cmUgdGhleSBhcmUgcnVuLi4uXHJcbiAgICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlKHRoaW5nKTtcclxuICAgICAgICBpZiAocHJvcGVydHkgJiYgIXRoaW5nWyRtb2J4XSlcclxuICAgICAgICAgICAgdGhpbmdbcHJvcGVydHldOyAvLyBTZWUgIzEwNzJcclxuICAgICAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHRoaW5nKSkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIFwicGxlYXNlIHNwZWNpZnkgYSBwcm9wZXJ0eVwiKTtcclxuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSB0aGluZ1skbW9ieF0udmFsdWVzLmdldChwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIGlmICghb2JzZXJ2YWJsZSlcclxuICAgICAgICAgICAgICAgIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgXCJubyBvYnNlcnZhYmxlIHByb3BlcnR5ICdcIiArIHByb3BlcnR5ICsgXCInIGZvdW5kIG9uIHRoZSBvYnNlcnZhYmxlIG9iamVjdCAnXCIgKyBnZXREZWJ1Z05hbWUodGhpbmcpICsgXCInXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQXRvbSh0aGluZykgfHwgaXNDb21wdXRlZFZhbHVlKHRoaW5nKSB8fCBpc1JlYWN0aW9uKHRoaW5nKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBpZiAoaXNSZWFjdGlvbih0aGluZ1skbW9ieF0pKSB7XHJcbiAgICAgICAgICAgIC8vIGRpc3Bvc2VyIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGluZ1skbW9ieF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhaWwocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIFwiQ2Fubm90IG9idGFpbiBhdG9tIGZyb20gXCIgKyB0aGluZyk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcsIHByb3BlcnR5KSB7XHJcbiAgICBpZiAoIXRoaW5nKVxyXG4gICAgICAgIGZhaWwoXCJFeHBlY3Rpbmcgc29tZSBvYmplY3RcIik7XHJcbiAgICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24oZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpKTtcclxuICAgIGlmIChpc0F0b20odGhpbmcpIHx8IGlzQ29tcHV0ZWRWYWx1ZSh0aGluZykgfHwgaXNSZWFjdGlvbih0aGluZykpXHJcbiAgICAgICAgcmV0dXJuIHRoaW5nO1xyXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcCh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSlcclxuICAgICAgICByZXR1cm4gdGhpbmc7XHJcbiAgICAvLyBJbml0aWFsaXplcnMgcnVuIGxhemlseSB3aGVuIHRyYW5zcGlsaW5nIHRvIGJhYmVsLCBzbyBtYWtlIHN1cmUgdGhleSBhcmUgcnVuLi4uXHJcbiAgICBpbml0aWFsaXplSW5zdGFuY2UodGhpbmcpO1xyXG4gICAgaWYgKHRoaW5nWyRtb2J4XSlcclxuICAgICAgICByZXR1cm4gdGhpbmdbJG1vYnhdO1xyXG4gICAgZmFpbChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgXCJDYW5ub3Qgb2J0YWluIGFkbWluaXN0cmF0aW9uIGZyb20gXCIgKyB0aGluZyk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGVidWdOYW1lKHRoaW5nLCBwcm9wZXJ0eSkge1xyXG4gICAgdmFyIG5hbWVkO1xyXG4gICAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgbmFtZWQgPSBnZXRBdG9tKHRoaW5nLCBwcm9wZXJ0eSk7XHJcbiAgICBlbHNlIGlmIChpc09ic2VydmFibGVPYmplY3QodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZU1hcCh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSlcclxuICAgICAgICBuYW1lZCA9IGdldEFkbWluaXN0cmF0aW9uKHRoaW5nKTtcclxuICAgIGVsc2VcclxuICAgICAgICBuYW1lZCA9IGdldEF0b20odGhpbmcpOyAvLyB2YWxpZCBmb3IgYXJyYXlzIGFzIHdlbGxcclxuICAgIHJldHVybiBuYW1lZC5uYW1lO1xyXG59XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiLCBkZXB0aCkge1xyXG4gICAgaWYgKGRlcHRoID09PSB2b2lkIDApIHsgZGVwdGggPSAtMTsgfVxyXG4gICAgcmV0dXJuIGVxKGEsIGIsIGRlcHRoKTtcclxufVxyXG4vLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvYmxvYi81YzIzN2E3YzY4MmZiNjhmZDUzNzgyMDNmMGJmMjJkY2UxNjI0ODU0L3VuZGVyc2NvcmUuanMjTDExODYtTDEyODlcclxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cclxuZnVuY3Rpb24gZXEoYSwgYiwgZGVwdGgsIGFTdGFjaywgYlN0YWNrKSB7XHJcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXHJcbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cclxuICAgIGlmIChhID09PSBiKVxyXG4gICAgICAgIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcclxuICAgIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxyXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cclxuICAgIGlmIChhICE9PSBhKVxyXG4gICAgICAgIHJldHVybiBiICE9PSBiO1xyXG4gICAgLy8gRXhoYXVzdCBwcmltaXRpdmUgY2hlY2tzXHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBhO1xyXG4gICAgaWYgKHR5cGUgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBiICE9IFwib2JqZWN0XCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cclxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSlcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxyXG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjpcclxuICAgICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxyXG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpcclxuICAgICAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcclxuICAgICAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIGEgPT09IFwiXCIgKyBiO1xyXG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IE51bWJlcl1cIjpcclxuICAgICAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cclxuICAgICAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU4uXHJcbiAgICAgICAgICAgIGlmICgrYSAhPT0gK2EpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gK2IgIT09ICtiO1xyXG4gICAgICAgICAgICAvLyBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yIG90aGVyIG51bWVyaWMgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm4gK2EgPT09IDAgPyAxIC8gK2EgPT09IDEgLyBiIDogK2EgPT09ICtiO1xyXG4gICAgICAgIGNhc2UgXCJbb2JqZWN0IERhdGVdXCI6XHJcbiAgICAgICAgY2FzZSBcIltvYmplY3QgQm9vbGVhbl1cIjpcclxuICAgICAgICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxyXG4gICAgICAgICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXHJcbiAgICAgICAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cclxuICAgICAgICAgICAgcmV0dXJuICthID09PSArYjtcclxuICAgICAgICBjYXNlIFwiW29iamVjdCBTeW1ib2xdXCI6XHJcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wudmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2wudmFsdWVPZi5jYWxsKGIpKTtcclxuICAgICAgICBjYXNlIFwiW29iamVjdCBNYXBdXCI6XHJcbiAgICAgICAgY2FzZSBcIltvYmplY3QgU2V0XVwiOlxyXG4gICAgICAgICAgICAvLyBNYXBzIGFuZCBTZXRzIGFyZSB1bndyYXBwZWQgdG8gYXJyYXlzIG9mIGVudHJ5LXBhaXJzLCBhZGRpbmcgYW4gaW5jaWRlbnRhbCBsZXZlbC5cclxuICAgICAgICAgICAgLy8gSGlkZSB0aGlzIGV4dHJhIGxldmVsIGJ5IGluY3JlYXNpbmcgdGhlIGRlcHRoLlxyXG4gICAgICAgICAgICBpZiAoZGVwdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxyXG4gICAgYSA9IHVud3JhcChhKTtcclxuICAgIGIgPSB1bndyYXAoYik7XHJcbiAgICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSBcIltvYmplY3QgQXJyYXldXCI7XHJcbiAgICBpZiAoIWFyZUFycmF5cykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYSAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiBiICE9IFwib2JqZWN0XCIpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcclxuICAgICAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxyXG4gICAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmXHJcbiAgICAgICAgICAgICEodHlwZW9mIGFDdG9yID09PSBcImZ1bmN0aW9uXCIgJiZcclxuICAgICAgICAgICAgICAgIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBiQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmXHJcbiAgICAgICAgICAgICAgICBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSAmJlxyXG4gICAgICAgICAgICAoXCJjb25zdHJ1Y3RvclwiIGluIGEgJiYgXCJjb25zdHJ1Y3RvclwiIGluIGIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoZGVwdGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZXB0aCA8IDApIHtcclxuICAgICAgICBkZXB0aCA9IC0xO1xyXG4gICAgfVxyXG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xyXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXHJcbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXHJcbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXHJcbiAgICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XHJcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XHJcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcclxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xyXG4gICAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxyXG4gICAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cclxuICAgICAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpXHJcbiAgICAgICAgICAgIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cclxuICAgIGFTdGFjay5wdXNoKGEpO1xyXG4gICAgYlN0YWNrLnB1c2goYik7XHJcbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cclxuICAgIGlmIChhcmVBcnJheXMpIHtcclxuICAgICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cclxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXHJcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XHJcbiAgICAgICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGRlcHRoIC0gMSwgYVN0YWNrLCBiU3RhY2spKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxyXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7XHJcbiAgICAgICAgdmFyIGtleSA9IHZvaWQgMDtcclxuICAgICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcclxuICAgICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XHJcbiAgICAgICAgICAgIC8vIERlZXAgY29tcGFyZSBlYWNoIG1lbWJlclxyXG4gICAgICAgICAgICBrZXkgPSBrZXlzW2xlbmd0aF07XHJcbiAgICAgICAgICAgIGlmICghKGhhcyQxKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGRlcHRoIC0gMSwgYVN0YWNrLCBiU3RhY2spKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cclxuICAgIGFTdGFjay5wb3AoKTtcclxuICAgIGJTdGFjay5wb3AoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHVud3JhcChhKSB7XHJcbiAgICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkoYSkpXHJcbiAgICAgICAgcmV0dXJuIGEuc2xpY2UoKTtcclxuICAgIGlmIChpc0VTNk1hcChhKSB8fCBpc09ic2VydmFibGVNYXAoYSkpXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oYS5lbnRyaWVzKCkpO1xyXG4gICAgaWYgKGlzRVM2U2V0KGEpIHx8IGlzT2JzZXJ2YWJsZVNldChhKSlcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShhLmVudHJpZXMoKSk7XHJcbiAgICByZXR1cm4gYTtcclxufVxyXG5mdW5jdGlvbiBoYXMkMShhLCBrZXkpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KTtcclxufVxuXG5mdW5jdGlvbiBtYWtlSXRlcmFibGUoaXRlcmF0b3IpIHtcclxuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBnZXRTZWxmO1xyXG4gICAgcmV0dXJuIGl0ZXJhdG9yO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNlbGYoKSB7XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxuXG4vKlxyXG5UaGUgb25seSByZWFzb24gZm9yIHRoaXMgZmlsZSB0byBleGlzdCBpcyBwdXJlIGhvcnJvcjpcclxuV2l0aG91dCBpdCByb2xsdXAgY2FuIG1ha2UgdGhlIGJ1bmRsaW5nIGZhaWwgYXQgYW55IHBvaW50IGluIHRpbWU7IHdoZW4gaXQgcm9sbHMgdXAgdGhlIGZpbGVzIGluIHRoZSB3cm9uZyBvcmRlclxyXG5pdCB3aWxsIGNhdXNlIHVuZGVmaW5lZCBlcnJvcnMgKGZvciBleGFtcGxlIGJlY2F1c2Ugc3VwZXIgY2xhc3NlcyBvciBsb2NhbCB2YXJpYWJsZXMgbm90IGJlaW5nIGhvaXN0ZWQpLlxyXG5XaXRoIHRoaXMgZmlsZSB0aGF0IHdpbGwgc3RpbGwgaGFwcGVuLFxyXG5idXQgYXQgbGVhc3QgaW4gdGhpcyBmaWxlIHdlIGNhbiBtYWdpY2FsbHkgcmVvcmRlciB0aGUgaW1wb3J0cyB3aXRoIHRyaWFsIGFuZCBlcnJvciB1bnRpbCB0aGUgYnVpbGQgc3VjY2VlZHMgYWdhaW4uXHJcbiovXG5cbi8qKlxyXG4gKiAoYykgTWljaGVsIFdlc3RzdHJhdGUgMjAxNSAtIDIwMThcclxuICogTUlUIExpY2Vuc2VkXHJcbiAqXHJcbiAqIFdlbGNvbWUgdG8gdGhlIG1vYnggc291cmNlcyEgVG8gZ2V0IGFuIGdsb2JhbCBvdmVydmlldyBvZiBob3cgTW9iWCBpbnRlcm5hbGx5IHdvcmtzLFxyXG4gKiB0aGlzIGlzIGEgZ29vZCBwbGFjZSB0byBzdGFydDpcclxuICogaHR0cHM6Ly9tZWRpdW0uY29tL0Btd2VzdHN0cmF0ZS9iZWNvbWluZy1mdWxseS1yZWFjdGl2ZS1hbi1pbi1kZXB0aC1leHBsYW5hdGlvbi1vZi1tb2JzZXJ2YWJsZS01NTk5NTI2MmEyNTQjLnh2Ymg2cWQ3NFxyXG4gKlxyXG4gKiBTb3VyY2UgZm9sZGVyczpcclxuICogPT09PT09PT09PT09PT09XHJcbiAqXHJcbiAqIC0gYXBpLyAgICAgTW9zdCBvZiB0aGUgcHVibGljIHN0YXRpYyBtZXRob2RzIGV4cG9zZWQgYnkgdGhlIG1vZHVsZSBjYW4gYmUgZm91bmQgaGVyZS5cclxuICogLSBjb3JlLyAgICBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgTW9iWCBhbGdvcml0aG07IGF0b21zLCBkZXJpdmF0aW9ucywgcmVhY3Rpb25zLCBkZXBlbmRlbmN5IHRyZWVzLCBvcHRpbWl6YXRpb25zLiBDb29sIHN0dWZmIGNhbiBiZSBmb3VuZCBoZXJlLlxyXG4gKiAtIHR5cGVzLyAgIEFsbCB0aGUgbWFnaWMgdGhhdCBpcyBuZWVkIHRvIGhhdmUgb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIHZhbHVlcyBpcyBpbiB0aGlzIGZvbGRlci4gSW5jbHVkaW5nIHRoZSBtb2RpZmllcnMgbGlrZSBgYXNGbGF0YC5cclxuICogLSB1dGlscy8gICBVdGlsaXR5IHN0dWZmLlxyXG4gKlxyXG4gKi9cclxuaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gTW9iWCA1KyByZXF1aXJlcyBQcm94eSBhbmQgU3ltYm9sIG9iamVjdHMuIElmIHlvdXIgZW52aXJvbm1lbnQgZG9lc24ndCBzdXBwb3J0IFN5bWJvbCBvciBQcm94eSBvYmplY3RzLCBwbGVhc2UgZG93bmdyYWRlIHRvIE1vYlggNC4gRm9yIFJlYWN0IE5hdGl2ZSBBbmRyb2lkLCBjb25zaWRlciB1cGdyYWRpbmcgSlNDb3JlLlwiKTtcclxufVxyXG50cnkge1xyXG4gICAgLy8gZGVmaW5lIHByb2Nlc3MuZW52IGlmIG5lZWRlZFxyXG4gICAgLy8gaWYgdGhpcyBpcyBub3QgYSBwcm9kdWN0aW9uIGJ1aWxkIGluIHRoZSBmaXJzdCBwbGFjZVxyXG4gICAgLy8gKGluIHdoaWNoIGNhc2UgdGhlIGV4cHJlc3Npb24gYmVsb3cgd291bGQgYmUgc3Vic3RpdHV0ZWQgd2l0aCAncHJvZHVjdGlvbicpXHJcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOVjtcclxufVxyXG5jYXRjaCAoZSkge1xyXG4gICAgdmFyIGcgPSBnZXRHbG9iYWwoKTtcclxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICBnLnByb2Nlc3MgPSB7fTtcclxuICAgIGcucHJvY2Vzcy5lbnYgPSB7fTtcclxufVxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdGVzdENvZGVNaW5pZmljYXRpb24oKSB7IH1cclxuICAgIGlmICh0ZXN0Q29kZU1pbmlmaWNhdGlvbi5uYW1lICE9PSBcInRlc3RDb2RlTWluaWZpY2F0aW9uXCIgJiZcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcclxuICAgICAgICB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuSUdOT1JFX01PQlhfTUlOSUZZX1dBUk5JTkcgIT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgLy8gdHJpY2sgc28gaXQgZG9lc24ndCBnZXQgcmVwbGFjZWRcclxuICAgICAgICB2YXIgdmFyTmFtZSA9IFtcInByb2Nlc3NcIiwgXCJlbnZcIiwgXCJOT0RFX0VOVlwiXS5qb2luKFwiLlwiKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0geW91IGFyZSBydW5uaW5nIGEgbWluaWZpZWQgYnVpbGQsIGJ1dCAnXCIgKyB2YXJOYW1lICsgXCInIHdhcyBub3Qgc2V0IHRvICdwcm9kdWN0aW9uJyBpbiB5b3VyIGJ1bmRsZXIuIFRoaXMgcmVzdWx0cyBpbiBhbiB1bm5lY2Vzc2FyaWx5IGxhcmdlIGFuZCBzbG93IGJ1bmRsZVwiKTtcclxuICAgIH1cclxufSkoKTtcclxuaWYgKHR5cGVvZiBfX01PQlhfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5keWtvZy9tb2J4LWRldnRvb2xzL1xyXG4gICAgX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uaW5qZWN0TW9ieCh7XHJcbiAgICAgICAgc3B5OiBzcHksXHJcbiAgICAgICAgZXh0cmFzOiB7XHJcbiAgICAgICAgICAgIGdldERlYnVnTmFtZTogZ2V0RGVidWdOYW1lXHJcbiAgICAgICAgfSxcclxuICAgICAgICAkbW9ieDogJG1vYnhcclxuICAgIH0pO1xyXG59XG5cbmV4cG9ydCB7ICRtb2J4LCBGbG93Q2FuY2VsbGF0aW9uRXJyb3IsIElEZXJpdmF0aW9uU3RhdGUsIE9ic2VydmFibGVNYXAsIE9ic2VydmFibGVTZXQsIFJlYWN0aW9uLCBhbGxvd1N0YXRlQ2hhbmdlcyBhcyBfYWxsb3dTdGF0ZUNoYW5nZXMsIGFsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWQgYXMgX2FsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWQsIGFsbG93U3RhdGVSZWFkc0VuZCBhcyBfYWxsb3dTdGF0ZVJlYWRzRW5kLCBhbGxvd1N0YXRlUmVhZHNTdGFydCBhcyBfYWxsb3dTdGF0ZVJlYWRzU3RhcnQsIF9lbmRBY3Rpb24sIGdldEFkbWluaXN0cmF0aW9uIGFzIF9nZXRBZG1pbmlzdHJhdGlvbiwgZ2V0R2xvYmFsU3RhdGUgYXMgX2dldEdsb2JhbFN0YXRlLCBpbnRlcmNlcHRSZWFkcyBhcyBfaW50ZXJjZXB0UmVhZHMsIGlzQ29tcHV0aW5nRGVyaXZhdGlvbiBhcyBfaXNDb21wdXRpbmdEZXJpdmF0aW9uLCByZXNldEdsb2JhbFN0YXRlIGFzIF9yZXNldEdsb2JhbFN0YXRlLCBfc3RhcnRBY3Rpb24sIGFjdGlvbiwgYXV0b3J1biwgY29tcGFyZXIsIGNvbXB1dGVkLCBjb25maWd1cmUsIGNyZWF0ZUF0b20sIGRlY29yYXRlLCBlbnRyaWVzLCBleHRlbmRPYnNlcnZhYmxlLCBmbG93LCBnZXQsIGdldEF0b20sIGdldERlYnVnTmFtZSwgZ2V0RGVwZW5kZW5jeVRyZWUsIGdldE9ic2VydmVyVHJlZSwgaGFzLCBpbnRlcmNlcHQsIGlzQWN0aW9uLCBpc0FycmF5TGlrZSwgaXNPYnNlcnZhYmxlVmFsdWUgYXMgaXNCb3hlZE9ic2VydmFibGUsIGlzQ29tcHV0ZWQsIGlzQ29tcHV0ZWRQcm9wLCBpc0Zsb3dDYW5jZWxsYXRpb25FcnJvciwgaXNPYnNlcnZhYmxlLCBpc09ic2VydmFibGVBcnJheSwgaXNPYnNlcnZhYmxlTWFwLCBpc09ic2VydmFibGVPYmplY3QsIGlzT2JzZXJ2YWJsZVByb3AsIGlzT2JzZXJ2YWJsZVNldCwga2V5cywgb2JzZXJ2YWJsZSwgb2JzZXJ2ZSwgb25CZWNvbWVPYnNlcnZlZCwgb25CZWNvbWVVbm9ic2VydmVkLCBvblJlYWN0aW9uRXJyb3IsIHJlYWN0aW9uLCByZW1vdmUsIHJ1bkluQWN0aW9uLCBzZXQsIHNweSwgdG9KUywgdHJhY2UsIHRyYW5zYWN0aW9uLCB1bnRyYWNrZWQsIHZhbHVlcywgd2hlbiB9O1xuIiwiZXhwb3J0IGludGVyZmFjZSBSZWFkb25seVZlY3RvcjIge1xyXG4gIHJlYWRvbmx5IHg6IG51bWJlcjtcclxuICByZWFkb25seSB5OiBudW1iZXI7XHJcblxyXG4gIGVxdWFscyhvOiBSZWFkb25seVZlY3RvcjIpOiBib29sZWFuO1xyXG4gIG5vcm1hbGl6ZSgpOiBWZWN0b3IyO1xyXG4gIGFkZChvOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyO1xyXG4gIHN1YihvOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyO1xyXG4gIG11bCh2OiBudW1iZXIpOiBWZWN0b3IyO1xyXG4gIG11bDIobzogUmVhZG9ubHlWZWN0b3IyKTogVmVjdG9yMjtcclxuICBkaXYyKG86IFJlYWRvbmx5VmVjdG9yMik6IFZlY3RvcjI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIGltcGxlbWVudHMgUmVhZG9ubHlWZWN0b3IyIHtcclxuXHJcbiAgcHVibGljIGdldCB4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLnhfOyB9XHJcbiAgcHVibGljIGdldCB5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLnlfOyB9XHJcblxyXG4gIHByaXZhdGUgc3F1YXJlZE1hZ25pdHVkZV86IG51bWJlcjtcclxuICBwdWJsaWMgZ2V0IHNxdWFyZWRNYWduaXR1ZGUoKSB7IHJldHVybiB0aGlzLnNxdWFyZWRNYWduaXR1ZGVfOyB9XHJcbiAgcHJpdmF0ZSBtYWduaXR1ZGVfOiBudW1iZXIgPSB1bmRlZmluZWQ7XHJcbiAgcHVibGljIGdldCBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLm1hZ25pdHVkZV8gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLm1hZ25pdHVkZV8gPSBNYXRoLnNxcnQodGhpcy5zcXVhcmVkTWFnbml0dWRlXyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5tYWduaXR1ZGVfO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICAgIHByaXZhdGUgeF86IG51bWJlcixcclxuICAgICAgcHJpdmF0ZSB5XzogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLm1hZ25pdHVkZV8gPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLnNxdWFyZWRNYWduaXR1ZGVfID0gKHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZXF1YWxzKG86IFJlYWRvbmx5VmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMueCA9PSBvLnggJiYgdGhpcy55ID09IG8ueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yMiB7XHJcbiAgICBpZiAodGhpcy5tYWduaXR1ZGUgPT0gMCkgcmV0dXJuIG5ldyBWZWN0b3IyKDAsIDApO1xyXG4gICAgY29uc3QgbWFnID0gdGhpcy5tYWduaXR1ZGU7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54IC8gbWFnLCB0aGlzLnkgLyBtYWcpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZChvOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKyBvLngsIHRoaXMueSArIG8ueSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3ViKG86IFJlYWRvbmx5VmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAtIG8ueCwgdGhpcy55IC0gby55KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtdWwodjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICogdiwgdGhpcy55ICogdik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbXVsMihvOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKiBvLngsIHRoaXMueSAqIG8ueSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGl2MihvOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggLyBvLngsIHRoaXMueSAvIG8ueSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmQobWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEpOiBudW1iZXIge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kSW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZhbHVlKSk7XHJcbn0iLCJleHBvcnQgZW51bSBTSVJTdGF0ZSB7XHJcbiAgU3VzcGVjdGlibGUsXHJcbiAgSW5mZWN0aW91cyxcclxuICBJbmZlY3Rpb3VzX1Vua25vd24sXHJcbiAgUmVjb3ZlcmVkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBlcnNvbiB7XHJcblxyXG4gIHJlYWRvbmx5IHN0YXRlOiBTSVJTdGF0ZTtcclxuXHJcbiAgc2V0U3RhdGUodmFsdWU6IFNJUlN0YXRlKTogdm9pZDtcclxuICBcclxufSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnLi90cmFuc2Zvcm0nO1xyXG5pbXBvcnQgeyBJRW50aXR5IH0gZnJvbSAnLi9pZW50aXR5JztcclxuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi9lbmdpbmUnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudGl0eSBpbXBsZW1lbnRzIElFbnRpdHkge1xyXG5cclxuICBwcml2YXRlIGNvbXBvbmVudHNfOiBBcnJheTxDb21wb25lbnQ+ID0gW107XHJcbiAgXHJcbiAgcHJvdGVjdGVkIHRyYW5zZm9ybV86IFRyYW5zZm9ybTtcclxuICBwdWJsaWMgZ2V0IHRyYW5zZm9ybSgpIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtXzsgfVxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudHJhbnNmb3JtXyA9IHRoaXMuYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oKSk7XHJcblxyXG4gICAgRW5naW5lLmFkZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbXBvbmVudHNfLmZvckVhY2goY29tcG9uZW50ID0+IHtcclxuICAgICAgY29tcG9uZW50LnVwZGF0ZSgpO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZG9VcGRhdGUoKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBkb1VwZGF0ZSgpOiB2b2lkO1xyXG5cclxuICBwdWJsaWMgYWRkQ29tcG9uZW50PFQgZXh0ZW5kcyBDb21wb25lbnQ+KGNvbXA6IFQpOiBUIHtcclxuICAgIHRoaXMuY29tcG9uZW50c18ucHVzaChjb21wKTtcclxuICAgIHJldHVybiBjb21wO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENvbXBub2VudDxUIGV4dGVuZHMgQ29tcG9uZW50PihcclxuICAgICAga2xhc3M6IHsgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFQgfSkgOiBUIHwgbnVsbCB7XHJcbiAgICBsZXQgcmV0OiBUID0gbnVsbDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRzXy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgY29uc3QgY29tcCA9IHRoaXMuY29tcG9uZW50c19baV07XHJcbiAgICAgIGlmIChjb21wIGluc3RhbmNlb2Yga2xhc3MpIHtcclxuICAgICAgICByZXQgPSBjb21wO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZUNvbXBvbmVudDxUIGV4dGVuZHMgQ29tcG9uZW50PihcclxuICAgICAga2xhc3M6IHsgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFQgfSkgOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRzXy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgY29uc3QgY29tcCA9IHRoaXMuY29tcG9uZW50c19baV07XHJcbiAgICAgIGlmIChjb21wIGluc3RhbmNlb2Yga2xhc3MpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHNfLnNwbGljZShpLCAxKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7fVxyXG5cclxufSIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9LCAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX3V0aWxfaXNPYmplY3QsX3V0aWxfaXNGdW5jdGlvbixfdXRpbF9VbnN1YnNjcmlwdGlvbkVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbnZhciBTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF91bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykgOiBbZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBpZiAoIXRlYXJkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09IHRoaXMgfHwgc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IFtfcGFyZW50T3JQYXJlbnRzLCB0aGlzXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzLmluZGV4T2YodGhpcykgPT09IC0xKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKGVtcHR5KSB7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5mdW5jdGlvbiBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JzKSB7XG4gICAgcmV0dXJuIGVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKGVycnMsIGVycikgeyByZXR1cm4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVycik7IH0sIFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgICAgIDogJ0BAcnhTdWJzY3JpYmVyXycgKyAvKkBfX1BVUkVfXyovIE1hdGgucmFuZG9tKCk7XG59KSgpO1xuZXhwb3J0IHZhciAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ4U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNGdW5jdGlvbixfT2JzZXJ2ZXIsX1N1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcixfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuL09ic2VydmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xudmFyIFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbk9yTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBkZXN0aW5hdGlvbk9yTmV4dC5zeW5jRXJyb3JUaHJvd2FibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZVtyeFN1YnNjcmliZXJTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSB0aGlzLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlcjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH07XG52YXIgU2FmZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudFN1YnNjcmliZXIsIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBfcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICE9PSBlbXB0eU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gX3RoaXMudW5zdWJzY3JpYmUuYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICB2YXIgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyA9IGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIod3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgX3BhcmVudFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoIWZucykge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3RTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0O1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gc3ViamVjdC5vYnNlcnZlcnM7XG4gICAgICAgIHRoaXMuc3ViamVjdCA9IG51bGw7XG4gICAgICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDAgfHwgc3ViamVjdC5pc1N0b3BwZWQgfHwgc3ViamVjdC5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaWJlckluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2Uoc3Vic2NyaWJlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdFN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xudmFyIFN1YmplY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfTtcbnZhciBTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJqZWN0IH07XG52YXIgQW5vbnltb3VzU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24ubmV4dCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVmQ291bnQoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlZkNvdW50T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZWZDb3VudE9wZXJhdG9yKHNvdXJjZSkpO1xuICAgIH07XG59XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZDb3VudE9wZXJhdG9yKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICB9XG4gICAgUmVmQ291bnRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50Kys7XG4gICAgICAgIHZhciByZWZDb3VudGVyID0gbmV3IFJlZkNvdW50U3Vic2NyaWJlcihzdWJzY3JpYmVyLCBjb25uZWN0YWJsZSk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHJlZkNvdW50ZXIpO1xuICAgICAgICBpZiAoIXJlZkNvdW50ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZWZDb3VudGVyLmNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudE9wZXJhdG9yO1xufSgpKTtcbnZhciBSZWZDb3VudFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmICghY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IGNvbm5lY3RhYmxlLl9yZWZDb3VudDtcbiAgICAgICAgaWYgKHJlZkNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gcmVmQ291bnQgLSAxO1xuICAgICAgICBpZiAocmVmQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uO1xuICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAoc2hhcmVkQ29ubmVjdGlvbiAmJiAoIWNvbm5lY3Rpb24gfHwgc2hhcmVkQ29ubmVjdGlvbiA9PT0gY29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgIHNoYXJlZENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmQ291bnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9PYnNlcnZhYmxlLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX29wZXJhdG9yc19yZWZDb3VudCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByZWZDb3VudCBhcyBoaWdoZXJPcmRlclJlZkNvdW50IH0gZnJvbSAnLi4vb3BlcmF0b3JzL3JlZkNvdW50JztcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29ubmVjdGFibGVPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIHN1YmplY3RGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgX3RoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdWJqZWN0KCkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5nZXRTdWJqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuX3N1YmplY3Q7XG4gICAgICAgIGlmICghc3ViamVjdCB8fCBzdWJqZWN0LmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGQodGhpcy5zb3VyY2VcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKG5ldyBDb25uZWN0YWJsZVN1YnNjcmliZXIodGhpcy5nZXRTdWJqZWN0KCksIHRoaXMpKSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5yZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhpZ2hlck9yZGVyUmVmQ291bnQoKSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZU9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9O1xuZXhwb3J0IHZhciBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb25uZWN0YWJsZVByb3RvID0gQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvcGVyYXRvcjogeyB2YWx1ZTogbnVsbCB9LFxuICAgICAgICBfcmVmQ291bnQ6IHsgdmFsdWU6IDAsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIF9zdWJqZWN0OiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBfY29ubmVjdGlvbjogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgX3N1YnNjcmliZTogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5fc3Vic2NyaWJlIH0sXG4gICAgICAgIF9pc0NvbXBsZXRlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9pc0NvbXBsZXRlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBnZXRTdWJqZWN0OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLmdldFN1YmplY3QgfSxcbiAgICAgICAgY29ubmVjdDogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5jb25uZWN0IH0sXG4gICAgICAgIHJlZkNvdW50OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLnJlZkNvdW50IH1cbiAgICB9O1xufSkoKTtcbnZhciBDb25uZWN0YWJsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29ubmVjdGFibGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3RhYmxlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IDA7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fc3ViamVjdCA9IG51bGw7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlU3Vic2NyaWJlcjtcbn0oU3ViamVjdFN1YnNjcmliZXIpKTtcbnZhciBSZWZDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50T3BlcmF0b3IoY29ubmVjdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgIH1cbiAgICBSZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBuZXcgUmVmQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNvbm5lY3RhYmxlKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJlZkNvdW50ZXIuY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlZkNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKCFjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gY29ubmVjdGFibGUuX3JlZkNvdW50O1xuICAgICAgICBpZiAocmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSByZWZDb3VudCAtIDE7XG4gICAgICAgIGlmIChyZWZDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0YWJsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX09ic2VydmFibGUsX1N1YmplY3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeShrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEdyb3VwQnlPcGVyYXRvcihrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIEdyb3VwQnlPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHcm91cEJ5T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5lbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuc3ViamVjdFNlbGVjdG9yID0gc3ViamVjdFNlbGVjdG9yO1xuICAgIH1cbiAgICBHcm91cEJ5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBHcm91cEJ5U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmtleVNlbGVjdG9yLCB0aGlzLmVsZW1lbnRTZWxlY3RvciwgdGhpcy5kdXJhdGlvblNlbGVjdG9yLCB0aGlzLnN1YmplY3RTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwQnlPcGVyYXRvcjtcbn0oKSk7XG52YXIgR3JvdXBCeVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBCeVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBCeVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuc3ViamVjdFNlbGVjdG9yID0gc3ViamVjdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5ncm91cHMgPSBudWxsO1xuICAgICAgICBfdGhpcy5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGtleSA9IHRoaXMua2V5U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ncm91cCh2YWx1ZSwga2V5KTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZ3JvdXAgPSBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmICghZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMgPSB0aGlzLmdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHMuZ2V0KGtleSk7XG4gICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudFNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFncm91cCkge1xuICAgICAgICAgICAgZ3JvdXAgPSAodGhpcy5zdWJqZWN0U2VsZWN0b3IgPyB0aGlzLnN1YmplY3RTZWxlY3RvcigpIDogbmV3IFN1YmplY3QoKSk7XG4gICAgICAgICAgICBncm91cHMuc2V0KGtleSwgZ3JvdXApO1xuICAgICAgICAgICAgdmFyIGdyb3VwZWRPYnNlcnZhYmxlID0gbmV3IEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXAsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGdyb3VwZWRPYnNlcnZhYmxlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmR1cmF0aW9uU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uU2VsZWN0b3IobmV3IEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZHVyYXRpb24uc3Vic2NyaWJlKG5ldyBHcm91cER1cmF0aW9uU3Vic2NyaWJlcihrZXksIGdyb3VwLCB0aGlzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZ3JvdXAuY2xvc2VkKSB7XG4gICAgICAgICAgICBncm91cC5uZXh0KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmIChncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCwga2V5KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXAsIGtleSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3Vwcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5ncm91cHMuZGVsZXRlKGtleSk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwQnlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBEdXJhdGlvblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBEdXJhdGlvblN1YnNjcmliZXIoa2V5LCBncm91cCwgcGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdyb3VwKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIF90aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cER1cmF0aW9uU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcGFyZW50ID0gX2EucGFyZW50LCBrZXkgPSBfYS5rZXk7XG4gICAgICAgIHRoaXMua2V5ID0gdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlR3JvdXAoa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgR3JvdXBlZE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBlZE9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cFN1YmplY3QsIHJlZkNvdW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgX3RoaXMuZ3JvdXBTdWJqZWN0ID0gZ3JvdXBTdWJqZWN0O1xuICAgICAgICBfdGhpcy5yZWZDb3VudFN1YnNjcmlwdGlvbiA9IHJlZkNvdW50U3Vic2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwZWRPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcmVmQ291bnRTdWJzY3JpcHRpb24gPSBfYS5yZWZDb3VudFN1YnNjcmlwdGlvbiwgZ3JvdXBTdWJqZWN0ID0gX2EuZ3JvdXBTdWJqZWN0O1xuICAgICAgICBpZiAocmVmQ291bnRTdWJzY3JpcHRpb24gJiYgIXJlZkNvdW50U3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChuZXcgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbihyZWZDb3VudFN1YnNjcmlwdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoZ3JvdXBTdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBlZE9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IEdyb3VwZWRPYnNlcnZhYmxlIH07XG52YXIgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcGFyZW50LmNvdW50Kys7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQuY2xvc2VkICYmICF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcGFyZW50LmNvdW50IC09IDE7XG4gICAgICAgICAgICBpZiAocGFyZW50LmNvdW50ID09PSAwICYmIHBhcmVudC5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwQnkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbnZhciBCZWhhdmlvclN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQmVoYXZpb3JTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJlaGF2aW9yU3ViamVjdChfdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgIXN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0aGlzLl92YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLnRocm93bkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMuX3ZhbHVlID0gdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEJlaGF2aW9yU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZWhhdmlvclN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9BY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbnZhciBBc3luY0FjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRJbnRlcnZhbChzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHRoaXMpLCBkZWxheSk7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSAhIWUgJiYgZSB8fCBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgIHZhciBpbmRleCA9IGFjdGlvbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgdGhpcy53b3JrID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBY3Rpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBRdWV1ZUFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhRdWV1ZUFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWV1ZUFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICByZXR1cm4gKGRlbGF5ID4gMCB8fCB0aGlzLmNsb3NlZCkgP1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KSA6XG4gICAgICAgICAgICB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBRdWV1ZUFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5mbHVzaCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBRdWV1ZUFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IFF1ZXVlQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWV1ZUFjdGlvbi5qcy5tYXBcbiIsInZhciBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlNjaGVkdWxlckFjdGlvbiA9IFNjaGVkdWxlckFjdGlvbjtcbiAgICAgICAgdGhpcy5ub3cgPSBub3c7XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLCB3b3JrKS5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCk7IH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG5leHBvcnQgeyBTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbnZhciBBc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5vdyA9IFNjaGVkdWxlci5ub3c7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IF90aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlLnNjaGVkdWxlKHdvcmssIGRlbGF5LCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHdvcmssIGRlbGF5LCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXI7XG59KFNjaGVkdWxlcikpO1xuZXhwb3J0IHsgQXN5bmNTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfUXVldWVBY3Rpb24sX1F1ZXVlU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFF1ZXVlQWN0aW9uIH0gZnJvbSAnLi9RdWV1ZUFjdGlvbic7XG5pbXBvcnQgeyBRdWV1ZVNjaGVkdWxlciB9IGZyb20gJy4vUXVldWVTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBxdWV1ZSA9IC8qQF9fUFVSRV9fKi8gbmV3IFF1ZXVlU2NoZWR1bGVyKFF1ZXVlQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXVlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgUXVldWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUXVldWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVldWVTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFF1ZXVlU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgUXVldWVTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1ZXVlU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIEVNUFRZID0gLypAX19QVVJFX18qLyBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTtcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSA6IEVNUFRZO1xufVxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX2VtcHR5LF9vYnNlcnZhYmxlX29mLF9vYnNlcnZhYmxlX3Rocm93RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB2YXIgTm90aWZpY2F0aW9uS2luZDtcbi8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChOb3RpZmljYXRpb25LaW5kKSB7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIk5FWFRcIl0gPSBcIk5cIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiRVJST1JcIl0gPSBcIkVcIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiQ09NUExFVEVcIl0gPSBcIkNcIjtcbn0pKE5vdGlmaWNhdGlvbktpbmQgfHwgKE5vdGlmaWNhdGlvbktpbmQgPSB7fSkpO1xudmFyIE5vdGlmaWNhdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0ga2luZCA9PT0gJ04nO1xuICAgIH1cbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0ICYmIG9ic2VydmVyLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IgJiYgb2JzZXJ2ZXIuZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuY29tcGxldGUgJiYgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5kbyA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIGtpbmQgPSB0aGlzLmtpbmQ7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQgJiYgbmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciAmJiBlcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZSAmJiBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciAmJiB0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIubmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZShuZXh0T3JPYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kbyhuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS50b09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvZih0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlJyk7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdDJyk7XG4gICAgTm90aWZpY2F0aW9uLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignTicsIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIE5vdGlmaWNhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBOb3RpZmljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQodGhpcy5zY2hlZHVsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG9BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvQXJyYXkoaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNTY2hlZHVsZXIsX2Zyb21BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoYXJncywgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJncyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0Vycm9yKGVycm9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IGVycm9yOiBlcnJvciwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciB9KTsgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2goX2EpIHtcbiAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgc3Vic2NyaWJlciA9IF9hLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5lcnJvcihlcnJvcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd0Vycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfTm90aWZpY2F0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVsYXkgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gb2JzZXJ2ZU9uT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBPYnNlcnZlT25PcGVyYXRvcihzY2hlZHVsZXIsIGRlbGF5KSk7XG4gICAgfTtcbn1cbnZhciBPYnNlcnZlT25PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25PcGVyYXRvcihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICB9XG4gICAgT2JzZXJ2ZU9uT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBPYnNlcnZlT25TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuc2NoZWR1bGVyLCB0aGlzLmRlbGF5KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2ZU9uT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uT3BlcmF0b3IgfTtcbnZhciBPYnNlcnZlT25TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE9ic2VydmVPblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgc2NoZWR1bGVyLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IGFyZy5ub3RpZmljYXRpb24sIGRlc3RpbmF0aW9uID0gYXJnLmRlc3RpbmF0aW9uO1xuICAgICAgICBub3RpZmljYXRpb24ub2JzZXJ2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLnNjaGVkdWxlTWVzc2FnZSA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKE9ic2VydmVPblN1YnNjcmliZXIuZGlzcGF0Y2gsIHRoaXMuZGVsYXksIG5ldyBPYnNlcnZlT25NZXNzYWdlKG5vdGlmaWNhdGlvbiwgdGhpcy5kZXN0aW5hdGlvbikpKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcihlcnIpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZlT25TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPYnNlcnZlT25TdWJzY3JpYmVyIH07XG52YXIgT2JzZXJ2ZU9uTWVzc2FnZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25NZXNzYWdlKG5vdGlmaWNhdGlvbiwgZGVzdGluYXRpb24pIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBub3RpZmljYXRpb247XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE9ic2VydmVPbk1lc3NhZ2U7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uTWVzc2FnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfc2NoZWR1bGVyX3F1ZXVlLF9TdWJzY3JpcHRpb24sX29wZXJhdG9yc19vYnNlcnZlT24sX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IsX1N1YmplY3RTdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgcXVldWUgfSBmcm9tICcuL3NjaGVkdWxlci9xdWV1ZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlT25TdWJzY3JpYmVyIH0gZnJvbSAnLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xudmFyIFJlcGxheVN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVwbGF5U3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICBpZiAoYnVmZmVyU2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBidWZmZXJTaXplID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3dUaW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHdpbmRvd1RpbWUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5fZXZlbnRzID0gW107XG4gICAgICAgIF90aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSBidWZmZXJTaXplIDwgMSA/IDEgOiBidWZmZXJTaXplO1xuICAgICAgICBfdGhpcy5fd2luZG93VGltZSA9IHdpbmRvd1RpbWUgPCAxID8gMSA6IHdpbmRvd1RpbWU7XG4gICAgICAgIGlmICh3aW5kb3dUaW1lID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgIF90aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMubmV4dCA9IF90aGlzLm5leHRJbmZpbml0ZVRpbWVXaW5kb3c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gX3RoaXMubmV4dFRpbWVXaW5kb3c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5uZXh0SW5maW5pdGVUaW1lV2luZG93ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgICBfZXZlbnRzLnB1c2godmFsdWUpO1xuICAgICAgICBpZiAoX2V2ZW50cy5sZW5ndGggPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICBfZXZlbnRzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUubmV4dFRpbWVXaW5kb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLnB1c2gobmV3IFJlcGxheUV2ZW50KHRoaXMuX2dldE5vdygpLCB2YWx1ZSkpO1xuICAgICAgICB0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9pbmZpbml0ZVRpbWVXaW5kb3cgPSB0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c7XG4gICAgICAgIHZhciBfZXZlbnRzID0gX2luZmluaXRlVGltZVdpbmRvdyA/IHRoaXMuX2V2ZW50cyA6IHRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCk7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGxlbiA9IF9ldmVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkIHx8IHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzdWJzY3JpYmVyID0gbmV3IE9ic2VydmVPblN1YnNjcmliZXIoc3Vic2NyaWJlciwgc2NoZWR1bGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9pbmZpbml0ZVRpbWVXaW5kb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KF9ldmVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoX2V2ZW50c1tpXS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX2dldE5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnNjaGVkdWxlciB8fCBxdWV1ZSkubm93KCk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub3cgPSB0aGlzLl9nZXROb3coKTtcbiAgICAgICAgdmFyIF9idWZmZXJTaXplID0gdGhpcy5fYnVmZmVyU2l6ZTtcbiAgICAgICAgdmFyIF93aW5kb3dUaW1lID0gdGhpcy5fd2luZG93VGltZTtcbiAgICAgICAgdmFyIF9ldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgIHZhciBldmVudHNDb3VudCA9IF9ldmVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgc3BsaWNlQ291bnQgPSAwO1xuICAgICAgICB3aGlsZSAoc3BsaWNlQ291bnQgPCBldmVudHNDb3VudCkge1xuICAgICAgICAgICAgaWYgKChub3cgLSBfZXZlbnRzW3NwbGljZUNvdW50XS50aW1lKSA8IF93aW5kb3dUaW1lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGxpY2VDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudHNDb3VudCA+IF9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICBzcGxpY2VDb3VudCA9IE1hdGgubWF4KHNwbGljZUNvdW50LCBldmVudHNDb3VudCAtIF9idWZmZXJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BsaWNlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBfZXZlbnRzLnNwbGljZSgwLCBzcGxpY2VDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9ldmVudHM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwbGF5U3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgUmVwbGF5U3ViamVjdCB9O1xudmFyIFJlcGxheUV2ZW50ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcGxheUV2ZW50KHRpbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFJlcGxheUV2ZW50O1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcGxheVN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xudmFyIEFzeW5jU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5oYXNOZXh0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc0NvbXBsZXRlZCAmJiB0aGlzLmhhc05leHQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuaGFzTmV4dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5oYXNOZXh0KSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBc3luY1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBuZXh0SGFuZGxlID0gMTtcbnZhciBSRVNPTFZFRCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIC8qQF9fUFVSRV9fKi8gUHJvbWlzZS5yZXNvbHZlKCk7IH0pKCk7XG52YXIgYWN0aXZlSGFuZGxlcyA9IHt9O1xuZnVuY3Rpb24gZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSkge1xuICAgIGlmIChoYW5kbGUgaW4gYWN0aXZlSGFuZGxlcykge1xuICAgICAgICBkZWxldGUgYWN0aXZlSGFuZGxlc1toYW5kbGVdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IHZhciBJbW1lZGlhdGUgPSB7XG4gICAgc2V0SW1tZWRpYXRlOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgdmFyIGhhbmRsZSA9IG5leHRIYW5kbGUrKztcbiAgICAgICAgYWN0aXZlSGFuZGxlc1toYW5kbGVdID0gdHJ1ZTtcbiAgICAgICAgUkVTT0xWRUQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKSAmJiBjYigpOyB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZTtcbiAgICB9LFxuICAgIGNsZWFySW1tZWRpYXRlOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpO1xuICAgIH0sXG59O1xuZXhwb3J0IHZhciBUZXN0VG9vbHMgPSB7XG4gICAgcGVuZGluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYWN0aXZlSGFuZGxlcykubGVuZ3RoO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbW1lZGlhdGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX0ltbWVkaWF0ZSxfQXN5bmNBY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEltbWVkaWF0ZSB9IGZyb20gJy4uL3V0aWwvSW1tZWRpYXRlJztcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG52YXIgQXNhcEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc2FwQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzYXBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc2FwQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuc2NoZWR1bGVkID0gSW1tZWRpYXRlLnNldEltbWVkaWF0ZShzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIG51bGwpKSk7XG4gICAgfTtcbiAgICBBc2FwQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyLmFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBJbW1lZGlhdGUuY2xlYXJJbW1lZGlhdGUoaWQpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEFzYXBBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBBc2FwQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc2FwQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXNhcEFjdGlvbixfQXNhcFNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBc2FwQWN0aW9uIH0gZnJvbSAnLi9Bc2FwQWN0aW9uJztcbmltcG9ydCB7IEFzYXBTY2hlZHVsZXIgfSBmcm9tICcuL0FzYXBTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc2FwID0gLypAX19QVVJFX18qLyBuZXcgQXNhcFNjaGVkdWxlcihBc2FwQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBBc2FwU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzYXBTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXNhcFNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBc2FwU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBjb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuICAgICAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzYXBTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc2FwU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc2FwU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luYyA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNBY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG52YXIgQW5pbWF0aW9uRnJhbWVBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQW5pbWF0aW9uRnJhbWVBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uRnJhbWVBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBzY2hlZHVsZXIuZmx1c2gobnVsbCk7IH0pKTtcbiAgICB9O1xuICAgIEFuaW1hdGlvbkZyYW1lQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyLmFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uRnJhbWVBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBBbmltYXRpb25GcmFtZUFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0aW9uRnJhbWVBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9BbmltYXRpb25GcmFtZUFjdGlvbixfQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQW5pbWF0aW9uRnJhbWVBY3Rpb24gfSBmcm9tICcuL0FuaW1hdGlvbkZyYW1lQWN0aW9uJztcbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZVNjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFuaW1hdGlvbkZyYW1lID0gLypAX19QVVJFX18qLyBuZXcgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIoQW5pbWF0aW9uRnJhbWVBY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0aW9uRnJhbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBBbmltYXRpb25GcmFtZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbmltYXRpb25GcmFtZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb25GcmFtZVNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBbmltYXRpb25GcmFtZVNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgY291bnQgPSBhY3Rpb25zLmxlbmd0aDtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uIHx8IGFjdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBbmltYXRpb25GcmFtZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb25GcmFtZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgVmlydHVhbFRpbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVmlydHVhbFRpbWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlydHVhbFRpbWVTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBtYXhGcmFtZXMpIHtcbiAgICAgICAgaWYgKFNjaGVkdWxlckFjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBTY2hlZHVsZXJBY3Rpb24gPSBWaXJ0dWFsQWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhGcmFtZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWF4RnJhbWVzID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZnJhbWU7IH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1heEZyYW1lcyA9IG1heEZyYW1lcztcbiAgICAgICAgX3RoaXMuZnJhbWUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYWN0aW9ucyA9IF9hLmFjdGlvbnMsIG1heEZyYW1lcyA9IF9hLm1heEZyYW1lcztcbiAgICAgICAgdmFyIGVycm9yLCBhY3Rpb247XG4gICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmRlbGF5IDw9IG1heEZyYW1lcykge1xuICAgICAgICAgICAgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGFjdGlvbi5kZWxheTtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLmZyYW1lVGltZUZhY3RvciA9IDEwO1xuICAgIHJldHVybiBWaXJ0dWFsVGltZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IFZpcnR1YWxUaW1lU2NoZWR1bGVyIH07XG52YXIgVmlydHVhbEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhWaXJ0dWFsQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpcnR1YWxBY3Rpb24oc2NoZWR1bGVyLCB3b3JrLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5kZXggPSBzY2hlZHVsZXIuaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gc2NoZWR1bGVyLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyBWaXJ0dWFsQWN0aW9uKHRoaXMuc2NoZWR1bGVyLCB0aGlzLndvcmspO1xuICAgICAgICB0aGlzLmFkZChhY3Rpb24pO1xuICAgICAgICByZXR1cm4gYWN0aW9uLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBzY2hlZHVsZXIuZnJhbWUgKyBkZWxheTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICBhY3Rpb25zLnNvcnQoVmlydHVhbEFjdGlvbi5zb3J0QWN0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX2V4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZGVsYXkgPT09IGIuZGVsYXkpIHtcbiAgICAgICAgICAgIGlmIChhLmluZGV4ID09PSBiLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhLmluZGV4ID4gYi5pbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuZGVsYXkgPiBiLmRlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpcnR1YWxBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBWaXJ0dWFsQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaXJ0dWFsVGltZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgKG9iaiBpbnN0YW5jZW9mIE9ic2VydmFibGUgfHwgKHR5cGVvZiBvYmoubGlmdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIEVtcHR5RXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtcHR5RXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnbm8gZWxlbWVudHMgaW4gc2VxdWVuY2UnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRW1wdHlFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBFbXB0eUVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gRW1wdHlFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBFbXB0eUVycm9yID0gRW1wdHlFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbXB0eUVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIFRpbWVvdXRFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZW91dEVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ1RpbWVvdXQgaGFzIG9jY3VycmVkJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBUaW1lb3V0RXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBUaW1lb3V0RXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVGltZW91dEVycm9yID0gVGltZW91dEVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVvdXRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBtYXBPcGVyYXRpb24oc291cmNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvamVjdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgPycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1hcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcm9qZWN0LCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNYXBPcGVyYXRvciB9O1xudmFyIE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZyB8fCBfdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0LmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfQXN5bmNTdWJqZWN0LF9vcGVyYXRvcnNfbWFwLF91dGlsX2NhblJlcG9ydEVycm9yLF91dGlsX2lzQXJyYXksX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi4vQXN5bmNTdWJqZWN0JztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuLi91dGlsL2NhblJlcG9ydEVycm9yJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBiaW5kQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCByZXN1bHRTZWxlY3Rvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmRDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHNjaGVkdWxlcikuYXBwbHkodm9pZCAwLCBhcmdzKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgdmFyIHN1YmplY3Q7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgc3ViamVjdDogc3ViamVjdCxcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYzogY2FsbGJhY2tGdW5jLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBzdGF0ZS5hcmdzLCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgcGFyYW1zID0gc3RhdGUucGFyYW1zO1xuICAgIHZhciBjYWxsYmFja0Z1bmMgPSBwYXJhbXMuY2FsbGJhY2tGdW5jLCBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQsIHNjaGVkdWxlciA9IHBhcmFtcy5zY2hlZHVsZXI7XG4gICAgdmFyIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdDtcbiAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3M7XG4gICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgMCwgeyB2YWx1ZTogdmFsdWUsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZChzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoc3RhdGUpIHtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZSwgc3ViamVjdCA9IHN0YXRlLnN1YmplY3Q7XG4gICAgc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEVycm9yKHN0YXRlKSB7XG4gICAgdmFyIGVyciA9IHN0YXRlLmVyciwgc3ViamVjdCA9IHN0YXRlLnN1YmplY3Q7XG4gICAgc3ViamVjdC5lcnJvcihlcnIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZENhbGxiYWNrLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfQXN5bmNTdWJqZWN0LF9vcGVyYXRvcnNfbWFwLF91dGlsX2NhblJlcG9ydEVycm9yLF91dGlsX2lzU2NoZWR1bGVyLF91dGlsX2lzQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi4vQXN5bmNTdWJqZWN0JztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuLi91dGlsL2NhblJlcG9ydEVycm9yJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBiaW5kTm9kZUNhbGxiYWNrKGNhbGxiYWNrRnVuYywgcmVzdWx0U2VsZWN0b3IsIHNjaGVkdWxlcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kTm9kZUNhbGxiYWNrKGNhbGxiYWNrRnVuYywgc2NoZWR1bGVyKS5hcHBseSh2b2lkIDAsIGFyZ3MpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHN1YmplY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgICAgICBjYWxsYmFja0Z1bmM6IGNhbGxiYWNrRnVuYyxcbiAgICAgICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHBhcmFtcy5jb250ZXh0O1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdDtcbiAgICAgICAgICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IGlubmVyQXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc3ViamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IHBhcmFtczogcGFyYW1zLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBjb250ZXh0OiBjb250ZXh0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBwYXJhbXMgPSBzdGF0ZS5wYXJhbXMsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb250ZXh0ID0gc3RhdGUuY29udGV4dDtcbiAgICB2YXIgY2FsbGJhY2tGdW5jID0gcGFyYW1zLmNhbGxiYWNrRnVuYywgYXJncyA9IHBhcmFtcy5hcmdzLCBzY2hlZHVsZXIgPSBwYXJhbXMuc2NoZWR1bGVyO1xuICAgIHZhciBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3Q7XG4gICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlubmVyQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVyciA9IGlubmVyQXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hFcnJvciwgMCwgeyBlcnI6IGVyciwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3M7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIDAsIHsgdmFsdWU6IHZhbHVlLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hFcnJvciwgMCwgeyBlcnI6IGVyciwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hZGQoc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KGFyZykge1xuICAgIHZhciB2YWx1ZSA9IGFyZy52YWx1ZSwgc3ViamVjdCA9IGFyZy5zdWJqZWN0O1xuICAgIHN1YmplY3QubmV4dCh2YWx1ZSk7XG4gICAgc3ViamVjdC5jb21wbGV0ZSgpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hFcnJvcihhcmcpIHtcbiAgICB2YXIgZXJyID0gYXJnLmVyciwgc3ViamVjdCA9IGFyZy5zdWJqZWN0O1xuICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmROb2RlQ2FsbGJhY2suanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBPdXRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoT3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE91dGVyU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBPdXRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE91dGVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3V0ZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG52YXIgSW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKElubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbm5lclN1YnNjcmliZXIocGFyZW50LCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub3V0ZXJWYWx1ZSA9IG91dGVyVmFsdWU7XG4gICAgICAgIF90aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSwgdmFsdWUsIHRoaXMub3V0ZXJJbmRleCwgdGhpcy5pbmRleCsrLCB0aGlzKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUVycm9yKGVycm9yLCB0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBJbm5lclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlubmVyU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gLypAX19QVVJFX18qLyBnZXRTeW1ib2xJdGVyYXRvcigpO1xuZXhwb3J0IHZhciAkJGl0ZXJhdG9yID0gaXRlcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3Vic2NyaWJlVG9BcnJheSxfc3Vic2NyaWJlVG9Qcm9taXNlLF9zdWJzY3JpYmVUb0l0ZXJhYmxlLF9zdWJzY3JpYmVUb09ic2VydmFibGUsX2lzQXJyYXlMaWtlLF9pc1Byb21pc2UsX2lzT2JqZWN0LF9zeW1ib2xfaXRlcmF0b3IsX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9Qcm9taXNlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb1Byb21pc2UnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9JdGVyYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9JdGVyYWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb09ic2VydmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4vaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUbyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfb2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvT2JzZXJ2YWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5TGlrZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0FycmF5KHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb1Byb21pc2UocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0l0ZXJhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBpc09iamVjdChyZXN1bHQpID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgcmVzdWx0ICsgXCInXCI7XG4gICAgICAgIHZhciBtc2cgPSBcIllvdSBwcm92aWRlZCBcIiArIHZhbHVlICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLlwiXG4gICAgICAgICAgICArICcgWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS4nO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAodHlwZW9mIG9icy5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCBob3N0UmVwb3J0RXJyb3IpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfSW5uZXJTdWJzY3JpYmVyLF9zdWJzY3JpYmVUbyxfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVUb1Jlc3VsdChvdXRlclN1YnNjcmliZXIsIHJlc3VsdCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG5ldyBJbm5lclN1YnNjcmliZXIob3V0ZXJTdWJzY3JpYmVyLCBvdXRlclZhbHVlLCBvdXRlckluZGV4KTtcbiAgICB9XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoaW5uZXJTdWJzY3JpYmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUmVzdWx0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc1NjaGVkdWxlcixfdXRpbF9pc0FycmF5LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsX2Zyb21BcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG52YXIgTk9ORSA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gbnVsbDtcbiAgICB2YXIgc2NoZWR1bGVyID0gbnVsbDtcbiAgICBpZiAoaXNTY2hlZHVsZXIob2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShvYnNlcnZhYmxlc1swXSkpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgc2NoZWR1bGVyKS5saWZ0KG5ldyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpKTtcbn1cbnZhciBDb21iaW5lTGF0ZXN0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgQ29tYmluZUxhdGVzdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5yZXN1bHRTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbWJpbmVMYXRlc3RPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IgfTtcbnZhciBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLnZhbHVlcyA9IFtdO1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIChvYnNlcnZhYmxlKSB7XG4gICAgICAgIHRoaXMudmFsdWVzLnB1c2goTk9ORSk7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMucHVzaChvYnNlcnZhYmxlKTtcbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IHRoaXMub2JzZXJ2YWJsZXM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gbGVuO1xuICAgICAgICAgICAgdGhpcy50b1Jlc3BvbmQgPSBsZW47XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBvYnNlcnZhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBvYnNlcnZhYmxlLCBvYnNlcnZhYmxlLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICh1bnVzZWQpIHtcbiAgICAgICAgaWYgKCh0aGlzLmFjdGl2ZSAtPSAxKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIHZhciBvbGRWYWwgPSB2YWx1ZXNbb3V0ZXJJbmRleF07XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSAhdGhpcy50b1Jlc3BvbmRcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiBvbGRWYWwgPT09IE5PTkUgPyAtLXRoaXMudG9SZXNwb25kIDogdGhpcy50b1Jlc3BvbmQ7XG4gICAgICAgIHZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIGlmICh0b1Jlc3BvbmQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IodmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZXMuc2xpY2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8sX3NjaGVkdWxlZF9zY2hlZHVsZWQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsX091dGVyU3Vic2NyaWJlcixfSW5uZXJTdWJzY3JpYmVyLF9tYXAsX29ic2VydmFibGVfZnJvbSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5waXBlKG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBmcm9tKHByb2plY3QoYSwgaSkpLnBpcGUobWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KSk7IH0sIGNvbmN1cnJlbnQpKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSk7IH07XG59XG52YXIgTWVyZ2VNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgIH1cbiAgICBNZXJnZU1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG9ic2VydmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1lcmdlTWFwU3Vic2NyaWJlcihvYnNlcnZlciwgdGhpcy5wcm9qZWN0LCB0aGlzLmNvbmN1cnJlbnQpKTtcbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1lcmdlTWFwT3BlcmF0b3IgfTtcbnZhciBNZXJnZU1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWVyZ2VNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlIDwgdGhpcy5jb25jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl90cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSsrO1xuICAgICAgICB0aGlzLl9pbm5lclN1YihyZXN1bHQsIHZhbHVlLCBpbmRleCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gsIHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IElubmVyU3Vic2NyaWJlcih0aGlzLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgaXNoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMucmVtb3ZlKGlubmVyU3ViKTtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KGJ1ZmZlci5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE1lcmdlTWFwU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZU1hcCxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZUFsbCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4vbWVyZ2VBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEFsbCgpIHtcbiAgICByZXR1cm4gbWVyZ2VBbGwoMSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vZixfb3BlcmF0b3JzX2NvbmNhdEFsbCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvZiB9IGZyb20gJy4vb2YnO1xuaW1wb3J0IHsgY29uY2F0QWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb25jYXRBbGwoKShvZi5hcHBseSh2b2lkIDAsIG9ic2VydmFibGVzKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gZGVmZXIob2JzZXJ2YWJsZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5wdXQgPSBvYnNlcnZhYmxlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IGlucHV0ID8gZnJvbShpbnB1dCkgOiBlbXB0eSgpO1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF9vcGVyYXRvcnNfbWFwLF91dGlsX2lzT2JqZWN0LF9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgZmlyc3RfMSA9IHNvdXJjZXNbMF07XG4gICAgICAgIGlmIChpc0FycmF5KGZpcnN0XzEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChmaXJzdF8xLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QoZmlyc3RfMSkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGZpcnN0XzEpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZpcnN0XzEpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoa2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSwga2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VzW3NvdXJjZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJlc3VsdFNlbGVjdG9yXzEgPSBzb3VyY2VzLnBvcCgpO1xuICAgICAgICBzb3VyY2VzID0gKHNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoc291cmNlc1swXSkpID8gc291cmNlc1swXSA6IHNvdXJjZXM7XG4gICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIG51bGwpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiByZXN1bHRTZWxlY3Rvcl8xLmFwcGx5KHZvaWQgMCwgYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywgbnVsbCk7XG59XG5mdW5jdGlvbiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIGtleXMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICAgICAgdmFyIGVtaXR0ZWQgPSAwO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbShzb3VyY2VzW2ldKTtcbiAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoc291cmNlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPT09IGxlbiB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVkID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoa2V5cyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldLCByZXN1bHQpOyB9LCB7fSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JrSm9pbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbnZhciB0b1N0cmluZyA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmosIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucykge1xuICAgIHZhciB1bnN1YnNjcmliZTtcbiAgICBpZiAoaXNFdmVudFRhcmdldChzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMSA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzIgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8yLm9mZihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMyA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlT2JqICYmIHNvdXJjZU9iai5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZU9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqW2ldLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmFkZCh1bnN1YnNjcmliZSk7XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkTGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLm9uID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoub2ZmID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldChzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBlW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5uZXh0KGUubGVuZ3RoID09PSAxID8gZVswXSA6IGUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmV0VmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXRWYWx1ZSA9IGFkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24ocmVtb3ZlSGFuZGxlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZUhhbmRsZXIoaGFuZGxlciwgcmV0VmFsdWUpOyB9O1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50UGF0dGVybi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaWRlbnRpdHksX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoaW5pdGlhbFN0YXRlT3JPcHRpb25zLCBjb25kaXRpb24sIGl0ZXJhdGUsIHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3I7XG4gICAgdmFyIGluaXRpYWxTdGF0ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBvcHRpb25zLmluaXRpYWxTdGF0ZTtcbiAgICAgICAgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb247XG4gICAgICAgIGl0ZXJhdGUgPSBvcHRpb25zLml0ZXJhdGU7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucy5yZXN1bHRTZWxlY3RvciB8fCBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gb3B0aW9ucy5zY2hlZHVsZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlID09PSB1bmRlZmluZWQgfHwgaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUpKSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcmVzdWx0U2VsZWN0b3I6IHJlc3VsdFNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uUmVzdWx0ID0gY29uZGl0aW9uKHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdFNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBpdGVyYXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY29uZGl0aW9uID0gc3RhdGUuY29uZGl0aW9uO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3RhdGUubmVlZEl0ZXJhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGUuaXRlcmF0ZShzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUubmVlZEl0ZXJhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBjb25kaXRpb24oc3RhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25kaXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IHN0YXRlLnJlc3VsdFNlbGVjdG9yKHN0YXRlLnN0YXRlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2RlZmVyLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBpaWYoY29uZGl0aW9uLCB0cnVlUmVzdWx0LCBmYWxzZVJlc3VsdCkge1xuICAgIGlmICh0cnVlUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdHJ1ZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICBpZiAoZmFsc2VSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxzZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZGl0aW9uKCkgPyB0cnVlUmVzdWx0IDogZmFsc2VSZXN1bHQ7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWlmLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi9pc0FycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWModmFsKSB7XG4gICAgcmV0dXJuICFpc0FycmF5KHZhbCkgJiYgKHZhbCAtIHBhcnNlRmxvYXQodmFsKSArIDEpID49IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc051bWVyaWMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfaXNOdW1lcmljIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChwZXJpb2QgPT09IHZvaWQgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIGlmICghaXNOdW1lcmljKHBlcmlvZCkgfHwgcGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoIXNjaGVkdWxlciB8fCB0eXBlb2Ygc2NoZWR1bGVyLnNjaGVkdWxlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBwZXJpb2QsIHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogMCwgcGVyaW9kOiBwZXJpb2QgfSkpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb3VudGVyID0gc3RhdGUuY291bnRlciwgcGVyaW9kID0gc3RhdGUucGVyaW9kO1xuICAgIHN1YnNjcmliZXIubmV4dChjb3VudGVyKTtcbiAgICB0aGlzLnNjaGVkdWxlKHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogY291bnRlciArIDEsIHBlcmlvZDogcGVyaW9kIH0sIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNTY2hlZHVsZXIsX29wZXJhdG9yc19tZXJnZUFsbCxfZnJvbUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgdmFyIGxhc3QgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIobGFzdCkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPiAxICYmIHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSBudWxsICYmIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBvYnNlcnZhYmxlc1swXSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9ub29wIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuZXhwb3J0IHZhciBORVZFUiA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUobm9vcCk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIoKSB7XG4gICAgcmV0dXJuIE5FVkVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF91dGlsX2lzQXJyYXksX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0KCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgIH1cbiAgICB2YXIgZmlyc3QgPSBzb3VyY2VzWzBdLCByZW1haW5kZXIgPSBzb3VyY2VzLnNsaWNlKDEpO1xuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KGZpcnN0KSkge1xuICAgICAgICByZXR1cm4gb25FcnJvclJlc3VtZU5leHQuYXBwbHkodm9pZCAwLCBmaXJzdCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViTmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuYWRkKG9uRXJyb3JSZXN1bWVOZXh0LmFwcGx5KHZvaWQgMCwgcmVtYWluZGVyKS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpOyB9O1xuICAgICAgICByZXR1cm4gZnJvbShmaXJzdCkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgZXJyb3I6IHN1Yk5leHQsXG4gICAgICAgICAgICBjb21wbGV0ZTogc3ViTmV4dCxcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVycm9yUmVzdW1lTmV4dC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzKG9iaiwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChba2V5LCBvYmpba2V5XV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBrZXlzOiBrZXlzLCBpbmRleDogMCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24sIG9iajogb2JqIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBrZXlzID0gc3RhdGUua2V5cywgaW5kZXggPSBzdGF0ZS5pbmRleCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbiA9IHN0YXRlLnN1YnNjcmlwdGlvbiwgb2JqID0gc3RhdGUub2JqO1xuICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgaWYgKGluZGV4IDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChba2V5LCBvYmpba2V5XV0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKHsga2V5czoga2V5cywgaW5kZXg6IGluZGV4ICsgMSwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24sIG9iajogb2JqIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhaXJzLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdChwcmVkLCB0aGlzQXJnKSB7XG4gICAgZnVuY3Rpb24gbm90UHJlZCgpIHtcbiAgICAgICAgcmV0dXJuICEobm90UHJlZC5wcmVkLmFwcGx5KG5vdFByZWQudGhpc0FyZywgYXJndW1lbnRzKSk7XG4gICAgfVxuICAgIG5vdFByZWQucHJlZCA9IHByZWQ7XG4gICAgbm90UHJlZC50aGlzQXJnID0gdGhpc0FyZztcbiAgICByZXR1cm4gbm90UHJlZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9ub3QsX3V0aWxfc3Vic2NyaWJlVG8sX29wZXJhdG9yc19maWx0ZXIsX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm90IH0gZnJvbSAnLi4vdXRpbC9ub3QnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4uL29wZXJhdG9ycy9maWx0ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbihzb3VyY2UsIHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBbXG4gICAgICAgIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpKG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKHNvdXJjZSkpKSxcbiAgICAgICAgZmlsdGVyKG5vdChwcmVkaWNhdGUsIHRoaXNBcmcpKShuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhzb3VyY2UpKSlcbiAgICBdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGl0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0FycmF5LF9mcm9tQXJyYXksX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiByYWNlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHVuZGVmaW5lZCkubGlmdChuZXcgUmFjZU9wZXJhdG9yKCkpO1xufVxudmFyIFJhY2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSYWNlT3BlcmF0b3IoKSB7XG4gICAgfVxuICAgIFJhY2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFJhY2VTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBSYWNlT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgUmFjZU9wZXJhdG9yIH07XG52YXIgUmFjZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmFjZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmFjZVN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc0ZpcnN0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gW107XG4gICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhdGhpcy5oYXNGaXJzdDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBvYnNlcnZhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNGaXJzdCkge1xuICAgICAgICAgICAgdGhpcy5oYXNGaXJzdCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpICE9PSBvdXRlckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJhY2VTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFJhY2VTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGNvdW50LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY291bnQgPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LCBjb3VudDogY291bnQsIHN0YXJ0OiBzdGFydCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4KysgPj0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGN1cnJlbnQrKyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgc3RhcnQgPSBzdGF0ZS5zdGFydCwgaW5kZXggPSBzdGF0ZS5pbmRleCwgY291bnQgPSBzdGF0ZS5jb3VudCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgaWYgKGluZGV4ID49IGNvdW50KSB7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQoc3RhcnQpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHN0YXRlLnN0YXJ0ID0gc3RhcnQgKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFuZ2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfaXNOdW1lcmljLF91dGlsX2lzU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgcGVyaW9kT3JTY2hlZHVsZXIsIHNjaGVkdWxlcikge1xuICAgIGlmIChkdWVUaW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgZHVlVGltZSA9IDA7XG4gICAgfVxuICAgIHZhciBwZXJpb2QgPSAtMTtcbiAgICBpZiAoaXNOdW1lcmljKHBlcmlvZE9yU2NoZWR1bGVyKSkge1xuICAgICAgICBwZXJpb2QgPSBOdW1iZXIocGVyaW9kT3JTY2hlZHVsZXIpIDwgMSAmJiAxIHx8IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2NoZWR1bGVyKHBlcmlvZE9yU2NoZWR1bGVyKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBwZXJpb2RPclNjaGVkdWxlcjtcbiAgICB9XG4gICAgaWYgKCFpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGR1ZSA9IGlzTnVtZXJpYyhkdWVUaW1lKVxuICAgICAgICAgICAgPyBkdWVUaW1lXG4gICAgICAgICAgICA6ICgrZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIGR1ZSwge1xuICAgICAgICAgICAgaW5kZXg6IDAsIHBlcmlvZDogcGVyaW9kLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleCwgcGVyaW9kID0gc3RhdGUucGVyaW9kLCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlcjtcbiAgICBzdWJzY3JpYmVyLm5leHQoaW5kZXgpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKHBlcmlvZCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gICAgc3RhdGUuaW5kZXggPSBpbmRleCArIDE7XG4gICAgdGhpcy5zY2hlZHVsZShzdGF0ZSwgcGVyaW9kKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfZnJvbSxfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHVzaW5nKHJlc291cmNlRmFjdG9yeSwgb2JzZXJ2YWJsZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHJlc291cmNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSByZXNvdXJjZUZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSBvYnNlcnZhYmxlRmFjdG9yeShyZXNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gcmVzdWx0ID8gZnJvbShyZXN1bHQpIDogRU1QVFk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNpbmcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9mcm9tQXJyYXksX3V0aWxfaXNBcnJheSxfU3Vic2NyaWJlcixfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF8uLl9pbnRlcm5hbF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCB1bmRlZmluZWQpLmxpZnQobmV3IFppcE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgWmlwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWmlwT3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICBaaXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFppcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5yZXN1bHRTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IFppcE9wZXJhdG9yIH07XG52YXIgWmlwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhaaXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFppcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pdGVyYXRvcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSA/IHJlc3VsdFNlbGVjdG9yIDogbnVsbDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgU3RhdGljQXJyYXlJdGVyYXRvcih2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgU3RhdGljSXRlcmF0b3IodmFsdWVbU3ltYm9sX2l0ZXJhdG9yXSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgWmlwQnVmZmVySXRlcmF0b3IodGhpcy5kZXN0aW5hdGlvbiwgdGhpcywgdmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIHZhciBsZW4gPSBpdGVyYXRvcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnN0aWxsVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaXRlcmF0b3Iuc3Vic2NyaWJlKGl0ZXJhdG9yLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlJbmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrSXRlcmF0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIHZhciBsZW4gPSBpdGVyYXRvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLmhhc1ZhbHVlID09PSAnZnVuY3Rpb24nICYmICFpdGVyYXRvci5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaG91bGRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLmhhc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5cmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDb21wbGV0ZSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeXJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFppcFN1YnNjcmliZXIgfTtcbnZhciBTdGF0aWNJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNJdGVyYXRvcihpdGVyYXRvcikge1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICB0aGlzLm5leHRSZXN1bHQgPSB0aGlzLml0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0UmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICByZXR1cm4gbmV4dFJlc3VsdCAmJiBuZXh0UmVzdWx0LmRvbmU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljSXRlcmF0b3I7XG59KCkpO1xudmFyIFN0YXRpY0FycmF5SXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljQXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gICAgICAgIHJldHVybiBpIDwgdGhpcy5sZW5ndGggPyB7IHZhbHVlOiBhcnJheVtpXSwgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPiB0aGlzLmluZGV4O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPT09IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljQXJyYXlJdGVyYXRvcjtcbn0oKSk7XG52YXIgWmlwQnVmZmVySXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwQnVmZmVySXRlcmF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwQnVmZmVySXRlcmF0b3IoZGVzdGluYXRpb24sIHBhcmVudCwgb2JzZXJ2YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlID0gb2JzZXJ2YWJsZTtcbiAgICAgICAgX3RoaXMuc3RpbGxVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwICYmIHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBidWZmZXIuc2hpZnQoKSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUluYWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goaW5uZXJWYWx1ZSk7XG4gICAgICAgIHRoaXMucGFyZW50LmNoZWNrSXRlcmF0b3JzKCk7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgdGhpcy5vYnNlcnZhYmxlLCB0aGlzLCBpbmRleCk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwQnVmZmVySXRlcmF0b3I7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwLmpzLm1hcFxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyJztcclxuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuL3dvcmxkLWltcGwnO1xyXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcbmltcG9ydCB7IFN0YXRpc3RpY1ZpZXcgfSBmcm9tICcuL3N0YXRpc3RpYy12aWV3JztcclxuaW1wb3J0IHsgU0lSTW9kZWwgfSBmcm9tICcuL3Npci1tb2RlbCc7XHJcblxyXG5sZXQgd29ybGQ6IFdvcmxkO1xyXG5sZXQgc3RhdGlzdGljVmlldzogU3RhdGlzdGljVmlldztcclxuXHJcbmNvbnN0IGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdnMtYm94JykgYXMgSFRNTEVsZW1lbnQ7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3QgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoYm94LCBjYW52YXMsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG5sZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICBhd2FpdCByZW5kZXJlci5pbml0aWFsaXplKCk7XHJcblxyXG4gIGZ1bmN0aW9uIHJ1bih0aW1lc3RhbXA6IG51bWJlcikge1xyXG4gICAgRW5naW5lLnVwZGF0ZSh0aW1lc3RhbXApO1xyXG4gICAgaWYgKHdvcmxkKSByZW5kZXJlci5kcmF3KHdvcmxkKTtcclxuICAgIGlmIChzdGF0aXN0aWNWaWV3KSBzdGF0aXN0aWNWaWV3LnJlbmRlcigpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJ1bik7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhFbmdpbmUuZGVsdGEpO1xyXG4gIH1cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcclxuICBpbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV29ybGQoKSB7XHJcbiAgaWYgKCFpbml0aWFsaXplZCkgcmV0dXJuO1xyXG4gIEVuZ2luZS5jbGVhcigpO1xyXG4gIGNvbnN0IGNvbHVtbiA9IFNJUk1vZGVsLnNvY2lldHlDb2x1bW5MZW5ndGg7XHJcbiAgY29uc3Qgcm93ID0gU0lSTW9kZWwuc29jaWV0eVJvd0xlbmd0aDtcclxuICBjb25zdCBzaXplID0gU0lSTW9kZWwuc29jaWV0eVNpemU7XHJcbiAgY29uc3QgcG9wdWxhdGlvbiA9IFNJUk1vZGVsLnNvY2lldHlQb3B1bGF0aW9uO1xyXG5cclxuICBjb25zdCBTT0NJRVRZX1BBRCA9IDQwO1xyXG4gIGNvbnN0IFNDUkVFTl9QQUQgPSAyMDtcclxuICB3b3JsZCA9IG5ldyBXb3JsZCgpO1xyXG4gIHN0YXRpc3RpY1ZpZXcgPSBuZXcgU3RhdGlzdGljVmlldyhcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0LWJveCcpLFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRpc3RpYycpIGFzIEhUTUxDYW52YXNFbGVtZW50LFxyXG4gICAgd29ybGQuc3RhdGlzdGljKTtcclxuICBsZXQgd2lkdGggPSBjb2x1bW4gKiAoc2l6ZSArIFNPQ0lFVFlfUEFEKSArIFNDUkVFTl9QQUQgKiAyICsgc2l6ZSAvIDI7XHJcbiAgbGV0IGhlaWdodCA9IHJvdyAqIChzaXplICsgU09DSUVUWV9QQUQpIC0gU09DSUVUWV9QQUQgKyBTQ1JFRU5fUEFEICogMjtcclxuICByZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICB3b3JsZC5jcmVhdGVRdWFyYW50aW5lKHdpZHRoIC0gU0NSRUVOX1BBRCAtIHNpemUgLyAyLCBoZWlnaHQgLSBTQ1JFRU5fUEFEIC0gc2l6ZSAvIDIsXHJcbiAgICBzaXplIC8gMiwgc2l6ZSAvIDIpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdzsgaSArKykge1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bW47IGogKyspIHtcclxuICAgICAgY29uc3Qgc29jaWV0eSA9IHdvcmxkLmNyZWF0ZVNvY2lldHkoXHJcbiAgICAgICAgU0NSRUVOX1BBRCsgaiAqIChzaXplICsgU09DSUVUWV9QQUQpLCBcclxuICAgICAgICBTQ1JFRU5fUEFEICsgaSAqIChzaXplICsgU09DSUVUWV9QQUQpLFxyXG4gICAgICAgIHNpemUsIHNpemUpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvcHVsYXRpb247IGkgKyspIHNvY2lldHkucG9wdWxhdGUoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9lbnRpdHknO1xyXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFJlYWRvbmx5VmVjdG9yMiwgcmFuZCwgY2xhbXAsIHJhbmRJbnQgfSBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgeyBJWm9uZSB9IGZyb20gJy4vem9uZSc7XHJcbmltcG9ydCB7IFN0YXRlTWFjaGluZSB9IGZyb20gJy4vc3RhdGUtbWFjaGluZSc7XHJcbmltcG9ydCB7IElXb3JsZCB9IGZyb20gJy4vd29ybGQnO1xyXG5pbXBvcnQgeyBJU29jaWV0eSB9IGZyb20gJy4vc29jaWV0eSc7XHJcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4vZW5naW5lJztcclxuaW1wb3J0IHsgSVBlcnNvbiwgU0lSU3RhdGUgfSBmcm9tICcuL3BlcnNvbic7XHJcbmltcG9ydCB7IFNJUk1vZGVsIH0gZnJvbSAnLi9zaXItbW9kZWwnO1xyXG5pbXBvcnQgeyBjb21wdXRlZCwgYXV0b3J1biwgSVJlYWN0aW9uRGlzcG9zZXIgfSBmcm9tICdtb2J4JztcclxuXHJcbmV4cG9ydCBlbnVtIFBlcnNvblN0YXRlIHtcclxuICBDaGlsbGluZyA9IDAsXHJcbiAgVHJhbnNmZXJpbmcgPSAxLFxyXG4gIFNob3BwaW5nID0gMixcclxuICBUcmF2ZWxpbmcgPSAzLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGVyc29uRXZlbnQge1xyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBwZXJzb246IFBlcnNvbikge31cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBlcnNvblNJUlN0YXRlQ2hhbmdlRXZlbnQgZXh0ZW5kcyBQZXJzb25FdmVudCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGVyc29uOiBQZXJzb24sXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGFzdFN0YXRlOiBTSVJTdGF0ZSkge1xyXG4gICAgc3VwZXIocGVyc29uKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQZXJzb24gZXh0ZW5kcyBFbnRpdHkgaW1wbGVtZW50cyBJUGVyc29uIHtcclxuXHJcbiAgc3RhdGljIFJJUFBMRV9EVVJBVElPTiA9IDEwMDA7XHJcblxyXG4gIHByaXZhdGUgc3RhdGVNYWNoaW5lXzogU3RhdGVNYWNoaW5lO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgb25EaWRDaGFuZ2VTSVJTdGF0ZSA9XHJcbiAgICAgIG5ldyBTdWJqZWN0PFBlcnNvblNJUlN0YXRlQ2hhbmdlRXZlbnQ+KCk7XHJcbiAgcHJpdmF0ZSBzdGF0ZV8gPSBTSVJTdGF0ZS5TdXNwZWN0aWJsZTtcclxuICBwdWJsaWMgZ2V0IHN0YXRlKCkgeyByZXR1cm4gdGhpcy5zdGF0ZV87IH1cclxuICBwdWJsaWMgc2V0U3RhdGUodmFsdWU6IFNJUlN0YXRlKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IHZhbHVlKSByZXR1cm47XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuc3RhdGVfID09IFNJUlN0YXRlLlN1c3BlY3RpYmxlICYmXHJcbiAgICAgICh2YWx1ZSA9PSBTSVJTdGF0ZS5JbmZlY3Rpb3VzIHx8XHJcbiAgICAgICB2YWx1ZSA9PSBTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd24pKSB7XHJcbiAgICAgIHRoaXMuaW5mZWN0ZWRUaW1lXyA9IEVuZ2luZS5lbGFzcGVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGFzdCA9IHRoaXMuc3RhdGVfO1xyXG4gICAgdGhpcy5zdGF0ZV8gPSB2YWx1ZTtcclxuICAgIHRoaXMub25EaWRDaGFuZ2VTSVJTdGF0ZS5uZXh0KFxyXG4gICAgICBuZXcgUGVyc29uU0lSU3RhdGVDaGFuZ2VFdmVudCh0aGlzLCBsYXN0KSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVsYXBzZWRfOiBudW1iZXIgPSByYW5kSW50KDAsIDUwMDApO1xyXG4gIHByaXZhdGUgZGF5XzogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIGRheUNoYW5nZWRfOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBpbmZlY3Rpb25JbnRlcnZhbFN0ZXBfID0gMDtcclxuICBwcml2YXRlIGluZmVjdGlvbkludGVydmFsXyA9IDEwMDA7XHJcblxyXG4gIHByaXZhdGUgcmlwcGxlU3RhdGVfOiBTSVJTdGF0ZTtcclxuICBwdWJsaWMgZ2V0IHJpcHBsZVN0YXRlKCkgeyByZXR1cm4gdGhpcy5yaXBwbGVTdGF0ZV87IH1cclxuICBwcml2YXRlIGhhc1JpcHBsZV86IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwdWJsaWMgZ2V0IGhhc1JpcHBsZSgpIHsgcmV0dXJuIHRoaXMuaGFzUmlwcGxlXzsgfVxyXG4gIHByaXZhdGUgcmlwcGxlRW5kZWRUaW1lXzogbnVtYmVyO1xyXG4gIHByaXZhdGUgcmlwcGxlU3RhcnRlZFRpbWVfOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCByaXBwbGVTdGFydGVkVGltZSgpIHsgcmV0dXJuIHRoaXMucmlwcGxlU3RhcnRlZFRpbWVfOyB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaW5mZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSBTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd24gfHxcclxuICAgICAgICAgICB0aGlzLnN0YXRlID09IFNJUlN0YXRlLkluZmVjdGlvdXM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluZmVjdGVkVGltZV86IG51bWJlcjtcclxuICBwdWJsaWMgZ2V0IGluZmVjdGVkVGltZSgpIHsgcmV0dXJuIHRoaXMuaW5mZWN0ZWRUaW1lXzsgfVxyXG5cclxuICBwcml2YXRlIGNoaWxsaW5nRGlyZWN0aW9uXzogVmVjdG9yMjtcclxuICBwcml2YXRlIGNoaWxsaW5nRHVyYXRpb25fOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgdHJhbnNmZXJOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2VpdHlfOiBSZWFkb25seVZlY3RvcjI7XHJcbiAgcHJpdmF0ZSB0cmFuc2Zlck5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jZWl0eV86IFJlYWRvbmx5VmVjdG9yMjtcclxuICBwcml2YXRlIHRyYW5zZmVyU3JjU29jZWl0eV86IElTb2NpZXR5O1xyXG4gIHByaXZhdGUgdHJhbnNmZXJEc3RTb2NpZXR5XzogSVNvY2lldHk7XHJcbiAgcHJpdmF0ZSB0cmFuc2ZlclN0YXJ0ZWRUaW1lXzogbnVtYmVyO1xyXG4gIHByaXZhdGUgdHJhbnNmZXJEdXJhdGlvbl86IG51bWJlcjtcclxuICBwcml2YXRlIHRyYW5zZmVyTmV4dFN0YXRlXzogUGVyc29uU3RhdGU7XHJcblxyXG4gIHByaXZhdGUgc2hvcHBpbmdOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2lldHlfOiBSZWFkb25seVZlY3RvcjI7XHJcbiAgcHJpdmF0ZSBzaG9wcGluZ05vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jaWV0eV86IFJlYWRvbmx5VmVjdG9yMjtcclxuICBwcml2YXRlIHNob3BwaW5nU3RhcnRlZFRpbWVfOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBzaG9wcGluZ0R1cmF0aW9uXzogbnVtYmVyO1xyXG5cclxuICBwcml2YXRlIHRyYXZlbGluZ05vcm1hbGl6ZWRTcmNSZWxhdGl2ZVRvU29jaWV0eV86IFJlYWRvbmx5VmVjdG9yMjtcclxuICBwcml2YXRlIHRyYXZlbGluZ05vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jaWV0eV86IFJlYWRvbmx5VmVjdG9yMjtcclxuICBwcml2YXRlIHRyYXZlbGluZ1NyY1NvY2lldHlfOiBJU29jaWV0eTtcclxuICBwcml2YXRlIHRyYXZlbGluZ0RzdFNvY2lldHlfOiBJU29jaWV0eTtcclxuICBwcml2YXRlIHRyYXZlbGluZ186IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgcHJpdmF0ZSBxdWFyYW50aW5lZFNvY2lldHlfOiAgSVNvY2lldHk7XHJcbiAgcHJpdmF0ZSBxdWFyYW50aW5lZE5vcm1hbGl6ZWRTcmNSZWxhdGl2ZVRvU29jaWV0eV86IFZlY3RvcjI7XHJcbiAgcHJpdmF0ZSBzb2NpYWxEaXN0YW5jZVBhcnRpY2lwYW50XzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIHNwZWVkXzogbnVtYmVyID0gMzA7XHJcbiAgcHVibGljIGdldCBzcGVlZCgpIHsgcmV0dXJuIHRoaXMuc3BlZWRfOyB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgd29ybGQ6IElXb3JsZCxcclxuICAgICAgcHJpdmF0ZSBzb2NpZXR5XzogSVNvY2lldHkpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnNvY2lldHlfLmFkZFBlcnNvbih0aGlzKTtcclxuICAgIHRoaXMuc3RhdGVNYWNoaW5lXyA9IHRoaXMuYWRkQ29tcG9uZW50KG5ldyBTdGF0ZU1hY2hpbmUoKSk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZV8gPSBTSVJTdGF0ZS5TdXNwZWN0aWJsZTtcclxuXHJcbiAgICB0aGlzLmJlZ2luQ2hpbGxpbmcgPSB0aGlzLmJlZ2luQ2hpbGxpbmcuYmluZCh0aGlzKTtcclxuICAgIHRoaXMudXBkYXRlQ2hpbGxpbmcgPSB0aGlzLnVwZGF0ZUNoaWxsaW5nLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnN0YXRlTWFjaGluZV8uc2V0U3RhdGVDYWxsYmFjayhQZXJzb25TdGF0ZS5DaGlsbGluZyxcclxuICAgICAgdGhpcy5iZWdpbkNoaWxsaW5nLFxyXG4gICAgICBudWxsLFxyXG4gICAgICB0aGlzLnVwZGF0ZUNoaWxsaW5nKTtcclxuXHJcbiAgICB0aGlzLmJlZ2luVHJhbnNmZXIgPSB0aGlzLmJlZ2luVHJhbnNmZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMudXBkYXRlVHJhbnNmZXIgPSB0aGlzLnVwZGF0ZVRyYW5zZmVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnN0YXRlTWFjaGluZV8uc2V0U3RhdGVDYWxsYmFjayhQZXJzb25TdGF0ZS5UcmFuc2ZlcmluZyxcclxuICAgICAgdGhpcy5iZWdpblRyYW5zZmVyLFxyXG4gICAgICBudWxsLFxyXG4gICAgICB0aGlzLnVwZGF0ZVRyYW5zZmVyKTtcclxuXHJcbiAgICB0aGlzLmJlZ2luU2hvcHBpbmcgPSB0aGlzLmJlZ2luU2hvcHBpbmcuYmluZCh0aGlzKTtcclxuICAgIHRoaXMudXBkYXRlU2hvcHBpbmcgPSB0aGlzLnVwZGF0ZVNob3BwaW5nLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnN0YXRlTWFjaGluZV8uc2V0U3RhdGVDYWxsYmFjayhQZXJzb25TdGF0ZS5TaG9wcGluZyxcclxuICAgICAgdGhpcy5iZWdpblNob3BwaW5nLFxyXG4gICAgICBudWxsLFxyXG4gICAgICB0aGlzLnVwZGF0ZVNob3BwaW5nKTtcclxuXHJcbiAgICB0aGlzLmJlZ2luVHJhdmVsaW5nID0gdGhpcy5iZWdpblRyYXZlbGluZy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lbmRUcmF2ZWxpbmcgPSB0aGlzLmVuZFRyYXZlbGluZy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5zdGF0ZU1hY2hpbmVfLnNldFN0YXRlQ2FsbGJhY2soUGVyc29uU3RhdGUuVHJhdmVsaW5nLFxyXG4gICAgICB0aGlzLmJlZ2luVHJhdmVsaW5nLFxyXG4gICAgICB0aGlzLmVuZFRyYXZlbGluZyxcclxuICAgICAgbnVsbCk7XHJcblxyXG4gICAgaWYgKHJhbmQoKSA8IFNJUk1vZGVsLmluaXRpYWxJbmZlY3Rpb25Qb3NzaWJsaXR5KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoU0lSU3RhdGUuSW5mZWN0aW91c19Vbmtub3duKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxpc3RlbigpO1xyXG4gICAgdGhpcy5zdGF0ZU1hY2hpbmVfLnN0YXRlID0gUGVyc29uU3RhdGUuQ2hpbGxpbmc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Wm9uZSh6b25lOiBJWm9uZSkge1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkb1VwZGF0ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF5Q2hhbmdlZF8gPSBmYWxzZTtcclxuICAgIHRoaXMuZWxhcHNlZF8gKz0gRW5naW5lLmRlbHRhO1xyXG4gICAgY29uc3QgbmV4dERheSA9IE1hdGguZmxvb3IodGhpcy5lbGFwc2VkXyAvIDUwMDApO1xyXG4gICAgY29uc3QgaW5mZWN0aW9uU3RlcCA9IE1hdGguZmxvb3IodGhpcy5lbGFwc2VkXyAvIHRoaXMuaW5mZWN0aW9uSW50ZXJ2YWxfKTtcclxuICAgIGlmICh0aGlzLmluZmVjdGlvbkludGVydmFsU3RlcF8gIT0gaW5mZWN0aW9uU3RlcCkge1xyXG4gICAgICB0aGlzLmluZmVjdGlvbkludGVydmFsU3RlcF8gPSBpbmZlY3Rpb25TdGVwO1xyXG4gICAgICB0aGlzLmluZmVjdCgpO1xyXG4gICAgICB0aGlzLmRpc2NvdmVyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kYXlfICE9IG5leHREYXkpIHtcclxuICAgICAgdGhpcy5kYXlDaGFuZ2VkXyA9IHRydWU7XHJcbiAgICAgIHRoaXMuZGF5XyA9IG5leHREYXk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmluZmVjdGVkICYmICF0aGlzLmhhc1JpcHBsZV8pIHtcclxuICAgICAgdGhpcy5oYXNSaXBwbGVfID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yaXBwbGVTdGFydGVkVGltZV8gPSBFbmdpbmUuZWxhc3BlZCArIHJhbmQoMCwgMTAwMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghdGhpcy5pbmZlY3RlZCAmJiB0aGlzLmhhc1JpcHBsZV8pIHtcclxuICAgICAgaWYgKCF0aGlzLnJpcHBsZUVuZGVkVGltZV8pIHtcclxuICAgICAgICB0aGlzLnJpcHBsZUVuZGVkVGltZV8gPSAodGhpcy5yaXBwbGVTdGFydGVkVGltZV8gKyBcclxuICAgICAgICAgIE1hdGguY2VpbCgoRW5naW5lLmVsYXNwZWQgLSB0aGlzLnJpcHBsZVN0YXJ0ZWRUaW1lXykgL1xyXG4gICAgICAgICAgICBQZXJzb24uUklQUExFX0RVUkFUSU9OKSAqIFBlcnNvbi5SSVBQTEVfRFVSQVRJT04pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnJpcHBsZUVuZGVkVGltZV8gPD0gRW5naW5lLmVsYXNwZWQpIHtcclxuICAgICAgICB0aGlzLmhhc1JpcHBsZV8gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbmZlY3QoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zb2NpZXR5XyA9PSB0aGlzLndvcmxkLnF1YXJhbnRpbmUpIHJldHVybjtcclxuICAgIGlmICh0aGlzLnN0YXRlICE9IFNJUlN0YXRlLkluZmVjdGlvdXMgJiZcclxuICAgICAgICB0aGlzLnN0YXRlICE9IFNJUlN0YXRlLkluZmVjdGlvdXNfVW5rbm93bikgcmV0dXJuO1xyXG4gICAgdGhpcy5zb2NpZXR5Xy5pdGVyYXRlTmVhcmJ5KFxyXG4gICAgICB0aGlzLnNvY2lldHlfLm1hcFBvc2l0aW9uV29ybGRUb1NvY2lldHkodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pLFxyXG4gICAgICByaHMgPT4ge1xyXG4gICAgICAgIGlmIChyaHMgPT0gdGhpcykgcmV0dXJuO1xyXG4gICAgICAgIGlmIChyaHMuc3RhdGUgIT0gU0lSU3RhdGUuU3VzcGVjdGlibGUpIHJldHVybjtcclxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IFNJUk1vZGVsLmluZmVjdGlvblJhdGUpIHJldHVybjtcclxuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uc3ViKHJocy50cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChkaXN0LnNxdWFyZWRNYWduaXR1ZGUgPCBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMgKiBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMpIHtcclxuICAgICAgICAgIHJocy5zZXRTdGF0ZShTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAvLyB0aGlzLnNvY2lldHlfLnBlb3BsZS5mb3JFYWNoKHJocyA9PiB7XHJcbiAgICAvLyAgIGlmIChyaHMuc3RhdGUgIT0gU0lSU3RhdGUuU3VzcGVjdGlibGUpIHJldHVybjtcclxuICAgIC8vICAgaWYgKE1hdGgucmFuZG9tKCkgPiBTSVJNb2RlbC5pbmZlY3Rpb25SYXRlKSByZXR1cm47XHJcbiAgICAvLyAgIGNvbnN0IGRpc3QgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5zdWIocmhzLnRyYW5zZm9ybS5wb3NpdGlvbik7XHJcbiAgICAvLyAgIGlmIChkaXN0Lm1hZ25pdHVkZSA8IFNJUk1vZGVsLmluZmVjdGlvblJhZGl1cykge1xyXG4gICAgLy8gICAgIHJocy5zZXRTdGF0ZShTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd24pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkaXNjb3ZlcigpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnN0YXRlID09IFNJUlN0YXRlLkluZmVjdGlvdXNfVW5rbm93bikge1xyXG4gICAgICBpZiAocmFuZCgpIDwgU0lSTW9kZWwuaW5mZWN0aW9uRGlzY292ZXJ5UmF0ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoU0lSU3RhdGUuSW5mZWN0aW91cyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmluZmVjdGVkKSB7XHJcbiAgICAgIGlmIChyYW5kKCkgPCBTSVJNb2RlbC5pbmZlY3Rpb25SZWNvdmVyeVJhdGUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFNJUlN0YXRlLlJlY292ZXJlZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYmVnaW5DaGlsbGluZygpIHtcclxuICAgIHRoaXMuY2hpbGxpbmdEdXJhdGlvbl8gPSAtMTtcclxuICAgIHRoaXMuY2hpbGxpbmdEaXJlY3Rpb25fID0gbmV3IFZlY3RvcjIocmFuZCgpICogMiAtIDEsIHJhbmQoKSAqIDIgLSAxKS5ub3JtYWxpemUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlQ2hpbGxpbmcoKSB7XHJcbiAgICB0aGlzLmNoaWxsaW5nRHVyYXRpb25fIC09IEVuZ2luZS5kZWx0YTtcclxuICAgIGlmICh0aGlzLmNoaWxsaW5nRHVyYXRpb25fIDwgMCkge1xyXG4gICAgICB0aGlzLmNoaWxsaW5nRHVyYXRpb25fID0gcmFuZCg1MDAsIDIwMDApO1xyXG4gICAgICB0aGlzLmNoaWxsaW5nRGlyZWN0aW9uXyA9IG5ldyBWZWN0b3IyKHJhbmQoKSAqIDIgLSAxLCByYW5kKCkgKiAyIC0gMSkubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzb2NpYWxEaXN0YW5jZSA9IHRoaXMuZ2V0U29jaWFsRGlzdGFuY2UoKTtcclxuICAgIC8vIGNvbnN0IHNvY2lhbERpc3RhbmNlOiBWZWN0b3IyID0gbnVsbDtcclxuICAgIFxyXG4gICAgdGhpcy5jaGlsbGluZ0RpcmVjdGlvbl8gPSBzb2NpYWxEaXN0YW5jZSB8fCB0aGlzLmNoaWxsaW5nRGlyZWN0aW9uXztcclxuICAgIGNvbnN0IGRkID0gdGhpcy5jaGlsbGluZ0RpcmVjdGlvbl8ubXVsKFxyXG4gICAgICAgIHRoaXMuc3BlZWRfIC8gMTAwMCAqIEVuZ2luZS5kZWx0YSAqIChzb2NpYWxEaXN0YW5jZSA/IDMgOiAxKSk7XHJcbiAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZChkZCk7XHJcbiAgICBjb25zdCBmaXhlZCA9IHRoaXMuZml4Q29vcmRpbmF0ZUJ5UG9saWN5KCk7XHJcbiAgICBpZiAoZml4ZWQpIHtcclxuICAgICAgdGhpcy5jaGlsbGluZ0R1cmF0aW9uXyA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNvY2lldHlfID09IHRoaXMud29ybGQucXVhcmFudGluZSkge1xyXG4gICAgICBpZiAoIVNJUk1vZGVsLnF1YXJhbnRpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydERlcXVhcmFudGluZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKFNJUk1vZGVsLmRlcXVhcmFudGluZUFmdGVyUmVjb3ZlcmVkICYmICF0aGlzLmluZmVjdGVkKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydERlcXVhcmFudGluZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKFNJUk1vZGVsLnF1YXJhbnRpbmVkICYmXHJcbiAgICAgICAgICB0aGlzLnN0YXRlID09IFNJUlN0YXRlLkluZmVjdGlvdXMgLyogJiZcclxuICAgICAgICAgIHJhbmQoKSA8IFNJUk1vZGVsLnF1YXJhbnRpbmVSYXRlKi8pIHtcclxuICAgICAgICB0aGlzLnN0YXJ0UXVhcmFudGluZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuZGF5Q2hhbmdlZF8pIHtcclxuICAgICAgICBpZiAocmFuZCgpIDwgU0lSTW9kZWwuc2hvcHBpbmdSYXRlKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0U2hvcHBpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmFuZCgpIDwgU0lSTW9kZWwudHJhdmVsaW5nUmF0ZSkge1xyXG4gICAgICAgICAgdGhpcy5zdGFydFRyYXZlbGluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U29jaWFsRGlzdGFuY2UoKTogVmVjdG9yMiB7XHJcbiAgICBpZiAodGhpcy5zb2NpZXR5XyA9PSB0aGlzLndvcmxkLnF1YXJhbnRpbmUpIHJldHVybiBudWxsO1xyXG4gICAgaWYgKCF0aGlzLnNvY2lhbERpc3RhbmNlUGFydGljaXBhbnRfKSByZXR1cm4gbnVsbDtcclxuICAgIGxldCBtYWcgPSBJbmZpbml0eTtcclxuICAgIGxldCBnbyA9IG5ldyBWZWN0b3IyKHJhbmQoKSAqIDIgLSAxLCByYW5kKCkgKiAyIC0gMSkubm9ybWFsaXplKCk7XHJcbiAgICB0aGlzLnNvY2lldHlfLml0ZXJhdGVOZWFyYnkoXHJcbiAgICAgIHRoaXMuc29jaWV0eV8ubWFwUG9zaXRpb25Xb3JsZFRvU29jaWV0eSh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiksXHJcbiAgICAgIHBlcnNvbiA9PiB7XHJcbiAgICAgICAgaWYgKHBlcnNvbiA9PSB0aGlzKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHBlcnNvbi50cmF2ZWxpbmdfKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnN1YihwZXJzb24udHJhbnNmb3JtLnBvc2l0aW9uKTtcclxuICAgICAgICBpZiAocy5zcXVhcmVkTWFnbml0dWRlIDwgbWFnKSB7XHJcbiAgICAgICAgICBtYWcgPSBzLnNxdWFyZWRNYWduaXR1ZGU7XHJcbiAgICAgICAgICBnbyA9IHM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIC8vIHRoaXMuc29jaWV0eV8ucGVvcGxlLmZvckVhY2gocGVyc29uID0+IHtcclxuICAgIC8vICAgaWYgKHBlcnNvbiA9PSB0aGlzKSByZXR1cm47XHJcbiAgICAvLyAgIGNvbnN0IHMgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5zdWIocGVyc29uLnRyYW5zZm9ybS5wb3NpdGlvbik7XHJcbiAgICAvLyAgIGlmIChzLm1hZ25pdHVkZSA8IG1hZykge1xyXG4gICAgLy8gICAgIG1hZyA9IHMubWFnbml0dWRlO1xyXG4gICAgLy8gICAgIGdvID0gcztcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcbiAgICBpZiAobWFnID09IEluZmluaXR5IHx8XHJcbiAgICAgICAgbWFnID4gU0lSTW9kZWwuc29jaWFsRGlzdGFuY2UgKiBTSVJNb2RlbC5zb2NpYWxEaXN0YW5jZSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChnby5zcXVhcmVkTWFnbml0dWRlID09IDApIHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHJhbmQoKSAqIDIgLSAxLCByYW5kKCkgKiAyIC0gMSkubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBub3JtID0gZ28ubm9ybWFsaXplKCk7XHJcbiAgICBpZiAobm9ybS54ID09IDEgfHwgbm9ybS55ID09IDEpIHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHJhbmQoKSAqIDIgLSAxLCByYW5kKCkgKiAyIC0gMSkubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzdGFydFF1YXJhbnRpbmUoKSB7XHJcbiAgICB0aGlzLnF1YXJhbnRpbmVkU29jaWV0eV8gPSB0aGlzLnNvY2lldHlfO1xyXG4gICAgdGhpcy5xdWFyYW50aW5lZE5vcm1hbGl6ZWRTcmNSZWxhdGl2ZVRvU29jaWV0eV8gPVxyXG4gICAgICAgIHRoaXMuZ2V0U29jaWV0eVBvc2l0aW9uKCkuZGl2Mih0aGlzLnNvY2lldHlfLnNpemUpO1xyXG4gICAgdGhpcy5zdGFydFRyYXZlbGluZyh0aGlzLndvcmxkLnF1YXJhbnRpbmUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGFydERlcXVhcmFudGluZSgpIHtcclxuICAgIHRoaXMuc3RhcnRUcmF2ZWxpbmcodGhpcy5xdWFyYW50aW5lZFNvY2lldHlfLFxyXG4gICAgICAgIHRoaXMucXVhcmFudGluZWROb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2lldHlfKTtcclxuICAgIHRoaXMucXVhcmFudGluZWRTb2NpZXR5XyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0VHJhbnNmZXIoXHJcbiAgICBzcmNSZWxhdGl2ZVRvU29jaWV0eTogUmVhZG9ubHlWZWN0b3IyLFxyXG4gICAgZHN0UmVsYXRpdmVUb1NvY2lldHk6IFJlYWRvbmx5VmVjdG9yMixcclxuICAgIHNyY1NvY2lldHk6IElTb2NpZXR5LFxyXG4gICAgZHN0U29jaWV0eTogSVNvY2lldHksIG5leHRTdGF0ZTogUGVyc29uU3RhdGUpIHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmMgPSBzcmNSZWxhdGl2ZVRvU29jaWV0eS5kaXYyKHNyY1NvY2lldHkuc2l6ZSk7XHJcbiAgICBjb25zdCBub3JtYWxpemVkRHN0ID0gZHN0UmVsYXRpdmVUb1NvY2lldHkuZGl2Mihkc3RTb2NpZXR5LnNpemUpO1xyXG4gICAgdGhpcy50cmFuc2Zlck5vcm1hbGl6ZWRTcmNSZWxhdGl2ZVRvU29jZWl0eV8gPSBub3JtYWxpemVkU3JjO1xyXG4gICAgdGhpcy50cmFuc2Zlck5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jZWl0eV8gPSBub3JtYWxpemVkRHN0O1xyXG4gICAgdGhpcy50cmFuc2ZlclNyY1NvY2VpdHlfID0gc3JjU29jaWV0eTtcclxuICAgIHRoaXMudHJhbnNmZXJEc3RTb2NpZXR5XyA9IGRzdFNvY2lldHk7XHJcbiAgICB0aGlzLnRyYW5zZmVyTmV4dFN0YXRlXyA9IG5leHRTdGF0ZTtcclxuICAgIHRoaXMuc3RhdGVNYWNoaW5lXy5zdGF0ZSA9IFBlcnNvblN0YXRlLlRyYW5zZmVyaW5nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBiZWdpblRyYW5zZmVyKCkge1xyXG4gICAgdGhpcy50cmFuc2ZlclN0YXJ0ZWRUaW1lXyA9IHRoaXMuZWxhcHNlZF87XHJcbiAgICB0aGlzLnRyYW5zZmVyRHVyYXRpb25fID0gMjUwMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlVHJhbnNmZXIoKSB7XHJcbiAgICBjb25zdCBkdCA9IHRoaXMuZWxhcHNlZF8gLSB0aGlzLnRyYW5zZmVyU3RhcnRlZFRpbWVfO1xyXG4gICAgY29uc3QgdCA9IHRoaXMuZWFzZShjbGFtcChkdCAvIHRoaXMudHJhbnNmZXJEdXJhdGlvbl8sIDAsIDEpKTtcclxuXHJcbiAgICBjb25zdCBzcmMgPSB0aGlzLnRyYW5zZmVyU3JjU29jZWl0eV8ucG9zaXRpb25SZWxhdGl2ZVRvV29ybGQoXHJcbiAgICAgIHRoaXMudHJhbnNmZXJOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2VpdHlfLm11bDIodGhpcy50cmFuc2ZlclNyY1NvY2VpdHlfLnNpemUpKTtcclxuICAgIGNvbnN0IGRzdCA9IHRoaXMudHJhbnNmZXJEc3RTb2NpZXR5Xy5wb3NpdGlvblJlbGF0aXZlVG9Xb3JsZChcclxuICAgICAgdGhpcy50cmFuc2Zlck5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jZWl0eV8ubXVsMih0aGlzLnRyYW5zZmVyRHN0U29jaWV0eV8uc2l6ZSkpO1xyXG4gICAgY29uc3QgaW50ZXJwID0gc3JjLmFkZChkc3Quc3ViKHNyYykubXVsKHQpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudHJhbnNmZXJOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2VpdHlfLCB0aGlzLnRyYW5zZmVyU3JjU29jZWl0eV8uc2l6ZSk7XHJcbiAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiA9IGludGVycDtcclxuICAgIGlmICh0ID09IDEpIHtcclxuICAgICAgdGhpcy5zdGF0ZU1hY2hpbmVfLnN0YXRlID0gdGhpcy50cmFuc2Zlck5leHRTdGF0ZV87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVhc2UodDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gKC0tdCkqdCp0KzE7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0U2hvcHBpbmcoKSB7XHJcbiAgICB0aGlzLnNob3BwaW5nTm9ybWFsaXplZFNyY1JlbGF0aXZlVG9Tb2NpZXR5XyA9XHJcbiAgICAgICAgdGhpcy5nZXRTb2NpZXR5UG9zaXRpb24oKS5kaXYyKHRoaXMuc29jaWV0eV8uc2l6ZSk7XHJcbiAgICBsZXQgcncgPSB0aGlzLnNvY2lldHlfLndpZHRoICogcmFuZCgtMC4xNSwgMC4xNSk7XHJcbiAgICBsZXQgcmggPSB0aGlzLnNvY2lldHlfLmhlaWdodCAqIHJhbmQoLTAuMTUsIDAuMTUpO1xyXG4gICAgdGhpcy5zdGFydFRyYW5zZmVyKFxyXG4gICAgICB0aGlzLmdldFNvY2lldHlQb3NpdGlvbigpLFxyXG4gICAgICBuZXcgVmVjdG9yMih0aGlzLnNvY2lldHlfLndpZHRoIC8gMiArIHJ3LFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnNvY2lldHlfLmhlaWdodCAvIDIgKyByaCksXHJcbiAgICAgIHRoaXMuc29jaWV0eV8sXHJcbiAgICAgIHRoaXMuc29jaWV0eV8sXHJcbiAgICAgIFBlcnNvblN0YXRlLlNob3BwaW5nKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYmVnaW5TaG9wcGluZygpIHtcclxuICAgIHRoaXMuc2hvcHBpbmdEdXJhdGlvbl8gPSByYW5kKDUwMCwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVNob3BwaW5nKCkge1xyXG4gICAgdGhpcy5zaG9wcGluZ0R1cmF0aW9uXyAtPSBFbmdpbmUuZGVsdGE7XHJcbiAgICBpZiAodGhpcy5zaG9wcGluZ0R1cmF0aW9uXyA8PSAwKSB7XHJcbiAgICAgIHRoaXMuc3RhcnRUcmFuc2ZlcihcclxuICAgICAgICB0aGlzLmdldFNvY2lldHlQb3NpdGlvbigpLFxyXG4gICAgICAgIHRoaXMuc2hvcHBpbmdOb3JtYWxpemVkU3JjUmVsYXRpdmVUb1NvY2lldHlfLm11bDIodGhpcy5zb2NpZXR5Xy5zaXplKSxcclxuICAgICAgICB0aGlzLnNvY2lldHlfLFxyXG4gICAgICAgIHRoaXMuc29jaWV0eV8sXHJcbiAgICAgICAgUGVyc29uU3RhdGUuQ2hpbGxpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGFydFRyYXZlbGluZyhkc3RTb2NpZXR5PzogSVNvY2lldHksXHJcbiAgICAgIG5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jaWV0eT86IFJlYWRvbmx5VmVjdG9yMikge1xyXG4gICAgdGhpcy50cmF2ZWxpbmdfID0gdHJ1ZTtcclxuICAgIHRoaXMudHJhdmVsaW5nRHN0U29jaWV0eV8gPSBkc3RTb2NpZXR5O1xyXG4gICAgaWYgKCF0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKyspIHtcclxuICAgICAgICB0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfID0gXHJcbiAgICAgICAgICAgIHRoaXMud29ybGQuc29jaWV0aWVzW3JhbmRJbnQoMCwgdGhpcy53b3JsZC5zb2NpZXRpZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIGlmICh0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfICE9IHRoaXMuc29jaWV0eV8pIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy50cmF2ZWxpbmdEc3RTb2NpZXR5XyA9PSB0aGlzLnNvY2lldHlfKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBkc3QgPSBudWxsO1xyXG4gICAgaWYgKG5vcm1hbGl6ZWREc3RSZWxhdGl2ZVRvU29jaWV0eSkge1xyXG4gICAgICBkc3QgPSBub3JtYWxpemVkRHN0UmVsYXRpdmVUb1NvY2lldHkubXVsMihkc3RTb2NpZXR5LnNpemUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBydyA9IHRoaXMudHJhdmVsaW5nRHN0U29jaWV0eV8ud2lkdGggKiByYW5kKC0wLjMsIDAuMyk7XHJcbiAgICAgIGxldCByaCA9IHRoaXMudHJhdmVsaW5nRHN0U29jaWV0eV8uaGVpZ2h0ICogcmFuZCgtMC4zLCAwLjMpO1xyXG4gICAgICBkc3QgPSBuZXcgVmVjdG9yMih0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfLndpZHRoIC8gMiArIHJ3LFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfLmhlaWdodCAvIDIgKyByaClcclxuICAgIH1cclxuICAgIHRoaXMuc3RhcnRUcmFuc2ZlcihcclxuICAgICAgdGhpcy5nZXRTb2NpZXR5UG9zaXRpb24oKSxcclxuICAgICAgZHN0LFxyXG4gICAgICB0aGlzLnNvY2lldHlfLFxyXG4gICAgICB0aGlzLnRyYXZlbGluZ0RzdFNvY2lldHlfLFxyXG4gICAgICBQZXJzb25TdGF0ZS5UcmF2ZWxpbmcpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBiZWdpblRyYXZlbGluZygpIHtcclxuICAgIHRoaXMuc29jaWV0eV8ucmVtb3ZlUGVyc29uKHRoaXMpO1xyXG4gICAgdGhpcy5zb2NpZXR5XyA9IHRoaXMudHJhdmVsaW5nRHN0U29jaWV0eV87XHJcbiAgICB0aGlzLnNvY2lldHlfLmFkZFBlcnNvbih0aGlzKTtcclxuICAgIHRoaXMuc3RhdGVNYWNoaW5lXy5zdGF0ZSA9IFBlcnNvblN0YXRlLkNoaWxsaW5nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlbmRUcmF2ZWxpbmcoKSB7XHJcbiAgICB0aGlzLnRyYXZlbGluZ18gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZml4Q29vcmRpbmF0ZUJ5UG9saWN5KCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qgc29jaWV0eSA9IHRoaXMuc29jaWV0eV87XHJcblxyXG4gICAgaWYgKHRoaXMuc29jaWV0eV8pIHtcclxuICAgICAgY29uc3Qgc29jaWV0eVBvc2l0aW9uID0gdGhpcy5nZXRTb2NpZXR5UG9zaXRpb24oKTtcclxuICAgICAgaWYgKHNvY2lldHlQb3NpdGlvbi54IDwgMCB8fCBzb2NpZXR5UG9zaXRpb24ueCA+PSBzb2NpZXR5LndpZHRoIHx8XHJcbiAgICAgICAgICBzb2NpZXR5UG9zaXRpb24ueSA8IDAgfHwgc29jaWV0eVBvc2l0aW9uLnkgPj0gc29jaWV0eS5oZWlnaHQpIHtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiA9IG5ldyBWZWN0b3IyKFxyXG4gICAgICAgICAgICBzb2NpZXR5LnRyYW5zZm9ybS5wb3NpdGlvbi54ICsgY2xhbXAoc29jaWV0eVBvc2l0aW9uLngsIDAsIHNvY2lldHkud2lkdGgpLFxyXG4gICAgICAgICAgICBzb2NpZXR5LnRyYW5zZm9ybS5wb3NpdGlvbi55ICsgY2xhbXAoc29jaWV0eVBvc2l0aW9uLnksIDAsIHNvY2lldHkuaGVpZ2h0KSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgcHVibGljIGdldFNvY2lldHlQb3NpdGlvbigpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnNvY2lldHlfLm1hcFBvc2l0aW9uV29ybGRUb1NvY2lldHkodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqIE9ic2VydmFibGVzICovXHJcbiAgcHJpdmF0ZSBkaXNwb3Nlcl86IElSZWFjdGlvbkRpc3Bvc2VyO1xyXG4gIHByaXZhdGUgbGlzdGVuKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwb3Nlcl8gPSBhdXRvcnVuKCgpID0+IHtcclxuICAgICAgdGhpcy5zb2NpYWxEaXN0YW5jZVBhcnRpY2lwYW50XyA9IFxyXG4gICAgICAgICAgcmFuZCgpIDwgU0lSTW9kZWwuc29jaWFsRGlzdGFuY2VQYXJ0aWNpcGFudFJhdGlvO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcG9zZXJfKCk7XHJcbiAgfVxyXG4gXHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IHtcclxuXHJcbiAgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG59IiwiaW1wb3J0ICcuL2NvbnRyb2wnO1xyXG5pbXBvcnQgeyBpbml0LCBjcmVhdGVXb3JsZCB9IGZyb20gJy4vaW5pdCc7XHJcblxyXG5pbml0KCkudGhlbigoKSA9PiB7XHJcbiAgY3JlYXRlV29ybGQoKTtcclxufSkiLCJpbXBvcnQgKiBhcyBub1VpU2xpZGVyIGZyb20gJ25vdWlzbGlkZXInO1xyXG5pbXBvcnQgeyBTSVJNb2RlbCwgX1NJUk1vZGVsSW1wbCB9IGZyb20gJy4vc2lyLW1vZGVsJztcclxuaW1wb3J0IHsgYXV0b3J1biB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcbmltcG9ydCB7IGNyZWF0ZVdvcmxkIH0gZnJvbSAnLi9pbml0JztcclxuXHJcbmNsYXNzIFNsaWRlciB7XHJcblxyXG4gIHByaXZhdGUgZWxfOiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIHNsaWRlcl86IG5vVWlTbGlkZXIubm9VaVNsaWRlcjtcclxuICBwcml2YXRlIHZhbHVlRWxfOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50OiBIVE1MRWxlbWVudCxcclxuICAgIGxhYmVsOiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXNwbGF5RnVuYzogKHZhbHVlOiBudW1iZXIpID0+IHN0cmluZyxcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2lkRWZmZWN0OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZCxcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2lkZUVmZmVjdE9uQ2hhbmdlPzogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgIHRoaXMuZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsXy5jbGFzc05hbWUgPSBcInNsaWRlci1ib3hcIjtcclxuICAgIGNvbnN0IGxhYmVsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGxhYmVsRWwuY2xhc3NOYW1lID0gXCJsYWJlbFwiO1xyXG4gICAgbGFiZWxFbC5pbm5lclRleHQgPSBsYWJlbDtcclxuICAgIHRoaXMuZWxfLmFwcGVuZChsYWJlbEVsKTtcclxuXHJcbiAgICBjb25zdCBzbGlkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbF8uYXBwZW5kKHNsaWRlckVsKTtcclxuXHJcbiAgICB0aGlzLnZhbHVlRWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnZhbHVlRWxfLmNsYXNzTmFtZSA9IFwidmFsdWVcIjtcclxuICAgIHRoaXMuZWxfLmFwcGVuZCh0aGlzLnZhbHVlRWxfKTtcclxuXHJcblxyXG4gICAgdGhpcy5zbGlkZXJfID0gbm9VaVNsaWRlci5jcmVhdGUoc2xpZGVyRWwsIHtcclxuICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICByYW5nZToge1xyXG4gICAgICAgIG1pbjogbWluLFxyXG4gICAgICAgIG1heDogbWF4XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0ZXA6IHN0ZXBcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zbGlkZXJfLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVuZGVyVmFsdWUoKTtcclxuICAgICAgdGhpcy5zaWRFZmZlY3QoK3RoaXMuc2xpZGVyXy5nZXQoKSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc2xpZGVyXy5vbignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNpZGVFZmZlY3RPbkNoYW5nZSAmJiBcclxuICAgICAgdGhpcy5zaWRlRWZmZWN0T25DaGFuZ2UoK3RoaXMuc2xpZGVyXy5nZXQoKSk7XHJcbiAgICB9KTtcclxuICAgIHBhcmVudC5hcHBlbmQodGhpcy5lbF8pO1xyXG4gICAgdGhpcy5yZW5kZXJWYWx1ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW5kZXJWYWx1ZSgpIHtcclxuICAgIHRoaXMudmFsdWVFbF8uaW5uZXJUZXh0ID0gdGhpcy5kaXNwbGF5RnVuYygrdGhpcy5zbGlkZXJfLmdldCgpKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBEaXZpZGVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50OiBIVE1MRWxlbWVudCwgYm9sZDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdi5jbGFzc05hbWUgPSAnZGl2aWRlcic7XHJcbiAgICBpZiAoYm9sZCkgZGl2LmNsYXNzTmFtZSArPSAnIGJvbGQnO1xyXG4gICAgcGFyZW50LmFwcGVuZChkaXYpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGNvbnRyb2xFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250cm9sJyk7XHJcbmNvbnN0IG1vZGlmaWFibGVTSVJNb2RlbCA9IFNJUk1vZGVsIGFzIF9TSVJNb2RlbEltcGw7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXRlZ29yeSgpOiBIVE1MRWxlbWVudCB7XHJcbiAgbGV0IGNhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBjYXRlLmNsYXNzTmFtZSA9ICdjYXRlZ29yeSc7XHJcbiAgY29udHJvbEVsLmFwcGVuZChjYXRlKTtcclxuICByZXR1cm4gY2F0ZTtcclxufVxyXG5cclxubGV0IGNhdGUgPSBjcmVhdGVDYXRlZ29yeSgpO1xyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJTb2NpZXR5IENvbHVtbiBMZW5ndGggKFJlZ2VuZXJhdGUpXCIsIFxyXG4gIFNJUk1vZGVsLnNvY2lldHlDb2x1bW5MZW5ndGgsIDEsIDUsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgKyAnJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwuc29jaWV0eUNvbHVtbkxlbmd0aCA9IHZhbHVlLFxyXG4gICgpID0+IGNyZWF0ZVdvcmxkKCkpO1xyXG5uZXcgRGl2aWRlcihjYXRlKTtcclxuXHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIlNvY2lldHkgUm93IExlbmd0aCAoUmVnZW5lcmF0ZSlcIiwgXHJcbiAgU0lSTW9kZWwuc29jaWV0eVJvd0xlbmd0aCwgMSwgNSwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICcnLFxyXG4gIHZhbHVlID0+IG1vZGlmaWFibGVTSVJNb2RlbC5zb2NpZXR5Um93TGVuZ3RoID0gdmFsdWUsXHJcbiAgKCkgPT4gY3JlYXRlV29ybGQoKSk7XHJcbm5ldyBEaXZpZGVyKGNhdGUpO1xyXG5cclxubmV3IFNsaWRlcihjYXRlLFxyXG4gIFwiU29jaWV0eSBTaXplIChSZWdlbmVyYXRlKVwiLCBcclxuICBTSVJNb2RlbC5zb2NpZXR5U2l6ZSwgNTAsIDMwMDAsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgKyAnJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwuc29jaWV0eVNpemUgPSB2YWx1ZSxcclxuICAoKSA9PiBjcmVhdGVXb3JsZCgpKTtcclxubmV3IERpdmlkZXIoY2F0ZSk7XHJcblxyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJQb3B1bGF0aW9uIFBlciBTb2NpZXR5IChSZWdlbmVyYXRlKVwiLCBcclxuICBTSVJNb2RlbC5zb2NpZXR5UG9wdWxhdGlvbiwgMSwgNTAwMCwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICcnLFxyXG4gIHZhbHVlID0+IG1vZGlmaWFibGVTSVJNb2RlbC5zb2NpZXR5UG9wdWxhdGlvbiA9IHZhbHVlLFxyXG4gICgpID0+IGNyZWF0ZVdvcmxkKCkpO1xyXG5uZXcgRGl2aWRlcihjYXRlKTtcclxuXHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIkluaXRpYWwgSW5mZWN0aW9uIFJhdGUgKFJlZ2VuZXJhdGUpXCIsIFxyXG4gIE1hdGgucm91bmQoU0lSTW9kZWwuaW5pdGlhbEluZmVjdGlvblBvc3NpYmxpdHkgKiAxMDAwKSwgMCwgMTAwMCwgMSxcclxuICB2YWx1ZSA9PiAodmFsdWUgLyAxMCkgKyAnJScsXHJcbiAgdmFsdWUgPT4gbW9kaWZpYWJsZVNJUk1vZGVsLmluaXRpYWxJbmZlY3Rpb25Qb3NzaWJsaXR5ID0gdmFsdWUgLyAxMDAwLFxyXG4gICgpID0+IGNyZWF0ZVdvcmxkKCkpO1xyXG5uZXcgRGl2aWRlcihjYXRlLCB0cnVlKTtcclxuICBcclxuY2F0ZSA9IGNyZWF0ZUNhdGVnb3J5KCk7XHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIkluZmVjdGlvbiBSYXRlXCIsIFxyXG4gIE1hdGgucm91bmQoU0lSTW9kZWwuaW5mZWN0aW9uUmF0ZSAqIDEwMCksIDAsIDEwMCwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICclJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwuaW5mZWN0aW9uUmF0ZSA9IHZhbHVlIC8gMTAwKTtcclxubmV3IERpdmlkZXIoY2F0ZSk7XHJcbiAgXHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIkluZmVjdGlvbiBEaXNjb3ZlcnkgUmF0ZVwiLCBcclxuICBNYXRoLnJvdW5kKFNJUk1vZGVsLmluZmVjdGlvbkRpc2NvdmVyeVJhdGUgKiAxMDApLCAwLCAxMDAsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgKyAnJScsXHJcbiAgdmFsdWUgPT4gbW9kaWZpYWJsZVNJUk1vZGVsLmluZmVjdGlvbkRpc2NvdmVyeVJhdGUgPSB2YWx1ZSAvIDEwMClcclxubmV3IERpdmlkZXIoY2F0ZSk7XHJcbiAgXHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIkluZmVjdGlvbiBSZWNvdmVyeSBSYXRlXCIsIFxyXG4gIE1hdGgucm91bmQoU0lSTW9kZWwuaW5mZWN0aW9uUmVjb3ZlcnlSYXRlICogMTAwKSwgMCwgMTAwLCAxLFxyXG4gIHZhbHVlID0+IHZhbHVlICsgJyUnLFxyXG4gIHZhbHVlID0+IG1vZGlmaWFibGVTSVJNb2RlbC5pbmZlY3Rpb25SZWNvdmVyeVJhdGUgPSB2YWx1ZSAvIDEwMCk7XHJcbm5ldyBEaXZpZGVyKGNhdGUpO1xyXG4gIFxyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJJbmZlY3Rpb24gUmFkaXVzXCIsIFxyXG4gIFNJUk1vZGVsLmluZmVjdGlvblJhZGl1cywgMCwgNjAsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgKyAnJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwuaW5mZWN0aW9uUmFkaXVzID0gdmFsdWUpO1xyXG5uZXcgRGl2aWRlcihjYXRlKTtcclxubmV3IERpdmlkZXIoY2F0ZSwgdHJ1ZSk7XHJcblxyXG5jYXRlID0gY3JlYXRlQ2F0ZWdvcnkoKTtcclxubmV3IFNsaWRlcihjYXRlLFxyXG4gIFwiU2hvcHBpbmcgUmF0ZVwiLCBcclxuICBNYXRoLnJvdW5kKFNJUk1vZGVsLnNob3BwaW5nUmF0ZSAqIDEwMCksIDAsIDEwMCwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICclJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwuc2hvcHBpbmdSYXRlID0gdmFsdWUgLyAxMDApO1xyXG5uZXcgRGl2aWRlcihjYXRlKTtcclxuXHJcbm5ldyBTbGlkZXIoY2F0ZSxcclxuICBcIlRyYXZlbCBSYXRlXCIsIFxyXG4gIE1hdGgucm91bmQoU0lSTW9kZWwudHJhdmVsaW5nUmF0ZSAqIDEwMCksIDAsIDEwMCwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICclJyxcclxuICB2YWx1ZSA9PiBtb2RpZmlhYmxlU0lSTW9kZWwudHJhdmVsaW5nUmF0ZSA9IHZhbHVlIC8gMTAwKTtcclxubmV3IERpdmlkZXIoY2F0ZSk7XHJcblxyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJTb2NpYWwgRGlzdGFuY2VcIiwgXHJcbiAgU0lSTW9kZWwuc29jaWFsRGlzdGFuY2UsIDAsIDE2MCwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSArICcnLFxyXG4gIHZhbHVlID0+IG1vZGlmaWFibGVTSVJNb2RlbC5zb2NpYWxEaXN0YW5jZSA9IHZhbHVlKTtcclxubmV3IERpdmlkZXIoY2F0ZSk7XHJcblxyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJTb2NpYWwgRGlzdGFuY2UgUGFydGljaXBhbnQgUmF0aW9cIiwgXHJcbiAgTWF0aC5yb3VuZChTSVJNb2RlbC5zb2NpYWxEaXN0YW5jZVBhcnRpY2lwYW50UmF0aW8gKiAxMDApLCAwLCAxMDAsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgKyAnJScsXHJcbiAgdmFsdWUgPT4gbW9kaWZpYWJsZVNJUk1vZGVsLnNvY2lhbERpc3RhbmNlUGFydGljaXBhbnRSYXRpbyA9IHZhbHVlIC8gMTAwKTtcclxubmV3IERpdmlkZXIoY2F0ZSwgdHJ1ZSk7XHJcbiAgXHJcbmNhdGUgPSBjcmVhdGVDYXRlZ29yeSgpO1xyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJFbmFibGUgUXVhcmFudGluZSBab25lXCIsIFxyXG4gICtTSVJNb2RlbC5xdWFyYW50aW5lZCwgMCwgMSwgMSxcclxuICB2YWx1ZSA9PiB2YWx1ZSA/ICdFbmFibGVkJyA6ICdEaXNhYmxlZCcsXHJcbiAgdmFsdWUgPT4gbW9kaWZpYWJsZVNJUk1vZGVsLnF1YXJhbnRpbmVkID0gISF2YWx1ZSk7XHJcbm5ldyBEaXZpZGVyKGNhdGUpO1xyXG4gIFxyXG5uZXcgU2xpZGVyKGNhdGUsXHJcbiAgXCJSZXR1cmluZyBTb2NpZXR5IG9uIFJlY292ZXJlZFwiLCBcclxuICArU0lSTW9kZWwuZGVxdWFyYW50aW5lQWZ0ZXJSZWNvdmVyZWQsIDAsIDEsIDEsXHJcbiAgdmFsdWUgPT4gdmFsdWUgPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnLFxyXG4gIHZhbHVlID0+IG1vZGlmaWFibGVTSVJNb2RlbC5kZXF1YXJhbnRpbmVBZnRlclJlY292ZXJlZCA9ICEhdmFsdWUpO1xyXG5uZXcgRGl2aWRlcihjYXRlKTtcclxuXHJcblxyXG5jb25zdCBwYXVzZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZWQnKTtcclxucGF1c2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsgRW5naW5lLnBhdXNlZCA9ICFFbmdpbmUucGF1c2VkfSApO1xyXG5hdXRvcnVuKCgpID0+IHtcclxuICBpZiAoRW5naW5lLnBhdXNlZCkge1xyXG4gICAgcGF1c2VCdG4uaW5uZXJUZXh0ID0gJ1BMQVknO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHBhdXNlQnRuLmlubmVyVGV4dCA9ICdQQVVTRSc7XHJcbiAgfVxyXG4gIHBhdXNlQnRuLmNsYXNzTmFtZSA9IEVuZ2luZS5wYXVzZWQgPyAnYWN0aXZlJyA6ICcnO1xyXG59KVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICBpZiAoY29uZmlybSgnQ2xlYXIgc2V0dGluZ3M/JykpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdTSVJNb2RlbCcpO1xyXG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgfVxyXG59KVxyXG4iLCIvKiEgbm91aXNsaWRlciAtIDE0LjIuMCAtIDMvMjcvMjAyMCAqL1xuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgd2luZG93Lm5vVWlTbGlkZXIgPSBmYWN0b3J5KCk7XG4gICAgfVxufSkoZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgVkVSU0lPTiA9IFwiMTQuMi4wXCI7XG5cbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBlbnRyeS50byA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBCaW5kYWJsZSB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG4gICAgZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzW2FdID8gKHRoaXNbYV0gPSB0cnVlKSA6IGZhbHNlO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgLy8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWUsIHRvKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG4gICAgfVxuXG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cbiAgICBmdW5jdGlvbiBvZmZzZXQoZWxlbSwgb3JpZW50YXRpb24pIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuXG4gICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBjb250YWlucyBsZWZ0IHNjcm9sbCBpbiBDaHJvbWUgb24gQW5kcm9pZC5cbiAgICAgICAgLy8gSSBoYXZlbid0IGZvdW5kIGEgZmVhdHVyZSBkZXRlY3Rpb24gdGhhdCBwcm92ZXMgdGhpcy4gV29yc3QgY2FzZVxuICAgICAgICAvLyBzY2VuYXJpbyBvbiBtaXMtbWF0Y2g6IHRoZSAndGFwJyBmZWF0dXJlIG9uIGhvcml6b250YWwgc2xpZGVycyBicmVha3MuXG4gICAgICAgIGlmICgvd2Via2l0LipDaHJvbWUuKk1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIHBhZ2VPZmZzZXQueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb25cbiAgICAgICAgICAgID8gcmVjdC50b3AgKyBwYWdlT2Zmc2V0LnkgLSBkb2NFbGVtLmNsaWVudFRvcFxuICAgICAgICAgICAgOiByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQ7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBudW1lcmljYWwuXG4gICAgZnVuY3Rpb24gaXNOdW1lcmljKGEpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmICFpc05hTihhKSAmJiBpc0Zpbml0ZShhKTtcbiAgICB9XG5cbiAgICAvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cbiAgICBmdW5jdGlvbiBhZGRDbGFzc0ZvcihlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG4gICAgZnVuY3Rpb24gbGltaXQoYSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG4gICAgfVxuXG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuXG4gICAgLy8gQ291bnRzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1TdHIpIHtcbiAgICAgICAgbnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG4gICAgICAgIHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICByZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jYWRkX2NsYXNzXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmICEvXFxzLy50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIoXnxcXFxcYilcIiArIGNsYXNzTmFtZS5zcGxpdChcIiBcIikuam9pbihcInxcIikgKyBcIihcXFxcYnwkKVwiLCBcImdpXCIpLFxuICAgICAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L2F0dHJpYnV0ZXMvYWRkaW5nLXJlbW92aW5nLWFuZC10ZXN0aW5nLWZvci1jbGFzc2VzLTkvXG4gICAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0XG4gICAgICAgICAgICA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpXG4gICAgICAgICAgICA6IG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgY2xhc3NOYW1lICsgXCJcXFxcYlwiKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9zY3JvbGxZI05vdGVzXG4gICAgZnVuY3Rpb24gZ2V0UGFnZU9mZnNldChkb2MpIHtcbiAgICAgICAgdmFyIHN1cHBvcnRQYWdlT2Zmc2V0ID0gd2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpc0NTUzFDb21wYXQgPSAoZG9jLmNvbXBhdE1vZGUgfHwgXCJcIikgPT09IFwiQ1NTMUNvbXBhdFwiO1xuICAgICAgICB2YXIgeCA9IHN1cHBvcnRQYWdlT2Zmc2V0XG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgICAgICAgOiBpc0NTUzFDb21wYXRcbiAgICAgICAgICAgICAgICA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgICAgICAgICAgICAgIDogZG9jLmJvZHkuc2Nyb2xsTGVmdDtcbiAgICAgICAgdmFyIHkgPSBzdXBwb3J0UGFnZU9mZnNldFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgIDogaXNDU1MxQ29tcGF0XG4gICAgICAgICAgICAgICAgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgIDogZG9jLmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlIHByb3ZpZGUgYSBmdW5jdGlvbiB0byBjb21wdXRlIGNvbnN0YW50cyBpbnN0ZWFkXG4gICAgLy8gb2YgYWNjZXNzaW5nIHdpbmRvdy4qIGFzIHNvb24gYXMgdGhlIG1vZHVsZSBuZWVkcyBpdFxuICAgIC8vIHNvIHRoYXQgd2UgZG8gbm90IGNvbXB1dGUgYW55dGhpbmcgaWYgbm90IG5lZWRlZFxuICAgIGZ1bmN0aW9uIGdldEFjdGlvbnMoKSB7XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgZXZlbnRzIHRvIGJpbmQuIElFMTEgaW1wbGVtZW50cyBwb2ludGVyRXZlbnRzIHdpdGhvdXRcbiAgICAgICAgLy8gYSBwcmVmaXgsIHdoaWNoIGJyZWFrcyBjb21wYXRpYmlsaXR5IHdpdGggdGhlIElFMTAgaW1wbGVtZW50YXRpb24uXG4gICAgICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcInBvaW50ZXJkb3duXCIsXG4gICAgICAgICAgICAgICAgICBtb3ZlOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgICBlbmQ6IFwicG9pbnRlcnVwXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJNU1BvaW50ZXJEb3duXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbW92ZTogXCJNU1BvaW50ZXJNb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZW5kOiBcIk1TUG9pbnRlclVwXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgIG1vdmU6IFwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGVuZDogXCJtb3VzZXVwIHRvdWNoZW5kXCJcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcbiAgICAvLyBJc3N1ZSAjNzg1XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlKCkge1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICAgIHJldHVybiBzdXBwb3J0c1Bhc3NpdmU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpO1xuICAgIH1cblxuICAgIC8vZW5kcmVnaW9uXG5cbiAgICAvL3JlZ2lvbiBSYW5nZSBDYWxjdWxhdGlvblxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cbiAgICBmdW5jdGlvbiBzdWJSYW5nZVJhdGlvKHBhLCBwYikge1xuICAgICAgICByZXR1cm4gMTAwIC8gKHBiIC0gcGEpO1xuICAgIH1cblxuICAgIC8vIChwZXJjZW50YWdlKSBIb3cgbWFueSBwZXJjZW50IGlzIHRoaXMgdmFsdWUgb2YgdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiBmcm9tUGVyY2VudGFnZShyYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAqIDEwMCkgLyAocmFuZ2VbMV0gLSByYW5nZVswXSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdKTtcbiAgICB9XG5cbiAgICAvLyAodmFsdWUpIEhvdyBtdWNoIGlzIHRoaXMgcGVyY2VudGFnZSBvbiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIGlzUGVyY2VudGFnZShyYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAqIChyYW5nZVsxXSAtIHJhbmdlWzBdKSkgLyAxMDAgKyByYW5nZVswXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRKKHZhbHVlLCBhcnIpIHtcbiAgICAgICAgdmFyIGogPSAxO1xuXG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqO1xuICAgIH1cblxuICAgIC8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLlxuICAgIGZ1bmN0aW9uIHRvU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBwYSArIHRvUGVyY2VudGFnZShbdmEsIHZiXSwgdmFsdWUpIC8gc3ViUmFuZ2VSYXRpbyhwYSwgcGIpO1xuICAgIH1cblxuICAgIC8vICh2YWx1ZSkgSW5wdXQgYSBwZXJjZW50YWdlLCBmaW5kIHdoZXJlIGl0IGlzIG9uIHRoZSBzcGVjaWZpZWQgcmFuZ2UuXG4gICAgZnVuY3Rpb24gZnJvbVN0ZXBwaW5nKHhWYWwsIHhQY3QsIHZhbHVlKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDBcbiAgICAgICAgaWYgKHZhbHVlID49IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHhWYWwuc2xpY2UoLTEpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBpc1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sICh2YWx1ZSAtIHBhKSAqIHN1YlJhbmdlUmF0aW8ocGEsIHBiKSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIEdldCB0aGUgc3RlcCB0aGF0IGFwcGxpZXMgYXQgYSBjZXJ0YWluIHZhbHVlLlxuICAgIGZ1bmN0aW9uIGdldFN0ZXAoeFBjdCwgeFN0ZXBzLCBzbmFwLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIC8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLlxuICAgICAgICBpZiAoc25hcCkge1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBwb3NpdGlvbiwgYSBvciBiLlxuICAgICAgICAgICAgaWYgKHZhbHVlIC0gYSA+IChiIC0gYSkgLyAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geFBjdFtqIC0gMV0gKyBjbG9zZXN0KHZhbHVlIC0geFBjdFtqIC0gMV0sIHhTdGVwc1tqIC0gMV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQoaW5kZXgsIHZhbHVlLCB0aGF0KSB7XG4gICAgICAgIHZhciBwZXJjZW50YWdlO1xuXG4gICAgICAgIC8vIFdyYXAgbnVtZXJpY2FsIGlucHV0IGluIGFuIGFycmF5LlxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWplY3QgYW55IGludmFsaWQgaW5wdXQsIGJ5IHRlc3Rpbmcgd2hldGhlciB2YWx1ZSBpcyBhbiBhcnJheS5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC5cbiAgICAgICAgaWYgKGluZGV4ID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuICAgICAgICBpZiAoIWlzTnVtZXJpYyhwZXJjZW50YWdlKSB8fCAhaXNOdW1lcmljKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdmFsdWVzLlxuICAgICAgICB0aGF0LnhQY3QucHVzaChwZXJjZW50YWdlKTtcbiAgICAgICAgdGhhdC54VmFsLnB1c2godmFsdWVbMF0pO1xuXG4gICAgICAgIC8vIE5hTiB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIHRvbywgYnV0IHRvIGtlZXBcbiAgICAgICAgLy8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXG4gICAgICAgIC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cbiAgICAgICAgaWYgKCFwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlWzFdKSkge1xuICAgICAgICAgICAgICAgIHRoYXQueFN0ZXBzWzBdID0gdmFsdWVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwcy5wdXNoKGlzTmFOKHZhbHVlWzFdKSA/IGZhbHNlIDogdmFsdWVbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludChpLCBuLCB0aGF0KSB7XG4gICAgICAgIC8vIElnbm9yZSAnZmFsc2UnIHN0ZXBwaW5nLlxuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICBpZiAodGhhdC54VmFsW2ldID09PSB0aGF0LnhWYWxbaSArIDFdKSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwc1tpXSA9IHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSB0aGF0LnhWYWxbaV07XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhY3RvciB0byByYW5nZSByYXRpb1xuICAgICAgICB0aGF0LnhTdGVwc1tpXSA9XG4gICAgICAgICAgICBmcm9tUGVyY2VudGFnZShbdGhhdC54VmFsW2ldLCB0aGF0LnhWYWxbaSArIDFdXSwgbikgLyBzdWJSYW5nZVJhdGlvKHRoYXQueFBjdFtpXSwgdGhhdC54UGN0W2kgKyAxXSk7XG5cbiAgICAgICAgdmFyIHRvdGFsU3RlcHMgPSAodGhhdC54VmFsW2kgKyAxXSAtIHRoYXQueFZhbFtpXSkgLyB0aGF0LnhOdW1TdGVwc1tpXTtcbiAgICAgICAgdmFyIGhpZ2hlc3RTdGVwID0gTWF0aC5jZWlsKE51bWJlcih0b3RhbFN0ZXBzLnRvRml4ZWQoMykpIC0gMSk7XG4gICAgICAgIHZhciBzdGVwID0gdGhhdC54VmFsW2ldICsgdGhhdC54TnVtU3RlcHNbaV0gKiBoaWdoZXN0U3RlcDtcblxuICAgICAgICB0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwW2ldID0gc3RlcDtcbiAgICB9XG5cbiAgICAvL2VuZHJlZ2lvblxuXG4gICAgLy9yZWdpb24gU3BlY3RydW1cblxuICAgIGZ1bmN0aW9uIFNwZWN0cnVtKGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwKSB7XG4gICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICB0aGlzLnhWYWwgPSBbXTtcbiAgICAgICAgdGhpcy54U3RlcHMgPSBbc2luZ2xlU3RlcCB8fCBmYWxzZV07XG4gICAgICAgIHRoaXMueE51bVN0ZXBzID0gW2ZhbHNlXTtcbiAgICAgICAgdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcCA9IFtdO1xuXG4gICAgICAgIHRoaXMuc25hcCA9IHNuYXA7XG5cbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIgb3JkZXJlZCA9IFtdOyAvLyBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddXG5cbiAgICAgICAgLy8gTWFwIHRoZSBvYmplY3Qga2V5cyB0byBhbiBhcnJheS5cbiAgICAgICAgZm9yIChpbmRleCBpbiBlbnRyeSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgICAgICAgIG9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBhbGwgZW50cmllcyBieSB2YWx1ZSAobnVtZXJpYyBzb3J0KS5cbiAgICAgICAgaWYgKG9yZGVyZWQubGVuZ3RoICYmIHR5cGVvZiBvcmRlcmVkWzBdWzBdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhWzBdWzBdIC0gYlswXVswXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBvcmRlcmVkLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaGFuZGxlRW50cnlQb2ludChvcmRlcmVkW2luZGV4XVsxXSwgb3JkZXJlZFtpbmRleF1bMF0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIGFjdHVhbCBzdGVwIHZhbHVlcy5cbiAgICAgICAgLy8geFN0ZXBzIGlzIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB4UGN0IGFuZCB4VmFsLlxuICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIG51bWVyaWMgc3RlcHMgdG8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHN1YnJhbmdlIHRoZXkgcmVwcmVzZW50LlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXRNYXJnaW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgc3RlcCA9IHRoaXMueE51bVN0ZXBzWzBdO1xuXG4gICAgICAgIGlmIChzdGVwICYmICh2YWx1ZSAvIHN0ZXApICUgMSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnLCAnbWFyZ2luJyBhbmQgJ3BhZGRpbmcnIG11c3QgYmUgZGl2aXNpYmxlIGJ5IHN0ZXAuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMueFBjdC5sZW5ndGggPT09IDIgPyBmcm9tUGVyY2VudGFnZSh0aGlzLnhWYWwsIHZhbHVlKSA6IGZhbHNlO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdG9TdGVwcGluZyh0aGlzLnhWYWwsIHRoaXMueFBjdCwgdmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmZyb21TdGVwcGluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGdldFN0ZXAodGhpcy54UGN0LCB0aGlzLnhTdGVwcywgdGhpcy5zbmFwLCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0ZXAgPSBmdW5jdGlvbih2YWx1ZSwgaXNEb3duLCBzaXplKSB7XG4gICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcblxuICAgICAgICAvLyBXaGVuIGF0IHRoZSB0b3Agb3Igc3RlcHBpbmcgZG93biwgbG9vayBhdCB0aGUgcHJldmlvdXMgc3ViLXJhbmdlXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwIHx8IChpc0Rvd24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFtqIC0gMV0pKSB7XG4gICAgICAgICAgICBqID0gTWF0aC5tYXgoaiAtIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnhWYWxbal0gLSB0aGlzLnhWYWxbaiAtIDFdKSAvIHNpemU7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXROZWFyYnlTdGVwcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RlcEJlZm9yZToge1xuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqIC0gMl0sXG4gICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbaiAtIDJdLFxuICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAyXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXNTdGVwOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2ogLSAxXSxcbiAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqIC0gMV0sXG4gICAgICAgICAgICAgICAgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaiAtIDFdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RlcEFmdGVyOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2pdLFxuICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2pdLFxuICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2pdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5jb3VudFN0ZXBEZWNpbWFscyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc3RlcERlY2ltYWxzKTtcbiAgICB9O1xuXG4gICAgLy8gT3V0c2lkZSB0ZXN0aW5nXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGVwKHRoaXMudG9TdGVwcGluZyh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICAvL2VuZHJlZ2lvblxuXG4gICAgLy9yZWdpb24gT3B0aW9uc1xuXG4gICAgLypcdEV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcydsbCBwcmV2ZW50XG4gICAgICAgIGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcbiAgICAgICAgc3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG4gICAgICAgIG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgICAgICAgIC0gVGhlIHByb3ZpZGVkIHZhbHVlIGZvciB0aGUgb3B0aW9uO1xuICAgICAgICAgICAgLSBBIHJlZmVyZW5jZSB0byB0aGUgb3B0aW9ucyBvYmplY3Q7XG4gICAgICAgICAgICAtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG4gICAgICAgIFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcbiAgICAgICAgb3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG4gICAgICAgIG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuXG4gICAgdmFyIGRlZmF1bHRGb3JtYXR0ZXIgPSB7XG4gICAgICAgIHRvOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUudG9GaXhlZCgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbTogTnVtYmVyXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGVudHJ5KSB7XG4gICAgICAgIC8vIEFueSBvYmplY3Qgd2l0aCBhIHRvIGFuZCBmcm9tIG1ldGhvZCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgIGlmIChpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHN0ZXAgb3B0aW9uIGNhbiBzdGlsbCBiZSB1c2VkIHRvIHNldCBzdGVwcGluZ1xuICAgICAgICAvLyBmb3IgbGluZWFyIHNsaWRlcnMuIE92ZXJ3cml0dGVuIGlmIHNldCBpbiAncmFuZ2UnLlxuICAgICAgICBwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RSYW5nZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyBpcyBub3QgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuICAgICAgICBpZiAoZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIGVxdWFsIHN0YXJ0IG9yIGVuZC5cbiAgICAgICAgaWYgKGVudHJ5Lm1pbiA9PT0gZW50cnkubWF4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFN0YXJ0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2RcbiAgICAgICAgLy8gd2lsbCBhbHdheXMgcHJvdmlkZSBhIHZhbGlkIGxvY2F0aW9uLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cbiAgICAgICAgcGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgc2xpZGVyIGlzIGluaXRpYWxpemVkLCB0aGUgLnZhbCBtZXRob2Qgd2lsbFxuICAgICAgICAvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cbiAgICAgICAgcGFyc2VkLnN0YXJ0ID0gZW50cnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFNuYXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cbiAgICAgICAgcGFyc2VkLnNuYXAgPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdENvbm5lY3QocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgY29ubmVjdCA9IFtmYWxzZV07XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIC8vIE1hcCBsZWdhY3kgb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IFwibG93ZXJcIikge1xuICAgICAgICAgICAgZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuICAgICAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSBcInVwcGVyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0LnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25uZWN0LnB1c2goZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVqZWN0IGludmFsaWQgaW5wdXRcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyArIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nvbm5lY3QnIG9wdGlvbiBkb2Vzbid0IG1hdGNoIGhhbmRsZSBjb3VudC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25uZWN0ID0gZW50cnk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE9yaWVudGF0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG4gICAgICAgIC8vIGFycmF5IHNlbGVjdGlvbi5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5vcnQgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE1hcmdpbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzc3VlICM1ODJcbiAgICAgICAgaWYgKGVudHJ5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cbiAgICAgICAgaWYgKCFwYXJzZWQubWFyZ2luKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtYXJnaW4nIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0TGltaXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpO1xuXG4gICAgICAgIGlmICghcGFyc2VkLmxpbWl0IHx8IHBhcnNlZC5oYW5kbGVzIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgK1xuICAgICAgICAgICAgICAgICAgICBWRVJTSU9OICtcbiAgICAgICAgICAgICAgICAgICAgXCIpOiAnbGltaXQnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycyB3aXRoIDIgb3IgbW9yZSBoYW5kbGVzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFBhZGRpbmcocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkgJiYgIUFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZW50cnkpICYmICEoZW50cnkubGVuZ3RoID09PSAyIHx8IGlzTnVtZXJpYyhlbnRyeVswXSkgfHwgaXNOdW1lcmljKGVudHJ5WzFdKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAnZ2V0TWFyZ2luJyByZXR1cm5zIGZhbHNlIGZvciBpbnZhbGlkIHZhbHVlcy5cbiAgICAgICAgcGFyc2VkLnBhZGRpbmcgPSBbcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeVswXSksIHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnlbMV0pXTtcblxuICAgICAgICBpZiAocGFyc2VkLnBhZGRpbmdbMF0gPT09IGZhbHNlIHx8IHBhcnNlZC5wYWRkaW5nWzFdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZWQucGFkZGluZ1swXSA8IDAgfHwgcGFyc2VkLnBhZGRpbmdbMV0gPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VkLnBhZGRpbmdbMF0gKyBwYXJzZWQucGFkZGluZ1sxXSA+IDEwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3Qgbm90IGV4Y2VlZCAxMDAlIG9mIHRoZSByYW5nZS5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IGRpcmVjdGlvbiBhcyBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeSBwYXJzaW5nLlxuICAgICAgICAvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuICAgICAgICAvLyBoYW5kbGVzIGdldCB0aGUgY29ubmVjdC9iYWNrZ3JvdW5kIGNsYXNzZXMuXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsdHJcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJydGxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZGlyZWN0aW9uJyBvcHRpb24gd2FzIG5vdCByZWNvZ25pemVkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RCZWhhdmlvdXIocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGlucHV0IGlzIGEgc3RyaW5nLlxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdiZWhhdmlvdXInIG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyBvcHRpb25zLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBzdHJpbmcgY29udGFpbnMgYW55IGtleXdvcmRzLlxuICAgICAgICAvLyBOb25lIGFyZSByZXF1aXJlZC5cbiAgICAgICAgdmFyIHRhcCA9IGVudHJ5LmluZGV4T2YoXCJ0YXBcIikgPj0gMDtcbiAgICAgICAgdmFyIGRyYWcgPSBlbnRyeS5pbmRleE9mKFwiZHJhZ1wiKSA+PSAwO1xuICAgICAgICB2YXIgZml4ZWQgPSBlbnRyeS5pbmRleE9mKFwiZml4ZWRcIikgPj0gMDtcbiAgICAgICAgdmFyIHNuYXAgPSBlbnRyeS5pbmRleE9mKFwic25hcFwiKSA+PSAwO1xuICAgICAgICB2YXIgaG92ZXIgPSBlbnRyeS5pbmRleE9mKFwiaG92ZXJcIikgPj0gMDtcbiAgICAgICAgdmFyIHVuY29uc3RyYWluZWQgPSBlbnRyeS5pbmRleE9mKFwidW5jb25zdHJhaW5lZFwiKSA+PSAwO1xuXG4gICAgICAgIGlmIChmaXhlZCkge1xuICAgICAgICAgICAgaWYgKHBhcnNlZC5oYW5kbGVzICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZml4ZWQnIGJlaGF2aW91ciBtdXN0IGJlIHVzZWQgd2l0aCAyIGhhbmRsZXNcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuICAgICAgICAgICAgdGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW5jb25zdHJhaW5lZCAmJiAocGFyc2VkLm1hcmdpbiB8fCBwYXJzZWQubGltaXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd1bmNvbnN0cmFpbmVkJyBiZWhhdmlvdXIgY2Fubm90IGJlIHVzZWQgd2l0aCBtYXJnaW4gb3IgbGltaXRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5ldmVudHMgPSB7XG4gICAgICAgICAgICB0YXA6IHRhcCB8fCBzbmFwLFxuICAgICAgICAgICAgZHJhZzogZHJhZyxcbiAgICAgICAgICAgIGZpeGVkOiBmaXhlZCxcbiAgICAgICAgICAgIHNuYXA6IHNuYXAsXG4gICAgICAgICAgICBob3ZlcjogaG92ZXIsXG4gICAgICAgICAgICB1bmNvbnN0cmFpbmVkOiB1bmNvbnN0cmFpbmVkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFRvb2x0aXBzKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkLnRvb2x0aXBzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBhc0FycmF5KGVudHJ5KTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZC50b29sdGlwcy5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBtdXN0IHBhc3MgYSBmb3JtYXR0ZXIgZm9yIGFsbCBoYW5kbGVzLlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyc2VkLnRvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24oZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZm9ybWF0dGVyICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGZvcm1hdHRlciAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZm9ybWF0dGVyLnRvICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3Rvb2x0aXBzJyBtdXN0IGJlIHBhc3NlZCBhIGZvcm1hdHRlciBvciAnZmFsc2UnLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RBcmlhRm9ybWF0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgcGFyc2VkLmFyaWFGb3JtYXQgPSBlbnRyeTtcbiAgICAgICAgdmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuZm9ybWF0ID0gZW50cnk7XG4gICAgICAgIHZhbGlkYXRlRm9ybWF0KGVudHJ5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0S2V5Ym9hcmRTdXBwb3J0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgcGFyc2VkLmtleWJvYXJkU3VwcG9ydCA9IGVudHJ5O1xuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdrZXlib2FyZFN1cHBvcnQnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0RG9jdW1lbnRFbGVtZW50KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpb24uIFBhc3NlZCB2YWx1ZXMgYXJlIHVzZWQgd2l0aG91dCB2YWxpZGF0aW9uLlxuICAgICAgICBwYXJzZWQuZG9jdW1lbnRFbGVtZW50ID0gZW50cnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdENzc1ByZWZpeChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwic3RyaW5nXCIgJiYgZW50cnkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NQcmVmaXgnIG11c3QgYmUgYSBzdHJpbmcgb3IgYGZhbHNlYC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuY3NzUHJlZml4ID0gZW50cnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdENzc0NsYXNzZXMocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5jc3NQcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzID0ge307XG5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghZW50cnkuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXJzZWQuY3NzQ2xhc3Nlc1trZXldID0gcGFyc2VkLmNzc1ByZWZpeCArIGVudHJ5W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWQuY3NzQ2xhc3NlcyA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGVzdCBhbGwgZGV2ZWxvcGVyIHNldHRpbmdzIGFuZCBwYXJzZSB0byBhc3N1bXB0aW9uLXNhZmUgdmFsdWVzLlxuICAgIGZ1bmN0aW9uIHRlc3RPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVG8gcHJvdmUgYSBmaXggZm9yICM1MzcsIGZyZWV6ZSBvcHRpb25zIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICAgICAgICAvLyBPYmplY3QuZnJlZXplKG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBwYXJzZWQgPSB7XG4gICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICBsaW1pdDogMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgIGFyaWFGb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXJcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUZXN0cyBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByZXNlbnRlZCBoZXJlLlxuICAgICAgICB2YXIgdGVzdHMgPSB7XG4gICAgICAgICAgICBzdGVwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U3RlcCB9LFxuICAgICAgICAgICAgc3RhcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdFN0YXJ0IH0sXG4gICAgICAgICAgICBjb25uZWN0OiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHsgcjogdHJ1ZSwgdDogdGVzdERpcmVjdGlvbiB9LFxuICAgICAgICAgICAgc25hcDogeyByOiBmYWxzZSwgdDogdGVzdFNuYXAgfSxcbiAgICAgICAgICAgIGFuaW1hdGU6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uIH0sXG4gICAgICAgICAgICByYW5nZTogeyByOiB0cnVlLCB0OiB0ZXN0UmFuZ2UgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IHI6IGZhbHNlLCB0OiB0ZXN0T3JpZW50YXRpb24gfSxcbiAgICAgICAgICAgIG1hcmdpbjogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LFxuICAgICAgICAgICAgbGltaXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RMaW1pdCB9LFxuICAgICAgICAgICAgcGFkZGluZzogeyByOiBmYWxzZSwgdDogdGVzdFBhZGRpbmcgfSxcbiAgICAgICAgICAgIGJlaGF2aW91cjogeyByOiB0cnVlLCB0OiB0ZXN0QmVoYXZpb3VyIH0sXG4gICAgICAgICAgICBhcmlhRm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0QXJpYUZvcm1hdCB9LFxuICAgICAgICAgICAgZm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG4gICAgICAgICAgICB0b29sdGlwczogeyByOiBmYWxzZSwgdDogdGVzdFRvb2x0aXBzIH0sXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdEtleWJvYXJkU3VwcG9ydCB9LFxuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50OiB7IHI6IGZhbHNlLCB0OiB0ZXN0RG9jdW1lbnRFbGVtZW50IH0sXG4gICAgICAgICAgICBjc3NQcmVmaXg6IHsgcjogdHJ1ZSwgdDogdGVzdENzc1ByZWZpeCB9LFxuICAgICAgICAgICAgY3NzQ2xhc3NlczogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzQ2xhc3NlcyB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29ubmVjdDogZmFsc2UsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICAgICAgICBiZWhhdmlvdXI6IFwidGFwXCIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICBjc3NQcmVmaXg6IFwibm9VaS1cIixcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwidGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgYmFzZTogXCJiYXNlXCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm9yaWdpblwiLFxuICAgICAgICAgICAgICAgIGhhbmRsZTogXCJoYW5kbGVcIixcbiAgICAgICAgICAgICAgICBoYW5kbGVMb3dlcjogXCJoYW5kbGUtbG93ZXJcIixcbiAgICAgICAgICAgICAgICBoYW5kbGVVcHBlcjogXCJoYW5kbGUtdXBwZXJcIixcbiAgICAgICAgICAgICAgICB0b3VjaEFyZWE6IFwidG91Y2gtYXJlYVwiLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWw6IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdDogXCJjb25uZWN0XCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdHM6IFwiY29ubmVjdHNcIixcbiAgICAgICAgICAgICAgICBsdHI6IFwibHRyXCIsXG4gICAgICAgICAgICAgICAgcnRsOiBcInJ0bFwiLFxuICAgICAgICAgICAgICAgIHRleHREaXJlY3Rpb25MdHI6IFwidHh0LWRpci1sdHJcIixcbiAgICAgICAgICAgICAgICB0ZXh0RGlyZWN0aW9uUnRsOiBcInR4dC1kaXItcnRsXCIsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBcImRyYWdnYWJsZVwiLFxuICAgICAgICAgICAgICAgIGRyYWc6IFwic3RhdGUtZHJhZ1wiLFxuICAgICAgICAgICAgICAgIHRhcDogXCJzdGF0ZS10YXBcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IFwiYWN0aXZlXCIsXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogXCJ0b29sdGlwXCIsXG4gICAgICAgICAgICAgICAgcGlwczogXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgcGlwc0hvcml6b250YWw6IFwicGlwcy1ob3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgICAgcGlwc1ZlcnRpY2FsOiBcInBpcHMtdmVydGljYWxcIixcbiAgICAgICAgICAgICAgICBtYXJrZXI6IFwibWFya2VyXCIsXG4gICAgICAgICAgICAgICAgbWFya2VySG9yaXpvbnRhbDogXCJtYXJrZXItaG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgIG1hcmtlclZlcnRpY2FsOiBcIm1hcmtlci12ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgIG1hcmtlck5vcm1hbDogXCJtYXJrZXItbm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgbWFya2VyTGFyZ2U6IFwibWFya2VyLWxhcmdlXCIsXG4gICAgICAgICAgICAgICAgbWFya2VyU3ViOiBcIm1hcmtlci1zdWJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlSG9yaXpvbnRhbDogXCJ2YWx1ZS1ob3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgICAgdmFsdWVWZXJ0aWNhbDogXCJ2YWx1ZS12ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlTm9ybWFsOiBcInZhbHVlLW5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlTGFyZ2U6IFwidmFsdWUtbGFyZ2VcIixcbiAgICAgICAgICAgICAgICB2YWx1ZVN1YjogXCJ2YWx1ZS1zdWJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIGFsbCBvcHRpb25zIHRocm91Z2ggYSB0ZXN0aW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgY29ycmVjdFxuICAgICAgICAvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cbiAgICAgICAgLy8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG4gICAgICAgIE9iamVjdC5rZXlzKHRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBvcHRpb24gaXNuJ3Qgc2V0LCBidXQgaXQgaXMgcmVxdWlyZWQsIHRocm93IGFuIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFpc1NldChvcHRpb25zW25hbWVdKSAmJiBkZWZhdWx0c1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3RzW25hbWVdLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVzdHNbbmFtZV0udChwYXJzZWQsICFpc1NldChvcHRpb25zW25hbWVdKSA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG4gICAgICAgIHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuXG4gICAgICAgIC8vIEFsbCByZWNlbnQgYnJvd3NlcnMgYWNjZXB0IHVucHJlZml4ZWQgdHJhbnNmb3JtLlxuICAgICAgICAvLyBXZSBuZWVkIC1tcy0gZm9yIElFOSBhbmQgLXdlYmtpdC0gZm9yIG9sZGVyIEFuZHJvaWQ7XG4gICAgICAgIC8vIEFzc3VtZSB1c2Ugb2YgLXdlYmtpdC0gaWYgdW5wcmVmaXhlZCBhbmQgLW1zLSBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD10cmFuc2Zvcm1zMmRcbiAgICAgICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbXNQcmVmaXggPSBkLnN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBub1ByZWZpeCA9IGQuc3R5bGUudHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcGFyc2VkLnRyYW5zZm9ybVJ1bGUgPSBub1ByZWZpeCA/IFwidHJhbnNmb3JtXCIgOiBtc1ByZWZpeCA/IFwibXNUcmFuc2Zvcm1cIiA6IFwid2Via2l0VHJhbnNmb3JtXCI7XG5cbiAgICAgICAgLy8gUGlwcyBkb24ndCBtb3ZlLCBzbyB3ZSBjYW4gcGxhY2UgdGhlbSB1c2luZyBsZWZ0L3RvcC5cbiAgICAgICAgdmFyIHN0eWxlcyA9IFtbXCJsZWZ0XCIsIFwidG9wXCJdLCBbXCJyaWdodFwiLCBcImJvdHRvbVwiXV07XG5cbiAgICAgICAgcGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICAgICAgICB2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cbiAgICAgICAgLy8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG5cbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcblxuICAgICAgICAvLyBTbGlkZXIgc3RhdGUgdmFsdWVzXG4gICAgICAgIHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG4gICAgICAgIHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfSGFuZGxlTnVtYmVycyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXG4gICAgICAgIC8vIEV4cG9zZWQgQVBJXG4gICAgICAgIHZhciBzY29wZV9TZWxmO1xuXG4gICAgICAgIC8vIERvY3VtZW50IE5vZGVzXG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5kb2N1bWVudEVsZW1lbnQgfHwgc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgLy8gUGlwcyBjb25zdGFudHNcbiAgICAgICAgdmFyIFBJUFNfTk9ORSA9IC0xO1xuICAgICAgICB2YXIgUElQU19OT19WQUxVRSA9IDA7XG4gICAgICAgIHZhciBQSVBTX0xBUkdFX1ZBTFVFID0gMTtcbiAgICAgICAgdmFyIFBJUFNfU01BTExfVkFMVUUgPSAyO1xuXG4gICAgICAgIC8vIEZvciBob3Jpem9udGFsIHNsaWRlcnMgaW4gc3RhbmRhcmQgbHRyIGRvY3VtZW50cyxcbiAgICAgICAgLy8gbWFrZSAubm9VaS1vcmlnaW4gb3ZlcmZsb3cgdG8gdGhlIGxlZnQgc28gdGhlIGRvY3VtZW50IGRvZXNuJ3Qgc2Nyb2xsLlxuICAgICAgICB2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gc2NvcGVfRG9jdW1lbnQuZGlyID09PSBcInJ0bFwiIHx8IG9wdGlvbnMub3J0ID09PSAxID8gMCA6IDEwMDtcblxuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuICAgICAgICBmdW5jdGlvbiBhZGRPcmlnaW4oYmFzZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGFkZE5vZGVUbyhvcmlnaW4sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGUpO1xuXG4gICAgICAgICAgICBhZGROb2RlVG8oaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMudG91Y2hBcmVhKTtcblxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInNsaWRlclwiKTtcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLW9yaWVudGF0aW9uXCIsIG9wdGlvbnMub3J0ID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ29ubmVjdChiYXNlLCBhZGQpIHtcbiAgICAgICAgICAgIGlmICghYWRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBoYW5kbGVzIHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgZnVuY3Rpb24gYWRkRWxlbWVudHMoY29ubmVjdE9wdGlvbnMsIGJhc2UpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0QmFzZSA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdHMpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cyA9IFtdO1xuXG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XG5cbiAgICAgICAgICAgIC8vIFs6Ojo6Tz09PT1PPT09PU89PT09XVxuICAgICAgICAgICAgLy8gY29ubmVjdE9wdGlvbnMgPSBbMCwgMSwgMSwgMV1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChjb25uZWN0QmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gYWRkU2xpZGVyKGFkZFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMub3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZlcnRpY2FsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRleHREaXJlY3Rpb24gPSBnZXRDb21wdXRlZFN0eWxlKGFkZFRhcmdldCkuZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAodGV4dERpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25SdGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uTHRyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvb2x0aXAoaGFuZGxlLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGhhbmRsZS5maXJzdENoaWxkLCBvcHRpb25zLmNzc0NsYXNzZXMudG9vbHRpcCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc1NsaWRlckRpc2FibGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGUgdGhlIHNsaWRlciBkcmFnZ2luZyBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgIGZ1bmN0aW9uIGlzSGFuZGxlRGlzYWJsZWQoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlT3JpZ2luID0gc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU9yaWdpbi5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXBzKCkge1xuICAgICAgICAgICAgaWYgKHNjb3BlX1Rvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50KHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuICAgICAgICBmdW5jdGlvbiB0b29sdGlwcygpIHtcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG5cbiAgICAgICAgICAgIC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG4gICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuXG4gICAgICAgICAgICBiaW5kRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIiwgZnVuY3Rpb24odmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVfVG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIsIGZ1bmN0aW9uKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEFyaWEgVmFsdWVzIGZvciBhbGwgaGFuZGxlcywgYXMgYSBjaGFuZ2UgaW4gb25lIGNoYW5nZXMgbWluIGFuZCBtYXggdmFsdWVzIGZvciB0aGUgbmV4dC5cbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaW5kZXgsIDAsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAxMDAsIHRydWUsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBwb3NpdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdHRlZCB2YWx1ZSBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG9wdGlvbnMuYXJpYUZvcm1hdC50byh1bmVuY29kZWRbaW5kZXhdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdG8gc2xpZGVyIHJhbmdlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWluKS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWF4KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobm93KS50b0ZpeGVkKDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsIG1pbik7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsIG1heCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsIG5vdyk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLCB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0R3JvdXAobW9kZSwgdmFsdWVzLCBzdGVwcGVkKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHJhbmdlLlxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwicmFuZ2VcIiB8fCBtb2RlID09PSBcInN0ZXBzXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiY291bnRcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3ZhbHVlcycgKD49IDIpIHJlcXVpcmVkIGZvciBtb2RlICdjb3VudCcuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSAwIC0gMTAwIGluICdjb3VudCcgcGFydHMuXG4gICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gdmFsdWVzIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgc3ByZWFkID0gMTAwIC8gaW50ZXJ2YWw7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLlxuICAgICAgICAgICAgICAgIHdoaWxlIChpbnRlcnZhbC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbnRlcnZhbF0gPSBpbnRlcnZhbCAqIHNwcmVhZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCgxMDApO1xuXG4gICAgICAgICAgICAgICAgbW9kZSA9IFwicG9zaXRpb25zXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInBvc2l0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFwIGFsbCBwZXJjZW50YWdlcyB0byBvbi1yYW5nZSB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInZhbHVlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAoc3RlcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZChkZW5zaXR5LCBtb2RlLCBncm91cCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZmxvYXRpbmcgcG9pbnQgdmFyaWFuY2UgYnkgZHJvcHBpbmcgdGhlIHNtYWxsZXN0IGRlY2ltYWwgcGxhY2VzLlxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykgLyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJldlBjdCA9IDA7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGdyb3VwLCBzb3J0IGl0IGFuZCBmaWx0ZXIgYXdheSBhbGwgZHVwbGljYXRlcy5cbiAgICAgICAgICAgIGdyb3VwID0gdW5pcXVlKFxuICAgICAgICAgICAgICAgIGdyb3VwLnNsaWNlKCkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChncm91cFswXSAhPT0gZmlyc3RJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlnbm9yZUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGlmIChncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZ25vcmVMYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXAuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHE7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBncm91cFtpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgdmFyIHBjdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIHBjdFBvcztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3RlcHMgPSBtb2RlID09PSBcInN0ZXBzXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBhICdmdWxsJyBzdGVwLlxuICAgICAgICAgICAgICAgIGlmICghc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gaGlnaCAtIGxvdztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJZiBoaWdoIGlzIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIGxhc3Qgc3VicmFuZ2UuIEluZGV4IDAgaXMgYWxyZWFkeSBoYW5kbGVkLlxuICAgICAgICAgICAgICAgIGlmIChsb3cgPT09IGZhbHNlIHx8IGhpZ2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHN0ZXBzIGluIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBsb3c7IGkgPD0gaGlnaDsgaSA9IHNhZmVJbmNyZW1lbnQoaSwgc3RlcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgY3VycmVudCBzdGVwLFxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHNpemUgZm9yIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgbmV3UGN0ID0gc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyhpKTtcbiAgICAgICAgICAgICAgICAgICAgcGN0RGlmZmVyZW5jZSA9IG5ld1BjdCAtIHByZXZQY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gZGVuc2l0eTtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kaXZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgc3RlcFNpemUgPSBwY3REaWZmZXJlbmNlIC8gcmVhbFN0ZXBzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERpdmlkZSBhbGwgcG9pbnRzIGV2ZW5seSwgYWRkaW5nIHRoZSBjb3JyZWN0IG51bWJlciB0byB0aGlzIHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgICAgICAvLyBSdW4gdXAgdG8gPD0gc28gdGhhdCAxMDAlIGdldHMgYSBwb2ludCwgZXZlbnQgaWYgaWdub3JlTGFzdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAocSA9IDE7IHEgPD0gcmVhbFN0ZXBzOyBxICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByYXRpbyBiZXR3ZWVuIHRoZSByb3VuZGVkIHZhbHVlIGFuZCB0aGUgYWN0dWFsIHNpemUgbWlnaHQgYmUgfjElIG9mZi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcnJlY3QgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJ5IHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwZXIgc3VicmFuZ2UuIGRlbnNpdHkgPSAxIHdpbGwgcmVzdWx0IGluIDEwMCBwb2ludHMgb24gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxsIHJhbmdlLCAyIGZvciA1MCwgNCBmb3IgMjUsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBjdFBvcyA9IHByZXZQY3QgKyBxICogc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzW3BjdFBvcy50b0ZpeGVkKDUpXSA9IFtzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcocGN0UG9zKSwgMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBncm91cC5pbmRleE9mKGkpID4gLTEgPyBQSVBTX0xBUkdFX1ZBTFVFIDogaXNTdGVwcyA/IFBJUFNfU01BTExfVkFMVUUgOiBQSVBTX05PX1ZBTFVFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ICYmIGlnbm9yZUZpcnN0ICYmIGkgIT09IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgJ3R5cGUnIG9mIHRoaXMgcG9pbnQuIDAgPSBwbGFpbiwgMSA9IHJlYWwgdmFsdWUsIDIgPSBzdGVwIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQY3QgPSBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlckZ1bmMsIGZvcm1hdHRlcikge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTaXplQ2xhc3Nlc1tQSVBTX05PX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZU5vcm1hbDtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZTtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19TTUFMTF9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWI7XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXJTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19OT19WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2U7XG4gICAgICAgICAgICBtYXJrZXJTaXplQ2xhc3Nlc1tQSVBTX1NNQUxMX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWI7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVWZXJ0aWNhbF07XG4gICAgICAgICAgICB2YXIgbWFya2VyT3JpZW50YXRpb25DbGFzc2VzID0gW29wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyVmVydGljYWxdO1xuXG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzc2VzKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZSArIFwiIFwiICsgb3JpZW50YXRpb25DbGFzc2VzW29wdGlvbnMub3J0XSArIFwiIFwiICsgc2l6ZUNsYXNzZXNbdHlwZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFNwcmVhZChvZmZzZXQsIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxuICAgICAgICAgICAgICAgIHR5cGUgPSBmaWx0ZXJGdW5jID8gZmlsdGVyRnVuYyh2YWx1ZSwgdHlwZSkgOiB0eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFBJUFNfTk9ORSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgbWFya2VyIGZvciBldmVyeSBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlcik7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuXG4gICAgICAgICAgICAgICAgLy8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPiBQSVBTX05PX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGZvcm1hdHRlci50byh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBlbmQgYWxsIHBvaW50cy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBhZGRTcHJlYWQob2Zmc2V0LCBzcHJlYWRbb2Zmc2V0XVswXSwgc3ByZWFkW29mZnNldF1bMV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9QaXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcbiAgICAgICAgICAgICAgICBzY29wZV9QaXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBpcHMoZ3JpZCkge1xuICAgICAgICAgICAgLy8gRml4ICM2NjlcbiAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcblxuICAgICAgICAgICAgdmFyIG1vZGUgPSBncmlkLm1vZGU7XG4gICAgICAgICAgICB2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGdyaWQuZmlsdGVyIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdyaWQudmFsdWVzIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBnZXRHcm91cChtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQpO1xuICAgICAgICAgICAgdmFyIHNwcmVhZCA9IGdlbmVyYXRlU3ByZWFkKGRlbnNpdHksIG1vZGUsIGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBncmlkLmZvcm1hdCB8fCB7XG4gICAgICAgICAgICAgICAgdG86IE1hdGgucm91bmRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlX1BpcHMgPSBzY29wZV9UYXJnZXQuYXBwZW5kQ2hpbGQoYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlciwgZm9ybWF0KSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzY29wZV9QaXBzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IFwib2Zmc2V0XCIgKyBbXCJXaWR0aFwiLCBcIkhlaWdodFwiXVtvcHRpb25zLm9ydF07XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5vcnQgPT09IDAgPyByZWN0LndpZHRoIHx8IHNjb3BlX0Jhc2VbYWx0XSA6IHJlY3QuaGVpZ2h0IHx8IHNjb3BlX0Jhc2VbYWx0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcblxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkb05vdFJlamVjdCBpcyBwYXNzZWQgYnkgYWxsIGVuZCBldmVudHMgdG8gbWFrZSBzdXJlIHJlbGVhc2VkIHRvdWNoZXNcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHJlamVjdGVkLCBsZWF2aW5nIHRoZSBzbGlkZXIgXCJzdHVja1wiIHRvIHRoZSBjdXJzb3I7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2xpZGVyRGlzYWJsZWQoKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob3ZlciAmJiBlLmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuICAgICAgICAgICAgICAgIC8vIGlPUyBzYWZhcmkgZG9lcyBub3QsIHNvIGl0IGRvZXNuJ3QgZ2V0IHRvIGJlbmVmaXQgZnJvbSBwYXNzaXZlIHNjcm9sbGluZy4gaU9TIGRvZXMgc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uLCBidXQgdGhhdCBhbGxvd3MgcGFubmluZywgd2hpY2ggYnJlYWtzXG4gICAgICAgICAgICAgICAgLy8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzMzExMlxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNQYXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSwgZGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBCaW5kIGEgY2xvc3VyZSBvbiB0aGUgdGFyZ2V0IGZvciBldmVyeSBldmVudCB0eXBlLlxuICAgICAgICAgICAgZXZlbnRzLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvdmlkZSBhIGNsZWFuIGV2ZW50IHdpdGggc3RhbmRhcmRpemVkIG9mZnNldCB2YWx1ZXMuXG4gICAgICAgIGZ1bmN0aW9uIGZpeEV2ZW50KGUsIHBhZ2VPZmZzZXQsIGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmVcbiAgICAgICAgICAgIC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyBtYWRlIG9uIGFuIGV2ZW50IHNwZWNpZmljIGJhc2lzLlxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKFwibW91c2VcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSA9PT0gMDtcblxuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICB2YXIgeTtcblxuICAgICAgICAgICAgLy8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xuICAgICAgICAgICAgaWYgKGUudHlwZS5pbmRleE9mKFwiTVNQb2ludGVyXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZCBhYm91dCBpcyB0aGUgdG91Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgb24gdG9wIG9mIGl0LlxuICAgICAgICAgICAgaWYgKHRvdWNoKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICAgIHZhciBpc1RvdWNoT25UYXJnZXQgPSBmdW5jdGlvbihjaGVja1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1RvdWNoLnRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKGNoZWNrVG91Y2gudGFyZ2V0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrVG91Y2gudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgY2hlY2tUb3VjaC50YXJnZXQuc2hhZG93Um9vdC5jb250YWlucyhldmVudFRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiBvbmUgdG91Y2ggcGVyIGhhbmRsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHRoZSBvdGhlciBjYXNlcywgZmluZCBvbiBjaGFuZ2VkVG91Y2hlcyBpcyBlbm91Z2guXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUb3VjaCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZS5jaGFuZ2VkVG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFRvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoc2NvcGVfRG9jdW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAobW91c2UgfHwgcG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHggPSBlLmNsaWVudFggKyBwYWdlT2Zmc2V0Lng7XG4gICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSArIHBhZ2VPZmZzZXQueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuXG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zbGF0ZSBhIGNvb3JkaW5hdGUgaW4gdGhlIGRvY3VtZW50IHRvIGEgcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGNQb2ludFRvUGVyY2VudGFnZShjYWxjUG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNhbGNQb2ludCAtIG9mZnNldChzY29wZV9CYXNlLCBvcHRpb25zLm9ydCk7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSAobG9jYXRpb24gKiAxMDApIC8gYmFzZVNpemUoKTtcblxuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEhhbmRsZShjbGlja2VkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBzbWFsbGVzdERpZmZlcmVuY2UgPSAxMDA7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZWQgaGFuZGxlcyBhcmUgaWdub3JlZFxuICAgICAgICAgICAgICAgIGlmIChpc0hhbmRsZURpc2FibGVkKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZVBvc2l0aW9uID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlID0gTWF0aC5hYnMoaGFuZGxlUG9zaXRpb24gLSBjbGlja2VkUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlmZmVyZW5jZSB3aXRoIHRoaXMgaGFuZGxlIGlzIHNtYWxsZXIgdGhhbiB0aGUgcHJldmlvdXNseSBjaGVja2VkIGhhbmRsZVxuICAgICAgICAgICAgICAgIHZhciBpc0Nsb3NlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8IHNtYWxsZXN0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXJBZnRlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8PSBzbWFsbGVzdERpZmZlcmVuY2UgJiYgY2xpY2tlZFBvc2l0aW9uID4gaGFuZGxlUG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDbG9zZXIgfHwgaXNDbG9zZXJBZnRlciB8fCBjbGlja0F0RWRnZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXIgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaWZmZXJlbmNlID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGRvY3VtZW50TGVhdmUoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRFbmQoZXZlbnQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBtb3ZpbmcgdXAgb3IgZG93blxuICAgICAgICAgICAgdmFyIG1vdmVtZW50ID0gKG9wdGlvbnMuZGlyID8gLTEgOiAxKSAqIChldmVudC5jYWxjUG9pbnQgLSBkYXRhLnN0YXJ0Q2FsY1BvaW50KTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgbW92ZW1lbnQgaW50byBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNsaWRlciB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xuXG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cywgd2hpY2ggYXJlIGFkZGVkIG9uICdzdGFydCcuXG4gICAgICAgICAgICBkYXRhLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfQm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgcHJldmVudERlZmF1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50U3RhcnQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBldmVudCBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGVOdW1iZXJzLnNvbWUoaXNIYW5kbGVEaXNhYmxlZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGU7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcblxuICAgICAgICAgICAgICAgIGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgKz0gMTtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIGhhbmRsZSBhcyAnYWN0aXZlJyBzbyBpdCBjYW4gYmUgc3R5bGVkLlxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAvLyBSZWNvcmQgdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLlxuICAgICAgICAgICAgdmFyIG1vdmVFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMubW92ZSwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudE1vdmUsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXG4gICAgICAgICAgICAgICAgLy8gcmVseWluZyBvbiBpdCB0byBleHRyYWN0IHRhcmdldCB0b3VjaGVzLlxuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZW5kRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLmVuZCwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudEVuZCwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBvdXRFdmVudCA9IGF0dGFjaEV2ZW50KFwibW91c2VvdXRcIiwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudExlYXZlLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZG9Ob3RSZWplY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG5cbiAgICAgICAgICAgIC8vIFRleHQgc2VsZWN0aW9uIGlzbid0IGFuIGlzc3VlIG9uIHRvdWNoIGRldmljZXMsXG4gICAgICAgICAgICAvLyBzbyBhZGRpbmcgY3Vyc29yIHN0eWxlcyBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgICAgIGlmIChldmVudC5jdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSAnSScgY3Vyc29yIGFuZCBleHRlbmQgdGhlIHJhbmdlLWRyYWcgY3Vyc29yLlxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInN0YXJ0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZ2V0Q2xvc2VzdEhhbmRsZShwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIC8vIFRhY2tsZSB0aGUgY2FzZSB0aGF0IGFsbCBoYW5kbGVzIGFyZSAnZGlzYWJsZWQnLlxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnRzLnNuYXApIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudEhvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblxuICAgICAgICAgICAgdmFyIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChwcm9wb3NhbCk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24odGFyZ2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJob3ZlclwiID09PSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHNjb3BlX1NlbGYsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaG9yaXpvbnRhbEtleXMgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIl07XG4gICAgICAgICAgICB2YXIgdmVydGljYWxLZXlzID0gW1wiRG93blwiLCBcIlVwXCJdO1xuICAgICAgICAgICAgdmFyIGxhcmdlU3RlcEtleXMgPSBbXCJQYWdlRG93blwiLCBcIlBhZ2VVcFwiXTtcbiAgICAgICAgICAgIHZhciBlZGdlS2V5cyA9IFtcIkhvbWVcIiwgXCJFbmRcIl07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciAmJiAhb3B0aW9ucy5vcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhbiByaWdodC10by1sZWZ0IHNsaWRlciwgdGhlIGxlZnQgYW5kIHJpZ2h0IGtleXMgYWN0IGludmVydGVkXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdHJpcCBcIkFycm93XCIgZm9yIElFIGNvbXBhdGliaWxpdHkuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2tleVxuICAgICAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS5yZXBsYWNlKFwiQXJyb3dcIiwgXCJcIik7XG5cbiAgICAgICAgICAgIHZhciBpc0xhcmdlRG93biA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1swXTtcbiAgICAgICAgICAgIHZhciBpc0xhcmdlVXAgPSBrZXkgPT09IGxhcmdlU3RlcEtleXNbMV07XG4gICAgICAgICAgICB2YXIgaXNEb3duID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMF0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1swXSB8fCBpc0xhcmdlRG93bjtcbiAgICAgICAgICAgIHZhciBpc1VwID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMV0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1sxXSB8fCBpc0xhcmdlVXA7XG4gICAgICAgICAgICB2YXIgaXNNaW4gPSBrZXkgPT09IGVkZ2VLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTWF4ID0ga2V5ID09PSBlZGdlS2V5c1sxXTtcblxuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgdG87XG5cbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gNTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaXNEb3duID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBzID0gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tkaXJlY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm8gc3RlcCBzZXQsIHVzZSB0aGUgZGVmYXVsdCBvZiAxMCUgb2YgdGhlIHN1Yi1yYW5nZVxuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gc2NvcGVfU3BlY3RydW0uZ2V0RGVmYXVsdFN0ZXAoc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0sIGlzRG93biwgMTApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICAgICAgICAgIHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVjcmVtZW50IGZvciBkb3duIHN0ZXBzXG4gICAgICAgICAgICAgICAgc3RlcCA9IChpc0Rvd24gPyAtMSA6IDEpICogc3RlcDtcblxuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01heCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFtvcHRpb25zLnNwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhvbWUga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlyZSBob3ZlciBldmVudHNcbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbihjb25uZWN0LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdCA9PT0gZmFsc2UgfHwgaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVCZWZvcmUgPSBzY29wZV9IYW5kbGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIb2xkZXJzID0gW2Nvbm5lY3RdO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXggLSAxLCBpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBldmVudCBib3VuZCBpcyAndXBkYXRlLCcgZmlyZSBpdCBpbW1lZGlhdGVseSBmb3IgYWxsIGhhbmRsZXMuXG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5hbWVzcGFjZWRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnN1YnN0cmluZyhldmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCghZXZlbnQgfHwgZXZlbnQgPT09IHRFdmVudCkgJiYgKCFuYW1lc3BhY2UgfHwgbmFtZXNwYWNlID09PSB0TmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXh0ZXJuYWwgZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50TmFtZSwgaGFuZGxlTnVtYmVyLCB0YXApIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbih0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2xpZGVyIHB1YmxpYyBBUEkgYXMgdGhlIHNjb3BlICgndGhpcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuLWZvcm1hdHRlZCBzbGlkZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNsaWRlciBwdWJsaWMgQVBJIHRvIGFuIGFjY2Vzc2libGUgcGFyYW1ldGVyIHdoZW4gdGhpcyBpcyB1bmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGZcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24ocmVmZXJlbmNlLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBnZXRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLCBsaW1pdCBtb3ZlbWVudCB0byB0aGUgb3RoZXIgaGFuZGxlLlxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG1hcmdpbiBvcHRpb24gYnkgYWRkaW5nIGl0IHRvIHRoZSBoYW5kbGUgcG9zaXRpb25zLlxuICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSAmJiAhb3B0aW9ucy5ldmVudHMudW5jb25zdHJhaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0gKyBvcHRpb25zLm1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyICsgMV0gLSBvcHRpb25zLm1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcbiAgICAgICAgICAgIC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92YWJsZS5cbiAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0gKyBvcHRpb25zLmxpbWl0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobG9va0ZvcndhcmQgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSAtIG9wdGlvbnMubGltaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGhlIHBhZGRpbmcgb3B0aW9uIGtlZXBzIHRoZSBoYW5kbGVzIGEgY2VydGFpbiBkaXN0YW5jZSBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gZWRnZXMgb2YgdGhlIHNsaWRlci4gUGFkZGluZyBtdXN0IGJlID4gMC5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIG9wdGlvbnMucGFkZGluZ1swXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5taW4odG8sIDEwMCAtIG9wdGlvbnMucGFkZGluZ1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXG4gICAgICAgICAgICBpZiAodG8gPT09IHJlZmVyZW5jZVtoYW5kbGVOdW1iZXJdICYmICFnZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2VcbiAgICAgICAgLy8gKGJvb2wsICUgdG8gbW92ZSwgWyUgd2hlcmUgaGFuZGxlIHN0YXJ0ZWQsIC4uLl0sIFtpbmRleCBpbiBzY29wZV9IYW5kbGVzLCAuLi5dKVxuICAgICAgICBmdW5jdGlvbiBtb3ZlSGFuZGxlcyh1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbHMgPSBsb2NhdGlvbnMuc2xpY2UoKTtcblxuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG5cbiAgICAgICAgICAgIC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSB3aGljaCBoYW5kbGUgaXMgJ2xlYWRpbmcnLlxuICAgICAgICAgICAgLy8gSWYgdGhhdCBvbmUgY2FuJ3QgbW92ZSB0aGUgc2Vjb25kIGNhbid0IGVpdGhlci5cbiAgICAgICAgICAgIGlmICh1cHdhcmQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBiW29dLFxuICAgICAgICAgICAgICAgICAgICAgICAgZltvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBvbmUgb2YgdGhlIGhhbmRsZXMgY2FuJ3QgbW92ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSB0byAtIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gPSB0bztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYiA9IGYgPSBbdHJ1ZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBTdGVwIDI6IFRyeSB0byBzZXQgdGhlIGhhbmRsZXMgd2l0aCB0aGUgZm91bmQgcGVyY2VudGFnZVxuICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RlcCAzOiBJZiBhIGhhbmRsZSBtb3ZlZCwgZmlyZSBldmVudHNcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUYWtlcyBhIGJhc2UgdmFsdWUgYW5kIGFuIG9mZnNldC4gVGhpcyBvZmZzZXQgaXMgdXNlZCBmb3IgdGhlIGNvbm5lY3QgYmFyIHNpemUuXG4gICAgICAgIC8vIEluIHRoZSBpbml0aWFsIGRlc2lnbiBmb3IgdGhpcyBmZWF0dXJlLCB0aGUgb3JpZ2luIGVsZW1lbnQgd2FzIDElIHdpZGUuXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIGEgcm91bmRpbmcgYnVnIGluIENocm9tZSBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmVcbiAgICAgICAgLy8gaW4gdGhpcyBtYW5uZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc5ODIyM1xuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGlyID8gMTAwIC0gYSAtIGIgOiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG4gICAgICAgICAgICBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IDEwICogKHRyYW5zZm9ybURpcmVjdGlvbih0bywgMCkgLSBzY29wZV9EaXJPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVJ1bGUgPSBcInRyYW5zbGF0ZShcIiArIGluUnVsZU9yZGVyKHRyYW5zbGF0aW9uICsgXCIlXCIsIFwiMFwiKSArIFwiKVwiO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGVbb3B0aW9ucy50cmFuc2Zvcm1SdWxlXSA9IHRyYW5zbGF0ZVJ1bGU7XG5cbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcbiAgICAgICAgLy8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG4gICAgICAgIC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cbiAgICAgICAgZnVuY3Rpb24gc2V0WmluZGV4KCkge1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBkaXIgPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA+IDUwID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHZhciB6SW5kZXggPSAzICsgKHNjb3BlX0hhbmRsZXMubGVuZ3RoICsgZGlyICogaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGUuekluZGV4ID0gekluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC5cbiAgICAgICAgZnVuY3Rpb24gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQpIHtcbiAgICAgICAgICAgIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzdHlsZSBhdHRyaWJ1dGUgZm9yIGNvbm5lY3Qgbm9kZXNcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29ubmVjdChpbmRleCkge1xuICAgICAgICAgICAgLy8gU2tpcCBjb25uZWN0cyBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2NvcGVfQ29ubmVjdHNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBoID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcblxuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHNbaW5kZXhdLnN0eWxlW29wdGlvbnMudHJhbnNmb3JtUnVsZV0gPSB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJzZXMgdmFsdWUgcGFzc2VkIHRvIC5zZXQgbWV0aG9kLiBSZXR1cm5zIGN1cnJlbnQgdmFsdWUgaWYgbm90IHBhcnNlLWFibGUuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVUb1ZhbHVlKHRvLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIC8vIFNldHRpbmcgd2l0aCBudWxsIGluZGljYXRlcyBhbiAnaWdub3JlJy5cbiAgICAgICAgICAgIC8vIElucHV0dGluZyAnZmFsc2UnIGlzIGludmFsaWQuXG4gICAgICAgICAgICBpZiAodG8gPT09IG51bGwgfHwgdG8gPT09IGZhbHNlIHx8IHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGEgZm9ybWF0dGVkIG51bWJlciB3YXMgcGFzc2VkLCBhdHRlbXB0IHRvIGRlY29kZSBpdC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0byA9IFN0cmluZyh0byk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICAvLyBJZiBwYXJzaW5nIHRoZSBudW1iZXIgZmFpbGVkLCB1c2UgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlIHx8IGlzTmFOKHRvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBzbGlkZXIgdmFsdWUuXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0KGlucHV0LCBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhc0FycmF5KGlucHV0KTtcbiAgICAgICAgICAgIHZhciBpc0luaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gRXZlbnQgZmlyZXMgYnkgZGVmYXVsdFxuICAgICAgICAgICAgZmlyZVNldEV2ZW50ID0gZmlyZVNldEV2ZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFmaXJlU2V0RXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIEFuaW1hdGlvbiBpcyBvcHRpb25hbC5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCB2YWx1ZXMgd2VyZSBzZXQgYmVmb3JlIHVzaW5nIGFuaW1hdGVkIHBsYWNlbWVudC5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgJiYgIWlzSW5pdCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpcnN0IHBhc3MsIHdpdGhvdXQgbG9va0FoZWFkIGJ1dCB3aXRoIGxvb2tCYWNrd2FyZC4gVmFsdWVzIGFyZSBzZXQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGkgPSBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSA/IDAgOiAxO1xuXG4gICAgICAgICAgICAvLyBTZWNvbmRhcnkgcGFzc2VzLiBOb3cgdGhhdCBhbGwgYmFzZSB2YWx1ZXMgYXJlIHNldCwgYXBwbHkgY29uc3RyYWludHMuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIGFsbCBoYW5kbGVzIHRvIGVuc3VyZSBjb25zdHJhaW50cyBhcmUgYXBwbGllZCBmb3IgdGhlIGVudGlyZSBzbGlkZXIgKElzc3VlICMxMDA5KVxuICAgICAgICAgICAgZm9yICg7IGkgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAvLyBGaXJlIHRoZSBldmVudCBvbmx5IGZvciBoYW5kbGVzIHRoYXQgcmVjZWl2ZWQgYSBuZXcgdmFsdWUsIGFzIHBlciAjNTc5XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1toYW5kbGVOdW1iZXJdICE9PSBudWxsICYmIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IHNsaWRlciB0byBpbml0aWFsIHZhbHVlc1xuICAgICAgICBmdW5jdGlvbiB2YWx1ZVJlc2V0KGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9ucy5zdGFydCwgZmlyZVNldEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuXG4gICAgICAgICAgICBpZiAoIShoYW5kbGVOdW1iZXIgPj0gMCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGludmFsaWQgaGFuZGxlIG51bWJlciwgZ290OiBcIiArIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZUdldCgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzY29wZV9WYWx1ZXMubWFwKG9wdGlvbnMuZm9ybWF0LnRvKTtcblxuICAgICAgICAgICAgLy8gSWYgb25seSBvbmUgaGFuZGxlIGlzIHVzZWQsIHJldHVybiBhIHNpbmdsZSB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZXMgY2xhc3NlcyBmcm9tIHRoZSByb290IGFuZCBlbXB0aWVzIGl0LlxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5jc3NDbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzW2tleV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9UYXJnZXQucmVtb3ZlQ2hpbGQoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBuZWFyYnlTdGVwcyA9IHNjb3BlX1NwZWN0cnVtLmdldE5lYXJieVN0ZXBzKGxvY2F0aW9uKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1ZhbHVlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG4gICAgICAgICAgICB2YXIgZGVjcmVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgc25hcHBlZCwgZGlyZWN0bHkgdXNlIGRlZmluZWQgc3RlcCB2YWx1ZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc25hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGFydFZhbHVlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWUgfHwgbnVsbFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBuZXh0IHZhbHVlIGluIHRoaXMgc3RlcCBtb3ZlcyBpbnRvIHRoZSBuZXh0IHN0ZXAsXG4gICAgICAgICAgICAvLyB0aGUgaW5jcmVtZW50IGlzIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBzdGVwIC0gdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSB2YWx1ZSAtIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuaGlnaGVzdFN0ZXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm8gaW4vZGVjcmVtZW50XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IDEwMCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuXG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcblxuICAgICAgICAgICAgLy8gUm91bmQgcGVyICMzOTFcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IG51bGwgJiYgaW5jcmVtZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IE51bWJlcihpbmNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2RlY3JlbWVudCwgaW5jcmVtZW50XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIHNpemUgZm9yIHRoZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGdldE5leHRTdGVwcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZV9IYW5kbGVOdW1iZXJzLm1hcChnZXROZXh0U3RlcHNGb3JIYW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgcGFkZGluZywgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXBcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhvcHRpb25zVG9VcGRhdGUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gU3BlY3RydW0gaXMgY3JlYXRlZCB1c2luZyB0aGUgcmFuZ2UsIHNuYXAsIGRpcmVjdGlvbiBhbmQgc3RlcCBvcHRpb25zLlxuICAgICAgICAgICAgLy8gJ3NuYXAnIGFuZCAnc3RlcCcgY2FuIGJlIHVwZGF0ZWQuXG4gICAgICAgICAgICAvLyBJZiAnc25hcCcgYW5kICdzdGVwJyBhcmUgbm90IHBhc3NlZCwgdGhleSBzaG91bGQgcmVtYWluIHVuY2hhbmdlZC5cbiAgICAgICAgICAgIHZhciB2ID0gdmFsdWVHZXQoKTtcblxuICAgICAgICAgICAgdmFyIHVwZGF0ZUFibGUgPSBbXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIixcbiAgICAgICAgICAgICAgICBcImxpbWl0XCIsXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICAgICAgICAgIFwic25hcFwiLFxuICAgICAgICAgICAgICAgIFwic3RlcFwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJ0b29sdGlwc1wiXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSBvcHRpb25zIHRoYXQgd2UncmUgYWN0dWFsbHkgcGFzc2VkIHRvIHVwZGF0ZS5cbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG4gICAgICAgICAgICB1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGVfU3BlY3RydW0gPSBuZXdPcHRpb25zLnNwZWN0cnVtO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG4gICAgICAgICAgICBvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xuICAgICAgICAgICAgb3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlUGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBzdGVwc1xuICAgICAgICBmdW5jdGlvbiBzZXR1cFNsaWRlcigpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXplIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXG4gICAgICAgICAgICBzY29wZV9CYXNlID0gYWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG5cbiAgICAgICAgICAgIGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB1c2VyIGV2ZW50cy5cbiAgICAgICAgICAgIGJpbmRTbGlkZXJFdmVudHMob3B0aW9ucy5ldmVudHMpO1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcmlhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR1cFNsaWRlcigpO1xuXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICAgICAgc2NvcGVfU2VsZiA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgICBzdGVwczogZ2V0TmV4dFN0ZXBzLFxuICAgICAgICAgICAgb246IGJpbmRFdmVudCxcbiAgICAgICAgICAgIG9mZjogcmVtb3ZlRXZlbnQsXG4gICAgICAgICAgICBnZXQ6IHZhbHVlR2V0LFxuICAgICAgICAgICAgc2V0OiB2YWx1ZVNldCxcbiAgICAgICAgICAgIHNldEhhbmRsZTogdmFsdWVTZXRIYW5kbGUsXG4gICAgICAgICAgICByZXNldDogdmFsdWVSZXNldCxcbiAgICAgICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcyhhLCBiLCBzY29wZV9Mb2NhdGlvbnMsIGMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9yaWdpbmFsT3B0aW9ucywgLy8gSXNzdWUgIzYwMCwgIzY3OFxuICAgICAgICAgICAgdXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcbiAgICAgICAgICAgIHRhcmdldDogc2NvcGVfVGFyZ2V0LCAvLyBJc3N1ZSAjNTk3XG4gICAgICAgICAgICByZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHM6IHJlbW92ZVRvb2x0aXBzLFxuICAgICAgICAgICAgcGlwczogcGlwcyAvLyBJc3N1ZSAjNTk0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNjb3BlX1NlbGY7XG4gICAgfVxuXG4gICAgLy8gUnVuIHRoZSBzdGFuZGFyZCBpbml0aWFsaXplclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUodGFyZ2V0LCBvcmlnaW5hbE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgc2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlxuICAgICAgICBpZiAodGFyZ2V0Lm5vVWlTbGlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGFwaSA9IHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKTtcblxuICAgICAgICB0YXJnZXQubm9VaVNsaWRlciA9IGFwaTtcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH1cblxuICAgIC8vIFVzZSBhbiBvYmplY3QgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIGZvciBmdXR1cmUgZXhwYW5kYWJpbGl0eTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBFeHBvc2VkIGZvciB1bml0IHRlc3RpbmcsIGRvbid0IHVzZSB0aGlzIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgIF9fc3BlY3RydW06IFNwZWN0cnVtLFxuICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgICAgICBjcmVhdGU6IGluaXRpYWxpemVcbiAgICB9O1xufSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHsgSVBlcnNvbiwgU0lSU3RhdGUgfSBmcm9tICcuL3BlcnNvbic7XHJcbmltcG9ydCB7IElTb2NpZXR5IH0gZnJvbSAnLi9zb2NpZXR5JztcclxuaW1wb3J0IHsgSVdvcmxkIH0gZnJvbSAnLi93b3JsZCc7XHJcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4vc2hhZGVyJztcclxuaW1wb3J0IHsgU29jaWV0eSB9IGZyb20gJy4vc29jaWV0eS1pbXBsJztcclxuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuL3dvcmxkLWltcGwnO1xyXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcbmltcG9ydCB7IENvbG9yUGFsZXR0ZSB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBTSVJNb2RlbCB9IGZyb20gJy4vc2lyLW1vZGVsJztcclxuaW1wb3J0IHsgUGVyc29uIH0gZnJvbSAnLi9wZXJzb24taW1wbCc7XHJcblxyXG5jbGFzcyBQZXJzb25SZW5kZXJEYXRhIHtcclxuICByZWFkb25seSBwZXJzb246IElQZXJzb247XHJcbn1cclxuXHJcbmNvbnN0IENJUkNMRV9ERVRBSUwgPSA4O1xyXG5jb25zdCBSSVBQTEVfREVUQUlMID0gMTY7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG5cclxuICBwcml2YXRlIGdsXzogV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcclxuXHJcbiAgcHJpdmF0ZSBwZW9wbGVSZW5kZXJEYXRhXzogUGVyc29uUmVuZGVyRGF0YVtdID0gW107XHJcblxyXG4gIHByaXZhdGUgd2lkdGhfOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMud2lkdGhfOyB9XHJcbiAgcHJpdmF0ZSBoZWlnaHRfOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCBoZWlnaHQoKSB7IHJldHVybiB0aGlzLmhlaWdodF87IH1cclxuICBwcml2YXRlIHJhdGlvXzogbnVtYmVyO1xyXG4gIHB1YmxpYyBnZXQgcmF0aW8oKSB7IHJldHVybiB0aGlzLnJhdGlvXzsgfVxyXG5cclxuICBwdWJsaWMgc2V0U2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy53aWR0aF8gPSB3O1xyXG4gICAgdGhpcy5oZWlnaHRfID0gaDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc29saWRTaGFkZXI6IFNoYWRlcjtcclxuICBwcml2YXRlIHNvbGlkUG9zaXRpb25CdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgc29saWRWQU86IFdlYkdMVmVydGV4QXJyYXlPYmplY3Q7XHJcblxyXG4gIHByaXZhdGUgdGV4U2hhZGVyOiBTaGFkZXI7XHJcbiAgcHJpdmF0ZSB0ZXhQb3NpdGlvbkJ1ZmZlcjogV2ViR0xCdWZmZXI7XHJcbiAgcHJpdmF0ZSB0ZXhWZXJ0ZXhCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgdGV4VGV4Q29vcmRCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgdGV4Q29sb3JCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgdGV4VkFPOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0O1xyXG5cclxuICBwcml2YXRlIHJpcHBsZVNoYWRlcjogU2hhZGVyO1xyXG4gIHByaXZhdGUgcmlwcGxlUG9zaXRpb25CdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgcmlwcGxlVmVydGV4QnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICBwcml2YXRlIHJpcHBsZVRleENvb3JkQnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICBwcml2YXRlIHJpcHBsZUNvbG9yQnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICBwcml2YXRlIHJpcHBsZVRpbWVCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgcmlwcGxlVkFPOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0O1xyXG5cclxuICBwcml2YXRlIHBlcnNvblZlcnRpY2VzXzogRmxvYXQzMkFycmF5O1xyXG4gIHByaXZhdGUgcGVyc29uQ29sb3JWZXJ0aWNlc186IEZsb2F0MzJBcnJheTtcclxuICBwcml2YXRlIHBlcnNvblRleFZlcnRpY2VzXzogRmxvYXQzMkFycmF5O1xyXG5cclxuICBwcml2YXRlIHJpcHBsZVZlcnRpY2VzXzogRmxvYXQzMkFycmF5O1xyXG4gIHByaXZhdGUgcmlwcGxlQ29sb3JWZXJ0aWNlc186IEZsb2F0MzJBcnJheTtcclxuICBwcml2YXRlIHJpcHBsZVRleFZlcnRpY2VzXzogRmxvYXQzMkFycmF5O1xyXG4gIHByaXZhdGUgcmlwcGxlVGltZVZlcnRpY2VzXzogRmxvYXQzMkFycmF5O1xyXG5cclxuICBwcml2YXRlIGNpcmNsZVRleHR1cmVfOiBXZWJHTFRleHR1cmU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBib3g6IEhUTUxFbGVtZW50LFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxyXG4gICAgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIHRoaXMud2lkdGhfID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodF8gPSBoZWlnaHQ7XHJcbiAgICB0aGlzLmdsXyA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7XHJcbiAgICAgIHByZW11dGlwbGllZEFscGhhOiBmYWxzZVxyXG4gICAgfSkgYXMgYW55O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkVGV4dHVyZShzcmM6IHN0cmluZyk6IFByb21pc2U8V2ViR0xUZXh0dXJlPiB7XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2xfO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuZ2xfLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICB0aGlzLmdsXy5iaW5kVGV4dHVyZSh0aGlzLmdsXy5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSwgaW1nKTtcclxuICAgICAgICB0aGlzLmdsXy50ZXhQYXJhbWV0ZXJpKHRoaXMuZ2xfLlRFWFRVUkVfMkQsIHRoaXMuZ2xfLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGhpcy5nbF8uTElORUFSKTtcclxuICAgICAgICB0aGlzLmdsXy50ZXhQYXJhbWV0ZXJpKHRoaXMuZ2xfLlRFWFRVUkVfMkQsIHRoaXMuZ2xfLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGhpcy5nbF8uTElORUFSX01JUE1BUF9ORUFSRVNUKTtcclxuICAgICAgICB0aGlzLmdsXy5nZW5lcmF0ZU1pcG1hcCh0aGlzLmdsXy5URVhUVVJFXzJEKTtcclxuICAgICAgICB0aGlzLmdsXy5iaW5kVGV4dHVyZSh0aGlzLmdsXy5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICByZXNvbHZlKHRleHR1cmUpO1xyXG4gICAgICB9O1xyXG4gICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsXztcclxuICAgIHRoaXMuZ2xfLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgIFxyXG4gICAgdGhpcy5zb2xpZFNoYWRlciA9IG5ldyBTaGFkZXIoZ2wsIFxyXG4gICAgICAgIGAjdmVyc2lvbiAzMDAgZXNcclxuICAgICAgICB1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xyXG4gICAgICAgIHVuaWZvcm0gdmVjMiB1X3dvcmxkUG9zaXRpb247XHJcbiAgICAgICAgaW4gdmVjMiBhX3Bvc2l0aW9uO1xyXG5cclxuICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYV9wb3NpdGlvbiArIHVfd29ybGRQb3NpdGlvbjtcclxuICAgICAgICAgIHZlYzIgbm9ybWFsaXplZFBvc2l0aW9uID0gKHBvc2l0aW9uICogdmVjMigyLCAyKSAtIHVfcmVzb2x1dGlvbilcclxuICAgICAgICAgICAgICAvIHVfcmVzb2x1dGlvbjtcclxuICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChub3JtYWxpemVkUG9zaXRpb24gKiB2ZWMyKDEsIC0xKSwgMC4wLCAxLjApO1xyXG4gICAgICAgIH1cclxuICAgICAgYCwgXHJcbiAgICAgICAgYCN2ZXJzaW9uIDMwMCBlc1xyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xyXG4gICAgICAgIHVuaWZvcm0gdmVjMyB1X2NvbG9yO1xyXG4gICAgICAgIG91dCB2ZWM0IG91dENvbG9yO1xyXG5cclxuICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICBvdXRDb2xvciA9IHZlYzQodV9jb2xvciwgMS4wKTtcclxuICAgICAgICB9XHJcbiAgICAgIGAsIFsnYV9wb3NpdGlvbiddLCBbJ3VfcmVzb2x1dGlvbicsICd1X3dvcmxkUG9zaXRpb24nLCAndV9jb2xvciddKTtcclxuICAgIHRoaXMuc29saWRQb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgdGhpcy5zb2xpZFZBTyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XHJcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkodGhpcy5zb2xpZFZBTyk7XHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShcclxuICAgICAgdGhpcy5zb2xpZFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnNvbGlkUG9zaXRpb25CdWZmZXIpO1xyXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgdGhpcy5zb2xpZFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpLFxyXG4gICAgICAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgXHJcbiAgICB0aGlzLnRleFNoYWRlciA9IG5ldyBTaGFkZXIoZ2wsIFxyXG4gICAgICAgIGAjdmVyc2lvbiAzMDAgZXNcclxuXHJcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcclxuICAgICAgICBpbiB2ZWMyIGFfdmVydGV4O1xyXG4gICAgICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcclxuICAgICAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XHJcbiAgICAgICAgaW4gdmVjMyBhX2NvbG9yO1xyXG4gICAgICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XHJcbiAgICAgICAgb3V0IHZlYzMgdl9jb2xvcjtcclxuXHJcbiAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFfdmVydGV4ICsgYV9wb3NpdGlvbjtcclxuICAgICAgICAgIHZlYzIgbm9ybWFsaXplZFBvc2l0aW9uID0gKHBvc2l0aW9uICogdmVjMigyLCAyKSAtIHVfcmVzb2x1dGlvbilcclxuICAgICAgICAgICAgICAvIHVfcmVzb2x1dGlvbjtcclxuICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChub3JtYWxpemVkUG9zaXRpb24gKiB2ZWMyKDEsIC0xKSwgMC4wLCAxLjApO1xyXG5cclxuICAgICAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xyXG4gICAgICAgICAgdl9jb2xvciA9IGFfY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICBgLCBcclxuICAgICAgICBgI3ZlcnNpb24gMzAwIGVzXHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcbiAgICAgICAgaW4gdmVjMiB2X3RleENvb3JkO1xyXG4gICAgICAgIGluIHZlYzMgdl9jb2xvcjtcclxuICAgICAgICBcclxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XHJcbiAgICAgICAgb3V0IHZlYzQgb3V0Q29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1X3RleHR1cmUsIHZfdGV4Q29vcmQpICogdmVjNCh2X2NvbG9yLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIGAsIFsnYV92ZXJ0ZXgnLCAnYV9wb3NpdGlvbicsICdhX3RleENvb3JkJywgJ2FfY29sb3InXSxcclxuICAgICAgICAgWyd1X3Jlc29sdXRpb24nLCAndV90ZXh0dXJlJ10pO1xyXG5cclxuICAgIHRoaXMudGV4UG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIHRoaXMudGV4VmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICB0aGlzLnRleFRleENvb3JkQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICB0aGlzLnRleENvbG9yQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcblxyXG4gICAgdGhpcy50ZXhWQU8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xyXG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHRoaXMudGV4VkFPKTtcclxuXHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShcclxuICAgICAgdGhpcy50ZXhTaGFkZXIuZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfdmVydGV4JykpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudGV4VmVydGV4QnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMudGV4U2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3ZlcnRleCcpLFxyXG4gICAgICAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG5cclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnRleFBvc2l0aW9uQnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMudGV4U2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksXHJcbiAgICAgIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpLFxyXG4gICAgICAxKTtcclxuICAgICAgXHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShcclxuICAgICAgdGhpcy50ZXhTaGFkZXIuZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfdGV4Q29vcmQnKSk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXhUZXhDb29yZEJ1ZmZlcik7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90ZXhDb29yZCcpLFxyXG4gICAgICAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICBcclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9jb2xvcicpKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnRleENvbG9yQnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMudGV4U2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX2NvbG9yJyksXHJcbiAgICAgIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9jb2xvcicpLFxyXG4gICAgICAxKTtcclxuXHJcbiAgICAgIFxyXG4gICAgdGhpcy5yaXBwbGVTaGFkZXIgPSBuZXcgU2hhZGVyKGdsLCBcclxuICAgICAgICBgI3ZlcnNpb24gMzAwIGVzXHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gICAgICAgIHVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XHJcbiAgICAgICAgaW4gdmVjMiBhX3ZlcnRleDtcclxuICAgICAgICBpbiB2ZWMyIGFfcG9zaXRpb247XHJcbiAgICAgICAgaW4gdmVjMiBhX3RleENvb3JkO1xyXG4gICAgICAgIGluIHZlYzMgYV9jb2xvcjtcclxuICAgICAgICBpbiBmbG9hdCBhX3RpbWU7XHJcblxyXG4gICAgICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XHJcbiAgICAgICAgb3V0IHZlYzMgdl9jb2xvcjtcclxuICAgICAgICBvdXQgZmxvYXQgdl90aW1lO1xyXG4gICAgICAgIG91dCB2ZWMyIHZfZnJhZ0Nvb3JkO1xyXG5cclxuICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICB2X2ZyYWdDb29yZCA9IGFfdmVydGV4O1xyXG4gICAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFfdmVydGV4ICsgYV9wb3NpdGlvbjtcclxuICAgICAgICAgIHZlYzIgbm9ybWFsaXplZFBvc2l0aW9uID0gKHBvc2l0aW9uICogdmVjMigyLCAyKSAtIHVfcmVzb2x1dGlvbilcclxuICAgICAgICAgICAgICAvIHVfcmVzb2x1dGlvbjtcclxuICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChub3JtYWxpemVkUG9zaXRpb24gKiB2ZWMyKDEsIC0xKSwgMC4wLCAxLjApO1xyXG5cclxuICAgICAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xyXG4gICAgICAgICAgdl9jb2xvciA9IGFfY29sb3I7XHJcbiAgICAgICAgICB2X3RpbWUgPSBhX3RpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICBgLCBcclxuICAgICAgICBgI3ZlcnNpb24gMzAwIGVzXHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XHJcblxyXG4gICAgICAgIGluIHZlYzIgdl90ZXhDb29yZDtcclxuICAgICAgICBpbiB2ZWMzIHZfY29sb3I7XHJcbiAgICAgICAgaW4gdmVjMiB2X2ZyYWdDb29yZDtcclxuICAgICAgICBpbiBmbG9hdCB2X3RpbWU7XHJcblxyXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtcclxuXHJcbiAgICAgICAgb3V0IHZlYzQgb3V0Q29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgIGZsb2F0IGxlbiA9IGxlbmd0aCh2X2ZyYWdDb29yZCk7XHJcbiAgICAgICAgICBmbG9hdCBmcm9tID0gdl90aW1lICogdV9yYWRpdXM7XHJcbiAgICAgICAgICBmbG9hdCB0aGlja25lc3MgPSAxMC4wICogKDEuMCAtIHZfdGltZSk7XHJcbiAgICAgICAgICBmbG9hdCB0byA9IGZyb20gKyB0aGlja25lc3M7XHJcbiAgICAgICAgICBvdXRDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTtcclxuICAgICAgICAgIGlmIChmcm9tIDw9IGxlbiAmJiBsZW4gPD0gdG8pIHtcclxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVfdGV4dHVyZSwgdl90ZXhDb29yZCkgKiB2ZWM0KHZfY29sb3IsIDEuMCAtIHZfdGltZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBgLCBbJ2FfdmVydGV4JywgJ2FfcG9zaXRpb24nLCAnYV90ZXhDb29yZCcsICdhX2NvbG9yJywgJ2FfdGltZSddLFxyXG4gICAgICAgICBbJ3VfcmVzb2x1dGlvbicsICd1X3JhZGl1cycsICd1X3RleHR1cmUnXSk7XHJcbiAgICB0aGlzLnJpcHBsZVBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICB0aGlzLnJpcHBsZVZlcnRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgdGhpcy5yaXBwbGVUZXhDb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgdGhpcy5yaXBwbGVDb2xvckJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgdGhpcy5yaXBwbGVUaW1lQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICB0aGlzLnJpcHBsZVZBTyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XHJcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkodGhpcy5yaXBwbGVWQU8pO1xyXG5cclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnJpcHBsZVBvc2l0aW9uQnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksXHJcbiAgICAgIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV9wb3NpdGlvbicpLFxyXG4gICAgICAxKTtcclxuXHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShcclxuICAgICAgdGhpcy5yaXBwbGVTaGFkZXIuZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfdmVydGV4JykpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlVmVydGV4QnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3ZlcnRleCcpLFxyXG4gICAgICAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG5cclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90ZXhDb29yZCcpKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnJpcHBsZVRleENvb3JkQnVmZmVyKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3RleENvb3JkJyksXHJcbiAgICAgIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcblxyXG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX2NvbG9yJykpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlQ29sb3JCdWZmZXIpO1xyXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgdGhpcy5yaXBwbGVTaGFkZXIuZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfY29sb3InKSxcclxuICAgICAgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX2NvbG9yJyksXHJcbiAgICAgIDEpO1xyXG4gICAgICBcclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90aW1lJykpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlVGltZUJ1ZmZlcik7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90aW1lJyksXHJcbiAgICAgIDEsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90aW1lJyksXHJcbiAgICAgIDEpO1xyXG5cclxuXHJcbiAgICB0aGlzLnBlcnNvblZlcnRpY2VzXyA9IG5ldyBGbG9hdDMyQXJyYXkoMTUwMDAwICogMiAqIDYpO1xyXG4gICAgdGhpcy5wZXJzb25Db2xvclZlcnRpY2VzXyA9IG5ldyBGbG9hdDMyQXJyYXkoMTUwMDAwICogMyk7XHJcbiAgICB0aGlzLnBlcnNvblRleFZlcnRpY2VzXyA9IG5ldyBGbG9hdDMyQXJyYXkoNTAgKiAyICogNik7XHJcblxyXG4gICAgdGhpcy5yaXBwbGVWZXJ0aWNlc18gPSBuZXcgRmxvYXQzMkFycmF5KDE1MDAwMCAqIDIgKiA2KTtcclxuICAgIHRoaXMucmlwcGxlQ29sb3JWZXJ0aWNlc18gPSBuZXcgRmxvYXQzMkFycmF5KDE1MDAwMCAqIDMpO1xyXG4gICAgdGhpcy5yaXBwbGVUZXhWZXJ0aWNlc18gPSBuZXcgRmxvYXQzMkFycmF5KDUwICogMiAqIDYpO1xyXG4gICAgdGhpcy5yaXBwbGVUaW1lVmVydGljZXNfID0gbmV3IEZsb2F0MzJBcnJheSgxNTAwMDAgKiAxKTtcclxuXHJcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcclxuICAgIHRoaXMuY2lyY2xlVGV4dHVyZV8gPSBhd2FpdCB0aGlzLmxvYWRUZXh0dXJlKCcuL2NpcmNsZS5wbmcnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW5kZXJQZXJzb24ocGVyc29uOiBJUGVyc29uKSB7XHJcblxyXG4gIH1cclxuICBcclxuICBwdWJsaWMgZHJhd1dvcmxkKHdvcmxkOiBXb3JsZCkge1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdTb2NpZXR5KHdvcmxkOiBXb3JsZCkge1xyXG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsXztcclxuICAgIGdsLnVzZVByb2dyYW0odGhpcy5zb2xpZFNoYWRlci5wcm9ncmFtKTtcclxuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLnNvbGlkVkFPKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnNvbGlkUG9zaXRpb25CdWZmZXIpO1xyXG4gICAgZ2wudW5pZm9ybTJmKFxyXG4gICAgICB0aGlzLnNvbGlkU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV9yZXNvbHV0aW9uJyksXHJcbiAgICAgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIGdsLnVuaWZvcm0yZihcclxuICAgICAgdGhpcy5zb2xpZFNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3Vfd29ybGRQb3NpdGlvbicpLFxyXG4gICAgICAwLCAwKTtcclxuXHJcbiAgICBjb25zdCBzb2NpZXRpZXM6IEFycmF5PFNvY2lldHk+ID0gd29ybGQuc29jaWV0aWVzLnNsaWNlKDApO1xyXG4gICAgc29jaWV0aWVzLnB1c2god29ybGQucXVhcmFudGluZSk7XHJcbiAgICBzb2NpZXRpZXMuZm9yRWFjaChzb2NpZXR5ID0+IHtcclxuICAgICAgY29uc3QgeDEgPSBzb2NpZXR5LnRyYW5zZm9ybS5wb3NpdGlvbi54O1xyXG4gICAgICBjb25zdCB4MiA9IHgxICsgc29jaWV0eS53aWR0aDtcclxuICAgICAgY29uc3QgeTEgPSBzb2NpZXR5LnRyYW5zZm9ybS5wb3NpdGlvbi55O1xyXG4gICAgICBjb25zdCB5MiA9IHkxICsgc29jaWV0eS5oZWlnaHQ7XHJcblxyXG4gICAgICBpZiAoc29jaWV0eS5xdWFyYW50aW5lKSB7XHJcbiAgICAgICAgZ2wudW5pZm9ybTNmKHRoaXMuc29saWRTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1X2NvbG9yJyksXHJcbiAgICAgICAgICAwLjYsIDAuNSwgMC4yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBnbC51bmlmb3JtM2YodGhpcy5zb2xpZFNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfY29sb3InKSxcclxuICAgICAgICAgIDAuNCwgMC40LCAwLjQpO1xyXG4gICAgICB9XHJcbiAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICB4MSwgeTEsXHJcbiAgICAgICAgeDIsIHkxLFxyXG4gICAgICAgIHgyLCB5MixcclxuICAgICAgICB4MSwgeTIsXHJcbiAgICAgICAgeDEsIHkxXHJcbiAgICAgIF0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORV9TVFJJUCwgMCwgNSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdQZW9wbGUod29ybGQ6IFdvcmxkKSB7XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2xfO1xyXG4gICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnRleFNoYWRlci5wcm9ncmFtKTtcclxuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLnRleFZBTyk7XHJcblxyXG4gICAgZ2wudW5pZm9ybTJmKFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfcmVzb2x1dGlvbicpLFxyXG4gICAgICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICBnbC51bmlmb3JtMmYoXHJcbiAgICAgIHRoaXMudGV4U2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV93b3JsZFBvc2l0aW9uJyksXHJcbiAgICAgIDAsIDApO1xyXG4gICAgZ2wudW5pZm9ybTFpKFxyXG4gICAgICB0aGlzLnRleFNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfdGV4dHVyZScpLCAwKTtcclxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuY2lyY2xlVGV4dHVyZV8pO1xyXG4gICAgICBcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBjb25zdCBzb2NpZXRpZXM6IEFycmF5PFNvY2lldHk+ID0gd29ybGQuc29jaWV0aWVzLnNsaWNlKDApO1xyXG4gICAgc29jaWV0aWVzLnB1c2god29ybGQucXVhcmFudGluZSk7XHJcbiAgICBzb2NpZXRpZXMuZm9yRWFjaChzb2NpZXR5ID0+IHtcclxuICAgICAgc29jaWV0eS5wZW9wbGUuZm9yRWFjaChwZXJzb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IHggPSBwZXJzb24udHJhbnNmb3JtLnBvc2l0aW9uLng7XHJcbiAgICAgICAgY29uc3QgeSA9IHBlcnNvbi50cmFuc2Zvcm0ucG9zaXRpb24ueTtcclxuICAgICAgICB0aGlzLnBlcnNvblZlcnRpY2VzXy5zZXQoXHJcbiAgICAgICAgICBbeCwgeV0sIGNvdW50ICogMik7XHJcbiAgICAgICAgc3dpdGNoIChwZXJzb24uc3RhdGUpIHtcclxuICAgICAgICAgIGNhc2UgU0lSU3RhdGUuU3VzcGVjdGlibGU6XHJcbiAgICAgICAgICAgIHRoaXMucGVyc29uQ29sb3JWZXJ0aWNlc18uc2V0KFtcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX1NVU0NFUFRJQkxFLnIsXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9TVVNDRVBUSUJMRS5nLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fU1VTQ0VQVElCTEUuYl0sIGNvdW50ICogMyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgU0lSU3RhdGUuSW5mZWN0aW91czpcclxuICAgICAgICAgICAgdGhpcy5wZXJzb25Db2xvclZlcnRpY2VzXy5zZXQoW1xyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fSU5GRUNURUQucixcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX0lORkVDVEVELmcsXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9JTkZFQ1RFRC5iXSwgY291bnQgKiAzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd246XHJcbiAgICAgICAgICAgIHRoaXMucGVyc29uQ29sb3JWZXJ0aWNlc18uc2V0KFtcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX0lORkVDVEVEX1VOS05PV04ucixcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX0lORkVDVEVEX1VOS05PV04uZyxcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX0lORkVDVEVEX1VOS05PV04uYl0sIGNvdW50ICogMyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgU0lSU3RhdGUuUmVjb3ZlcmVkOlxyXG4gICAgICAgICAgICB0aGlzLnBlcnNvbkNvbG9yVmVydGljZXNfLnNldChbXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9SRUNPVkVSRUQucixcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX1JFQ09WRVJFRC5nLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fUkVDT1ZFUkVELmJdLCBjb3VudCAqIDMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnRleFZlcnRleEJ1ZmZlcik7XHJcbiAgICAvLyBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAvLyAgICAgICAtNTAsIC01MCxcclxuICAgIC8vICAgICAgIDUwLCAtNTAsXHJcbiAgICAvLyAgICAgICA1MCwgNTAsXHJcbiAgICAvLyAgICAgICA1MCwgLTUwLFxyXG4gICAgLy8gICAgICAgLTUwLCAtNTBdKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgIC8vIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnRleFRleENvb3JkQnVmZmVyKTtcclxuICAgIC8vIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBcclxuICAgIC8vICAgbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAvLyAgICAgICAwLCAwLFxyXG4gICAgLy8gICAgICAgMSwgMCxcclxuICAgIC8vICAgICAgIDEsIDEsXHJcbiAgICAvLyAgICAgICAwLCAxLFxyXG4gICAgLy8gICAgICAgMCwgMF0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudGV4VmVydGV4QnVmZmVyKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgIC01LCAtNSxcclxuICAgICAgICAgIDUsIC01LFxyXG4gICAgICAgICAgNSwgNSxcclxuICAgICAgICAgIC01LCAtNSxcclxuICAgICAgICAgIC01LCA1LFxyXG4gICAgICAgICAgNSwgNV0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudGV4VGV4Q29vcmRCdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgIDAsIDAsXHJcbiAgICAgICAgICAxLCAwLFxyXG4gICAgICAgICAgMSwgMSxcclxuICAgICAgICAgIDAsIDAsXHJcbiAgICAgICAgICAwLCAxLFxyXG4gICAgICAgICAgMSwgMV0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudGV4UG9zaXRpb25CdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHRoaXMucGVyc29uVmVydGljZXNfLmJ1ZmZlciwgMCwgY291bnQgKiAyKSxcclxuICAgICAgICBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudGV4Q29sb3JCdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHRoaXMucGVyc29uQ29sb3JWZXJ0aWNlc18uYnVmZmVyLCAwLCBjb3VudCAqIDMpLFxyXG4gICAgICAgIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKGdsLlRSSUFOR0xFUywgMCwgNiwgY291bnQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdSaXBwbGUod29ybGQ6IFdvcmxkKSB7XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2xfO1xyXG4gICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnJpcHBsZVNoYWRlci5wcm9ncmFtKTtcclxuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLnJpcHBsZVZBTyk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5yaXBwbGVQb3NpdGlvbkJ1ZmZlcik7XHJcblxyXG4gICAgZ2wudW5pZm9ybTJmKFxyXG4gICAgICB0aGlzLnJpcHBsZVNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfcmVzb2x1dGlvbicpLFxyXG4gICAgICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICBnbC51bmlmb3JtMWYoXHJcbiAgICAgIHRoaXMucmlwcGxlU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV9yYWRpdXMnKSwgU0lSTW9kZWwuaW5mZWN0aW9uUmFkaXVzKTtcclxuICAgIGdsLnVuaWZvcm0xaShcclxuICAgICAgdGhpcy5yaXBwbGVTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1X3RleHR1cmUnKSwgMCk7XHJcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmNpcmNsZVRleHR1cmVfKTtcclxuXHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgd29ybGQuc29jaWV0aWVzLmZvckVhY2goc29jaWV0eSA9PiB7XHJcbiAgICAgIHNvY2lldHkucGVvcGxlLmZvckVhY2gocGVyc29uID0+IHtcclxuICAgICAgICBpZiAoIXBlcnNvbi5oYXNSaXBwbGUpIHJldHVybjtcclxuICAgICAgICBjb25zdCB4ID0gcGVyc29uLnRyYW5zZm9ybS5wb3NpdGlvbi54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBwZXJzb24udHJhbnNmb3JtLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgdGhpcy5yaXBwbGVWZXJ0aWNlc18uc2V0KFxyXG4gICAgICAgICAgW3gsIHldLCBjb3VudCAqIDIpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKHBlcnNvbi5zdGF0ZSkge1xyXG4gICAgICAgICAgY2FzZSBTSVJTdGF0ZS5TdXNwZWN0aWJsZTpcclxuICAgICAgICAgICAgdGhpcy5yaXBwbGVDb2xvclZlcnRpY2VzXy5zZXQoW1xyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fU1VTQ0VQVElCTEUucixcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX1NVU0NFUFRJQkxFLmcsXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9TVVNDRVBUSUJMRS5iXSwgY291bnQgKiAzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBTSVJTdGF0ZS5JbmZlY3Rpb3VzOlxyXG4gICAgICAgICAgICB0aGlzLnJpcHBsZUNvbG9yVmVydGljZXNfLnNldChbXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9JTkZFQ1RFRC5yLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fSU5GRUNURUQuZyxcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX0lORkVDVEVELmJdLCBjb3VudCAqIDMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFNJUlN0YXRlLkluZmVjdGlvdXNfVW5rbm93bjpcclxuICAgICAgICAgICAgdGhpcy5yaXBwbGVDb2xvclZlcnRpY2VzXy5zZXQoW1xyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fSU5GRUNURURfVU5LTk9XTi5yLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fSU5GRUNURURfVU5LTk9XTi5nLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fSU5GRUNURURfVU5LTk9XTi5iXSwgY291bnQgKiAzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBTSVJTdGF0ZS5SZWNvdmVyZWQ6XHJcbiAgICAgICAgICAgIHRoaXMucmlwcGxlQ29sb3JWZXJ0aWNlc18uc2V0KFtcclxuICAgICAgICAgICAgICBDb2xvclBhbGV0dGUuUEVSU09OX1JFQ09WRVJFRC5yLFxyXG4gICAgICAgICAgICAgIENvbG9yUGFsZXR0ZS5QRVJTT05fUkVDT1ZFUkVELmcsXHJcbiAgICAgICAgICAgICAgQ29sb3JQYWxldHRlLlBFUlNPTl9SRUNPVkVSRUQuYl0sIGNvdW50ICogMyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmlwcGxlVGltZVZlcnRpY2VzX1tjb3VudF0gPVxyXG4gICAgICAgICAgICAoRW5naW5lLmVsYXNwZWQgLSBwZXJzb24ucmlwcGxlU3RhcnRlZFRpbWUpXHJcbiAgICAgICAgICAgICUgUGVyc29uLlJJUFBMRV9EVVJBVElPTiAvIFBlcnNvbi5SSVBQTEVfRFVSQVRJT047XHJcblxyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlVmVydGV4QnVmZmVyKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgIC1TSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsIC1TSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsXHJcbiAgICAgICAgICBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsIC1TSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsXHJcbiAgICAgICAgICBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsIFNJUk1vZGVsLmluZmVjdGlvblJhZGl1cyxcclxuICAgICAgICAgIC1TSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsIC1TSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsXHJcbiAgICAgICAgICAtU0lSTW9kZWwuaW5mZWN0aW9uUmFkaXVzLCBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsXHJcbiAgICAgICAgICBTSVJNb2RlbC5pbmZlY3Rpb25SYWRpdXMsIFNJUk1vZGVsLmluZmVjdGlvblJhZGl1c10pLFxyXG4gICAgICBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlVGV4Q29vcmRCdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgIDAsIDAsXHJcbiAgICAgICAgICAxLCAwLFxyXG4gICAgICAgICAgMSwgMSxcclxuICAgICAgICAgIDAsIDAsXHJcbiAgICAgICAgICAwLCAxLFxyXG4gICAgICAgICAgMSwgMV0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlUG9zaXRpb25CdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmlwcGxlVmVydGljZXNfLmJ1ZmZlciwgMCwgY291bnQgKiAyKSxcclxuICAgICAgICBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucmlwcGxlQ29sb3JCdWZmZXIpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmlwcGxlQ29sb3JWZXJ0aWNlc18uYnVmZmVyLCAwLCBjb3VudCAqIDMpLFxyXG4gICAgICAgIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5yaXBwbGVUaW1lQnVmZmVyKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBcclxuICAgICAgbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJpcHBsZVRpbWVWZXJ0aWNlc18uYnVmZmVyLCAwLCBjb3VudCksXHJcbiAgICAgICAgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQoZ2wuVFJJQU5HTEVTLCAwLCA2LCBjb3VudCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyh3b3JsZDogV29ybGQpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5ib3gub2Zmc2V0V2lkdGg7XHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmJveC5vZmZzZXRIZWlnaHQ7XHJcbiAgICB0aGlzLnJhdGlvXyA9IE1hdGgubWluKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5oZWlnaHQpO1xyXG4gICAgY29uc3QgdyA9IHRoaXMud2lkdGggKiB0aGlzLnJhdGlvXztcclxuICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodCAqIHRoaXMucmF0aW9fO1xyXG4gICAgdGhpcy5nbF8udmlld3BvcnQoMCwgdGhpcy5jYW52YXMuaGVpZ2h0IC0gaCwgdywgaCk7XHJcblxyXG4gICAgdGhpcy5nbF8uY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcclxuICAgIHRoaXMuZ2xfLmNsZWFyKHRoaXMuZ2xfLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLmdsXy5ERVBUSF9CVUZGRVJfQklUKTtcclxuXHJcbiAgICB0aGlzLmRyYXdTb2NpZXR5KHdvcmxkKTtcclxuICAgIHRoaXMuZHJhd1JpcHBsZSh3b3JsZCk7XHJcbiAgICB0aGlzLmRyYXdQZW9wbGUod29ybGQpO1xyXG4gIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgU2hhZGVyIHtcclxuXHJcbiAgcHJpdmF0ZSBhdHRyaWJ1dGVNYXA6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgcHJpdmF0ZSB1bmlmb3JtTWFwOiBNYXA8c3RyaW5nLCBXZWJHTFVuaWZvcm1Mb2NhdGlvbj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIHByaXZhdGUgcHJvZ3JhbV86IFdlYkdMUHJvZ3JhbTtcclxuICBwdWJsaWMgZ2V0IHByb2dyYW0oKSB7IHJldHVybiB0aGlzLnByb2dyYW1fOyB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBnbF86IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICB2ZXJ0U2hhZGVyU291cmNlOiBzdHJpbmcsXHJcbiAgICBmcmFnU2hhZGVyU291cmNlOiBzdHJpbmcsXHJcbiAgICBhdHRyaWJ1dGVzPzogc3RyaW5nW10sXHJcbiAgICB1bmlmb3Jtcz86IHN0cmluZ1tdXHJcbiAgKSB7XHJcbiAgICB0aGlzLnByb2dyYW1fID0gdGhpcy5jcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMoXHJcbiAgICAgIHZlcnRTaGFkZXJTb3VyY2UsIGZyYWdTaGFkZXJTb3VyY2UpO1xyXG5cclxuICAgIGlmIChhdHRyaWJ1dGVzKSB7XHJcbiAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChhdHRyID0+IHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmdsXy5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIGF0dHIpO1xyXG4gICAgICAgIHRoaXMuYXR0cmlidXRlTWFwLnNldChhdHRyLCBpZHgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGF0dHIsIGlkeCk7XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpZiAodW5pZm9ybXMpIHtcclxuICAgICAgdW5pZm9ybXMuZm9yRWFjaCh1bmlmb3JtID0+IHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmdsXy5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCB1bmlmb3JtKTtcclxuICAgICAgICB0aGlzLnVuaWZvcm1NYXAuc2V0KHVuaWZvcm0sIGlkeCk7XHJcbiAgICAgICAgY29uc29sZS5sb2codW5pZm9ybSwgaWR4KTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRBdHRyaWJ1dGVMb2NhdGlvbihhdHRyaWI6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTWFwLmdldChhdHRyaWIpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLnVuaWZvcm1NYXAuZ2V0KHVuaWZvcm0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkU2hhZGVyKHNvdXJjZTogc3RyaW5nLCB0eXBlOiBudW1iZXIpOiBXZWJHTFNoYWRlciB7XHJcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLmdsXy5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICB0aGlzLmdsXy5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgdGhpcy5nbF8uY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgY29uc3QgY29tcGlsZWQgPSB0aGlzLmdsXy5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCB0aGlzLmdsXy5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoIWNvbXBpbGVkKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHRoaXMuZ2xfLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbXBpbGUgc2hhZGVyJywgZXJyKTtcclxuICAgICAgdGhpcy5nbF8uZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNoYWRlcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3JhbShzaGFkZXJzOiBXZWJHTFNoYWRlcltdKTogV2ViR0xQcm9ncmFtIHtcclxuICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLmdsXy5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBzaGFkZXJzLmZvckVhY2goc2hhZGVyID0+IHtcclxuICAgICAgdGhpcy5nbF8uYXR0YWNoU2hhZGVyKHByb2dyYW0sIHNoYWRlcik7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5nbF8ubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICBjb25zdCBsaW5rZWQgPSB0aGlzLmdsXy5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIHRoaXMuZ2xfLkxJTktfU1RBVFVTKTtcclxuICAgIGlmICghbGlua2VkKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHRoaXMuZ2xfLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbGluayBwcm9ncmFtJywgZXJyKTtcclxuICAgICAgdGhpcy5nbF8uZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzKHZlcnRTb3VyY2U6IHN0cmluZywgZnJhZ1NvdXJjZTogc3RyaW5nKTogV2ViR0xQcm9ncmFtIHtcclxuICAgIGNvbnN0IHNoYWRlcnM6IFdlYkdMU2hhZGVyW10gPSBbXTtcclxuICAgIHNoYWRlcnMucHVzaCh0aGlzLmxvYWRTaGFkZXIodmVydFNvdXJjZSwgdGhpcy5nbF8uVkVSVEVYX1NIQURFUikpO1xyXG4gICAgc2hhZGVycy5wdXNoKHRoaXMubG9hZFNoYWRlcihmcmFnU291cmNlLCB0aGlzLmdsXy5GUkFHTUVOVF9TSEFERVIpKTtcclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZVByb2dyYW0oc2hhZGVycyk7XHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBDb2xvciB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSByOiBudW1iZXI7XHJcbiAgcHVibGljIHJlYWRvbmx5IGc6IG51bWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnIgPSByIC8gMjU1O1xyXG4gICAgdGhpcy5nID0gZyAvIDI1NTtcclxuICAgIHRoaXMuYiA9IGIgLyAyNTU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuY2xhc3MgX0NvbG9yUGFsZXR0ZSB7XHJcbiAgcmVhZG9ubHkgUEVSU09OX1NVU0NFUFRJQkxFID0gbmV3IENvbG9yKDE0OCwgMTkzLCAyMDMpO1xyXG4gIHJlYWRvbmx5IFBFUlNPTl9JTkZFQ1RFRCA9IG5ldyBDb2xvcigyNDYsIDE0MiwgMTU5KTtcclxuICByZWFkb25seSBQRVJTT05fSU5GRUNURURfVU5LTk9XTiA9IG5ldyBDb2xvcigyNDgsIDI1NSw1Mik7XHJcbiAgcmVhZG9ubHkgUEVSU09OX1JFQ09WRVJFRCA9IG5ldyBDb2xvcig3OCwgNzUsIDc3KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbG9yUGFsZXR0ZSA9IG5ldyBfQ29sb3JQYWxldHRlKCk7IiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBSZWFkb25seVZlY3RvcjIgfSBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IG9uRGlkUG9zaXRpb25DaGFuZ2U6IFN1YmplY3Q8dm9pZD4gPSBuZXcgU3ViamVjdCgpO1xyXG5cclxuICBwcml2YXRlIHBvc2l0aW9uXzogVmVjdG9yMjtcclxuICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCk6IFJlYWRvbmx5VmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbl8gfVxyXG4gIHB1YmxpYyBzZXQgcG9zaXRpb24odmFsdWU6IFJlYWRvbmx5VmVjdG9yMikge1xyXG4gICAgdGhpcy5wb3NpdGlvbl8gPSBuZXcgVmVjdG9yMih2YWx1ZS54LCB2YWx1ZS55KTtcclxuICAgIHRoaXMub25EaWRQb3NpdGlvbkNoYW5nZS5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnBvc2l0aW9uXyA9IG5ldyBWZWN0b3IyKDAsIDApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHt9XHJcblxyXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZU1hY2hpbmVTdGF0ZUNhbGxiYWNrIHtcclxuICAoKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlTWFjaGluZSBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gIHByaXZhdGUgc3RhdGVfOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCBzdGF0ZSgpIHsgcmV0dXJuIHRoaXMuc3RhdGVfOyB9XHJcbiAgcHVibGljIHNldCBzdGF0ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLnN0YXRlO1xyXG4gICAgaWYgKGxhc3RTdGF0ZSA9PT0gdmFsdWUpIHJldHVybjtcclxuICAgIGNvbnN0IGVkID0gdGhpcy5lbmRzXy5nZXQobGFzdFN0YXRlKTtcclxuICAgIGVkICYmIGVkKCk7XHJcbiAgICB0aGlzLnN0YXRlXyA9IHZhbHVlO1xyXG4gICAgY29uc3QgYmcgPSB0aGlzLmJlZ2luc18uZ2V0KHZhbHVlKTtcclxuICAgIGJnICYmIGJnKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGJlZ2luc186IE1hcDxudW1iZXIsIFN0YXRlTWFjaGluZVN0YXRlQ2FsbGJhY2s+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgZW5kc186IE1hcDxudW1iZXIsIFN0YXRlTWFjaGluZVN0YXRlQ2FsbGJhY2s+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgdXBkYXRlc186IE1hcDxudW1iZXIsIFN0YXRlTWFjaGluZVN0YXRlQ2FsbGJhY2s+ID0gbmV3IE1hcCgpO1xyXG5cclxuICBwdWJsaWMgc2V0U3RhdGVDYWxsYmFjayhcclxuICAgIHN0YXRlOiBudW1iZXIsXHJcbiAgICBiZWdpbjogU3RhdGVNYWNoaW5lU3RhdGVDYWxsYmFjayB8IG51bGwsXHJcbiAgICBlbmQ6IFN0YXRlTWFjaGluZVN0YXRlQ2FsbGJhY2sgfCBudWxsLFxyXG4gICAgdXBkYXRlOiBTdGF0ZU1hY2hpbmVTdGF0ZUNhbGxiYWNrIHwgbnVsbFxyXG4gICk6IHZvaWQge1xyXG4gICAgdGhpcy5iZWdpbnNfLnNldChzdGF0ZSwgYmVnaW4pO1xyXG4gICAgdGhpcy5lbmRzXy5zZXQoc3RhdGUsIGVuZCk7XHJcbiAgICB0aGlzLnVwZGF0ZXNfLnNldChzdGF0ZSwgdXBkYXRlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICBjb25zdCB1cGQgPSB0aGlzLnVwZGF0ZXNfLmdldCh0aGlzLnN0YXRlKTtcclxuICAgIHVwZCAmJiB1cGQoKTtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgSVdvcmxkIH0gZnJvbSAnLi93b3JsZCc7XHJcbmltcG9ydCB7IFNvY2lldHkgfSBmcm9tICcuL3NvY2lldHktaW1wbCc7XHJcbmltcG9ydCB7IFBlcnNvbiB9IGZyb20gJy4vcGVyc29uLWltcGwnO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuL2VudGl0eSc7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcbmltcG9ydCB7IFNJUlN0YXRlIH0gZnJvbSAnLi9wZXJzb24nO1xyXG5pbXBvcnQgeyBTSVJNb2RlbCB9IGZyb20gJy4vc2lyLW1vZGVsJztcclxuXHJcbmxldCBrID0gMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0aXN0aWMge1xyXG5cclxuICBwcml2YXRlIGVsYXBzZWRfOiBudW1iZXIgPSAwO1xyXG4gIHB1YmxpYyBnZXQgZWxhcHNlZCgpIHsgcmV0dXJuIHRoaXMuZWxhcHNlZF87IH1cclxuXHJcbiAgcHJpdmF0ZSBudW1TdXNwZWN0aWJsZV86IG51bWJlciA9IDA7XHJcbiAgcHVibGljIGdldCBudW1TdXNwZWN0aWJsZSgpIHsgcmV0dXJuIHRoaXMubnVtU3VzcGVjdGlibGVfOyB9XHJcbiAgcHJpdmF0ZSBudW1JbmZlY3Rpb3VzXzogbnVtYmVyID0gMDtcclxuICBwdWJsaWMgZ2V0IG51bUluZmVjdGlvdXMoKSB7IHJldHVybiB0aGlzLm51bUluZmVjdGlvdXNfOyB9XHJcbiAgcHJpdmF0ZSBudW1SZWNvdmVyZWRfOiBudW1iZXIgPSAwO1xyXG4gIHB1YmxpYyBnZXQgbnVtUmVjb3ZlcmVkKCkgeyByZXR1cm4gdGhpcy5udW1SZWNvdmVyZWRfOyB9XHJcblxyXG4gIHByaXZhdGUgcmVjb3Jkc186IEFycmF5PFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4gPSBbXTtcclxuICBwdWJsaWMgZ2V0IHJlY29yZHMoKTogUmVhZG9ubHlBcnJheTxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+IHtcclxuICAgIHJldHVybiB0aGlzLnJlY29yZHNfOyB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoXHJcbiAgICBudW1TdXNwZWN0aWJsZV86IG51bWJlciwgbnVtSW5mZWN0aW91c186IG51bWJlciwgbnVtUmVjb3ZlcmVkXzogbnVtYmVyKSB7XHJcbiAgICB0aGlzLm51bVN1c3BlY3RpYmxlXyA9IG51bVN1c3BlY3RpYmxlXztcclxuICAgIHRoaXMubnVtSW5mZWN0aW91c18gPSBudW1JbmZlY3Rpb3VzXztcclxuICAgIHRoaXMubnVtUmVjb3ZlcmVkXyA9IG51bVJlY292ZXJlZF87XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZWxhcHNlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxhcHNlZF8gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWNvcmQoKSB7XHJcbiAgICB0aGlzLnJlY29yZHNfLnB1c2goW3RoaXMubnVtU3VzcGVjdGlibGVfLFxyXG4gICAgICAgIHRoaXMubnVtSW5mZWN0aW91c18sIHRoaXMubnVtUmVjb3ZlcmVkX10pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXb3JsZCBleHRlbmRzIEVudGl0eSBpbXBsZW1lbnRzIElXb3JsZCB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBzdGF0aXN0aWMgPSBuZXcgU3RhdGlzdGljKCk7XHJcblxyXG4gIHByaXZhdGUgc29jaWV0aWVzXzogU29jaWV0eVtdID0gW107XHJcbiAgcHVibGljIGdldCBzb2NpZXRpZXMoKTogUmVhZG9ubHlBcnJheTxTb2NpZXR5PiB7XHJcbiAgICByZXR1cm4gdGhpcy5zb2NpZXRpZXNfOyB9XHJcblxyXG4gIHByaXZhdGUgcXVhcmFudGluZV86IFNvY2lldHkgPSBudWxsO1xyXG4gIHB1YmxpYyBnZXQgcXVhcmFudGluZSgpIHsgcmV0dXJuIHRoaXMucXVhcmFudGluZV87IH1cclxuXHJcbiAgcHJpdmF0ZSB0aW1lXzogbnVtYmVyO1xyXG4gIHByaXZhdGUgZGF5XzogbnVtYmVyO1xyXG4gIHB1YmxpYyBnZXQgZGF5KCkgeyByZXR1cm4gdGhpcy5kYXlfOyB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMudGltZV8gPSAwO1xyXG4gICAgdGhpcy5kYXlfID0gMDtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY3JlYXRlUXVhcmFudGluZSh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpOiBTb2NpZXR5IHtcclxuICAgIHRoaXMucXVhcmFudGluZV8gPSBuZXcgU29jaWV0eSh0aGlzLCB3LCBoKTtcclxuICAgIHRoaXMucXVhcmFudGluZV8udHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IFZlY3RvcjIoeCwgeSk7XHJcbiAgICB0aGlzLnF1YXJhbnRpbmVfLnF1YXJhbnRpbmUgPSB0cnVlO1xyXG4gICAgdGhpcy5saXN0ZW5Tb2NpZXR5KHRoaXMucXVhcmFudGluZSk7XHJcbiAgICByZXR1cm4gdGhpcy5xdWFyYW50aW5lXztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjcmVhdGVTb2NpZXR5KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcik6IFNvY2lldHkge1xyXG4gICAgY29uc3Qgc29jaWV0eSA9IG5ldyBTb2NpZXR5KHRoaXMsIHcsIGgpO1xyXG4gICAgc29jaWV0eS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgVmVjdG9yMih4LCB5KTtcclxuICAgIHRoaXMuc29jaWV0aWVzXy5wdXNoKHNvY2lldHkpO1xyXG4gICAgdGhpcy5saXN0ZW5Tb2NpZXR5KHNvY2lldHkpO1xyXG4gICAgcmV0dXJuIHNvY2lldHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZG9VcGRhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpbWVfICs9IEVuZ2luZS5kZWx0YTtcclxuICAgIGNvbnN0IG5leHREYXkgPSBNYXRoLmZsb29yKHRoaXMudGltZV8gLyBTSVJNb2RlbC50aW1lRmFjdG9yKTtcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmRheV87IGkgPCBuZXh0RGF5OyBpICsrKSB7XHJcbiAgICAgIHRoaXMuc3RhdGlzdGljLnJlY29yZCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGF5XyAhPSBuZXh0RGF5KSB7XHJcbiAgICAgIHRoaXMuZGF5XyA9IG5leHREYXk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRpc3RpYy5lbGFwc2UodGhpcy50aW1lXyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGxpc3RlblNvY2lldHkoc29jaWV0eTogU29jaWV0eSkge1xyXG4gICAgc29jaWV0eS5vbkRpZFBvcHVsYXRlUGVyc29uLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgdGhpcy5zdGF0aXN0aWMudXBkYXRlKFxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVN1c3BlY3RpYmxlICsgMSxcclxuICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1JbmZlY3Rpb3VzLFxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVJlY292ZXJlZCk7XHJcbiAgICB9KVxyXG4gICAgc29jaWV0eS5vbkRpZENoYW5nZVBlcnNvblNJUlN0YXRlLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgc3dpdGNoIChlLmxhc3RTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgKFNJUlN0YXRlLlN1c3BlY3RpYmxlKTpcclxuICAgICAgICAgIHRoaXMuc3RhdGlzdGljLnVwZGF0ZShcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtU3VzcGVjdGlibGUgLSAxLFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1JbmZlY3Rpb3VzLFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1SZWNvdmVyZWQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgKFNJUlN0YXRlLkluZmVjdGlvdXMpOlxyXG4gICAgICAgIGNhc2UgKFNJUlN0YXRlLkluZmVjdGlvdXNfVW5rbm93bik6XHJcbiAgICAgICAgICB0aGlzLnN0YXRpc3RpYy51cGRhdGUoXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVN1c3BlY3RpYmxlLFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1JbmZlY3Rpb3VzIC0gMSxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtUmVjb3ZlcmVkKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIChTSVJTdGF0ZS5SZWNvdmVyZWQpOlxyXG4gICAgICAgICAgdGhpcy5zdGF0aXN0aWMudXBkYXRlKFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1TdXNwZWN0aWJsZSxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtSW5mZWN0aW91cyxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtUmVjb3ZlcmVkIC0gMSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHN3aXRjaCAoZS5wZXJzb24uc3RhdGUpIHtcclxuICAgICAgICBjYXNlIChTSVJTdGF0ZS5TdXNwZWN0aWJsZSk6XHJcbiAgICAgICAgICB0aGlzLnN0YXRpc3RpYy51cGRhdGUoXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVN1c3BlY3RpYmxlICsgMSxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtSW5mZWN0aW91cyxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtUmVjb3ZlcmVkKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIChTSVJTdGF0ZS5JbmZlY3Rpb3VzKTpcclxuICAgICAgICBjYXNlIChTSVJTdGF0ZS5JbmZlY3Rpb3VzX1Vua25vd24pOlxyXG4gICAgICAgICAgdGhpcy5zdGF0aXN0aWMudXBkYXRlKFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpc3RpYy5udW1TdXNwZWN0aWJsZSxcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtSW5mZWN0aW91cyArIDEsXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVJlY292ZXJlZCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAoU0lSU3RhdGUuUmVjb3ZlcmVkKTpcclxuICAgICAgICAgIHRoaXMuc3RhdGlzdGljLnVwZGF0ZShcclxuICAgICAgICAgICAgdGhpcy5zdGF0aXN0aWMubnVtU3VzcGVjdGlibGUsXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlzdGljLm51bUluZmVjdGlvdXMsXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlzdGljLm51bVJlY292ZXJlZCArIDEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSlcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgWm9uZSB9IGZyb20gJy4vem9uZS1pbXBsJztcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9lbnRpdHknO1xyXG5pbXBvcnQgeyBJU29jaWV0eSB9IGZyb20gJy4vc29jaWV0eSc7XHJcbmltcG9ydCB7IElXb3JsZCB9IGZyb20gJy4vd29ybGQnO1xyXG5pbXBvcnQgeyBSZWFkb25seVZlY3RvcjIsIFZlY3RvcjIsIGNsYW1wLCByYW5kSW50LCByYW5kIH0gZnJvbSAnLi91dGlsJztcclxuaW1wb3J0IHsgUGVyc29uLCBQZXJzb25TSVJTdGF0ZUNoYW5nZUV2ZW50LCBQZXJzb25FdmVudCB9IGZyb20gJy4vcGVyc29uLWltcGwnO1xyXG5pbXBvcnQgeyBTSVJTdGF0ZSB9IGZyb20gJy4vcGVyc29uJztcclxuaW1wb3J0IHsgU0lSTW9kZWwgfSBmcm9tICcuL3Npci1tb2RlbCc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxubGV0IF9fbmV4dF9zb2NpZXR5X2lkID0gMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBTb2NpZXR5IGV4dGVuZHMgRW50aXR5IGltcGxlbWVudHMgSVNvY2lldHkge1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgaWQgPSBfX25leHRfc29jaWV0eV9pZCsrO1xyXG5cclxuICBwdWJsaWMgcXVhcmFudGluZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIHNpemVfOiBWZWN0b3IyO1xyXG4gIHB1YmxpYyBnZXQgc2l6ZSgpOiBSZWFkb25seVZlY3RvcjIgeyByZXR1cm4gdGhpcy5zaXplXzsgfVxyXG4gIHB1YmxpYyBnZXQgd2lkdGgoKSB7IHJldHVybiB0aGlzLnNpemVfLng7IH1cclxuICBwdWJsaWMgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMuc2l6ZV8ueTsgfVxyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHpvbmVXaWR0aF86IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHpvbmVIZWlnaHRfOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB6b25lQ29sdW1uXzogbnVtYmVyO1xyXG4gIHByaXZhdGUgem9uZVJvd186IG51bWJlcjtcclxuXHJcbiAgcHJpdmF0ZSB6b25lc186IE1hcDxOdW1iZXIsIFpvbmU+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgcGVyc29uVG9ab25lTWFwXzogTWFwPFBlcnNvbiwgWm9uZT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIHByaXZhdGUgcGVvcGxlXzogU2V0PFBlcnNvbj4gPSBuZXcgU2V0KCk7XHJcbiAgcHVibGljIGdldCBwZW9wbGUoKSB7IHJldHVybiB0aGlzLnBlb3BsZV87IH1cclxuICBwdWJsaWMgcmVhZG9ubHkgb25EaWRDaGFuZ2VQZXJzb25TSVJTdGF0ZSA9XHJcbiAgICAgIG5ldyBTdWJqZWN0PFBlcnNvblNJUlN0YXRlQ2hhbmdlRXZlbnQ+KCk7XHJcbiAgcHVibGljIHJlYWRvbmx5IG9uRGlkUG9wdWxhdGVQZXJzb24gPSBcclxuICAgICAgbmV3IFN1YmplY3Q8UGVyc29uRXZlbnQ+KCk7XHJcblxyXG4gIHByaXZhdGUgcGVvcGxlU3Vic2NyaXB0aW9uXzogTWFwPFBlcnNvbiwgQXJyYXk8U3Vic2NyaXB0aW9uPj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgd29ybGQ6IElXb3JsZCxcclxuICAgICAgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnNpemVfID0gbmV3IFZlY3RvcjIod2lkdGgsIGhlaWdodCk7XHJcbiAgICBcclxuICAgIHRoaXMuem9uZVdpZHRoXyA9IDMwO1xyXG4gICAgdGhpcy56b25lSGVpZ2h0XyA9IDMwO1xyXG5cclxuICAgIHRoaXMuaW5zdGFudGlhdGVab25lcygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRvVXBkYXRlKCk6IHZvaWQge1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3B1bGF0ZSgpOiBQZXJzb24ge1xyXG4gICAgY29uc3QgcGVyc29uID0gbmV3IFBlcnNvbih0aGlzLndvcmxkLCB0aGlzKTtcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb25SZWxhdGl2ZVRvV29ybGQobmV3IFZlY3RvcjIoXHJcbiAgICAgICAgcmFuZEludCgwLCB0aGlzLndpZHRoKSwgcmFuZEludCgwLCB0aGlzLmhlaWdodCkpKTtcclxuICAgIHBlcnNvbi50cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3M7XHJcbiAgICB0aGlzLm9uRGlkUG9wdWxhdGVQZXJzb24ubmV4dChuZXcgUGVyc29uRXZlbnQocGVyc29uKSk7XHJcbiAgICByZXR1cm4gcGVyc29uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZFBlcnNvbihwZXJzb246IFBlcnNvbikge1xyXG4gICAgdGhpcy5wZW9wbGVfLmFkZChwZXJzb24pO1xyXG4gICAgdGhpcy51cGRhdGVab25lKHBlcnNvbik7XHJcbiAgICBjb25zdCBzdWJzOiBBcnJheTxTdWJzY3JpcHRpb24+ID0gW107XHJcbiAgICBzdWJzLnB1c2gocGVyc29uLnRyYW5zZm9ybS5vbkRpZFBvc2l0aW9uQ2hhbmdlLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgdGhpcy51cGRhdGVab25lKHBlcnNvbik7XHJcbiAgICB9KSk7XHJcbiAgICBzdWJzLnB1c2gocGVyc29uLm9uRGlkQ2hhbmdlU0lSU3RhdGUuc3Vic2NyaWJlKGUgPT4ge1xyXG4gICAgICB0aGlzLm9uRGlkQ2hhbmdlUGVyc29uU0lSU3RhdGUubmV4dChlKTtcclxuICAgIH0pKTtcclxuICAgIHRoaXMucGVvcGxlU3Vic2NyaXB0aW9uXy5zZXQocGVyc29uLCBzdWJzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVQZXJzb24ocGVyc29uOiBQZXJzb24pIHtcclxuICAgIHRoaXMucGVvcGxlXy5kZWxldGUocGVyc29uKTtcclxuICAgIGNvbnN0IHpvbmUgPSB0aGlzLnBlcnNvblRvWm9uZU1hcF8uZ2V0KHBlcnNvbik7XHJcbiAgICBpZiAoem9uZSkge1xyXG4gICAgICB6b25lLnJlbW92ZVBlcnNvbihwZXJzb24pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wZXJzb25Ub1pvbmVNYXBfLmRlbGV0ZShwZXJzb24pO1xyXG4gICAgY29uc3Qgc3VicyA9IHRoaXMucGVvcGxlU3Vic2NyaXB0aW9uXy5nZXQocGVyc29uKTtcclxuICAgIHN1YnMuZm9yRWFjaChzdWIgPT4gc3ViLnVuc3Vic2NyaWJlKCkpO1xyXG4gICAgdGhpcy5wZW9wbGVTdWJzY3JpcHRpb25fLmRlbGV0ZShwZXJzb24pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVab25lKHBlcnNvbjogUGVyc29uKSB7XHJcbiAgICBjb25zdCBvbGQgPSB0aGlzLnBlcnNvblRvWm9uZU1hcF8uZ2V0KHBlcnNvbik7XHJcbiAgICBjb25zdCBjdXIgPSB0aGlzLmdldFpvbmUoXHJcbiAgICAgIHRoaXMubWFwUG9zaXRpb25Xb3JsZFRvU29jaWV0eShwZXJzb24udHJhbnNmb3JtLnBvc2l0aW9uKSk7XHJcbiAgICBpZiAob2xkID09IGN1cikgcmV0dXJuO1xyXG4gICAgaWYgKG9sZCkge1xyXG4gICAgICBvbGQucmVtb3ZlUGVyc29uKHBlcnNvbik7XHJcbiAgICB9XHJcbiAgICBpZiAoY3VyKSB7XHJcbiAgICAgIGN1ci5hZGRQZXJzb24ocGVyc29uKTtcclxuICAgIH1cclxuICAgIHRoaXMucGVyc29uVG9ab25lTWFwXy5zZXQocGVyc29uLCBjdXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRab25lKHBvc2l0aW9uOiBSZWFkb25seVZlY3RvcjIpOiBab25lIHwgbnVsbCB7XHJcbiAgICBjb25zdCBjID0gTWF0aC5mbG9vcihwb3NpdGlvbi54IC8gdGhpcy56b25lV2lkdGhfKTtcclxuICAgIGNvbnN0IHIgPSBNYXRoLmZsb29yKHBvc2l0aW9uLnkgLyB0aGlzLnpvbmVIZWlnaHRfKTtcclxuICAgIGNvbnN0IGlkeCA9IHIgKiB0aGlzLnpvbmVDb2x1bW5fICsgYztcclxuICAgIHJldHVybiB0aGlzLnpvbmVzXy5nZXQoaWR4KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zdGFudGlhdGVab25lcygpOiB2b2lkIHtcclxuICAgIGNvbnN0IHpvbmVDb2x1bW5zID0gTWF0aC5jZWlsKHRoaXMud2lkdGggLyB0aGlzLnpvbmVXaWR0aF8pO1xyXG4gICAgY29uc3Qgem9uZVJvd3MgPSBNYXRoLmNlaWwodGhpcy5oZWlnaHQgLyB0aGlzLnpvbmVIZWlnaHRfKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgem9uZVJvd3M7IGkgKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB6b25lQ29sdW1uczsgaiArKykge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IGkgKiB6b25lQ29sdW1ucyArIGo7XHJcbiAgICAgICAgY29uc3Qgem9uZSA9IG5ldyBab25lKHRoaXMud29ybGQsIHRoaXMsIGosIGksXHJcbiAgICAgICAgICAgIHRoaXMuem9uZVdpZHRoXywgdGhpcy56b25lSGVpZ2h0Xyk7XHJcbiAgICAgICAgdGhpcy56b25lc18uc2V0KGlkeCwgem9uZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuem9uZUNvbHVtbl8gPSB6b25lQ29sdW1ucztcclxuICAgIHRoaXMuem9uZVJvd18gPSB6b25lUm93cztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRab25lQnlDb29yZGluYXRlKGNvb3JkOiBSZWFkb25seVZlY3RvcjIpOiBab25lIHtcclxuICAgIGNvbnN0IGMgPSAgTWF0aC5mbG9vcihjb29yZC54IC8gdGhpcy56b25lV2lkdGhfKTtcclxuICAgIGNvbnN0IHIgPSBNYXRoLmZsb29yKGNvb3JkLnkgLyB0aGlzLnpvbmVIZWlnaHRfKTtcclxuICAgIGNvbnN0IGlkeCA9IHIgKiB0aGlzLnpvbmVXaWR0aF8gKyBjO1xyXG4gICAgcmV0dXJuIHRoaXMuem9uZXNfLmdldChpZHgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGl0ZXJhdGVOZWFyYnkoc29jaWV0eVBvc2l0aW9uOiBSZWFkb25seVZlY3RvcjIsIGl0OiAocGVyc29uOiBQZXJzb24pID0+IHZvaWQpIHtcclxuICAgIGNvbnN0IGNlbiA9IHRoaXMuZ2V0Wm9uZShzb2NpZXR5UG9zaXRpb24pO1xyXG4gICAgaWYgKCFjZW4pIHJldHVybjtcclxuICAgIGZvciAobGV0IGkgPSAtMTsgaSA8PSAxOyBpICsrKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAtMTsgaiA8PSAxOyBqICsrKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IGNlbi54ICsgajtcclxuICAgICAgICBjb25zdCB5ID0gY2VuLnkgKyBpO1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHkgKiB0aGlzLnpvbmVDb2x1bW5fICsgeDtcclxuICAgICAgICBjb25zdCB6b25lID0gdGhpcy56b25lc18uZ2V0KGlkeCk7XHJcbiAgICAgICAgaWYgKCF6b25lKSBjb250aW51ZTtcclxuICAgICAgICB6b25lLnBlb3BsZS5mb3JFYWNoKHBlcnNvbiA9PiB7XHJcbiAgICAgICAgICBpdChwZXJzb24pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBtYXBQb3NpdGlvbldvcmxkVG9Tb2NpZXR5KHBvc2l0aW9uOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBwb3NpdGlvbi5zdWIodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBvc2l0aW9uUmVsYXRpdmVUb1dvcmxkKHBvc2l0aW9uOiBSZWFkb25seVZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBwb3NpdGlvbi5hZGQodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IElab25lIH0gZnJvbSAnLi96b25lJztcclxuaW1wb3J0IHsgSVNvY2lldHkgfSBmcm9tICcuL3NvY2lldHknO1xyXG5pbXBvcnQgeyBJV29ybGQgfSBmcm9tICcuL3dvcmxkJztcclxuaW1wb3J0IHsgUGVyc29uIH0gZnJvbSAnLi9wZXJzb24taW1wbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgWm9uZSBpbXBsZW1lbnRzIElab25lIHtcclxuXHJcbiAgcHJpdmF0ZSBwZW9wbGVfOiBTZXQ8UGVyc29uPiA9IG5ldyBTZXQoKTtcclxuICBwdWJsaWMgZ2V0IHBlb3BsZSgpIDogUmVhZG9ubHlTZXQ8UGVyc29uPiB7IHJldHVybiB0aGlzLnBlb3BsZV87IH1cclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICAgIHB1YmxpYyByZWFkb25seSB3b3JsZDogSVdvcmxkLFxyXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgc29jaWV0eTogSVNvY2lldHksXHJcbiAgICAgIHB1YmxpYyByZWFkb25seSB4OiBudW1iZXIsXHJcbiAgICAgIHB1YmxpYyByZWFkb25seSB5OiBudW1iZXIsXHJcbiAgICAgIHB1YmxpYyByZWFkb25seSB3aWR0aDogbnVtYmVyLFxyXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXIpIHtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWRkUGVyc29uKHBlcnNvbjogUGVyc29uKSB7XHJcbiAgICB0aGlzLnBlb3BsZV8uYWRkKHBlcnNvbik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlUGVyc29uKHBlcnNvbjogUGVyc29uKSB7XHJcbiAgICB0aGlzLnBlb3BsZV8uZGVsZXRlKHBlcnNvbik7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IFN0YXRpc3RpYyB9IGZyb20gJy4vd29ybGQtaW1wbCc7XHJcbmltcG9ydCB7IFNJUk1vZGVsIH0gZnJvbSAnLi9zaXItbW9kZWwnO1xyXG5cclxuY29uc3QgTUFYX1NURVAgPSAyMDA7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdGlzdGljVmlldyB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY3R4XzogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYm94OiBIVE1MRWxlbWVudCxcclxuICAgIHB1YmxpYyByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRpc3RpYzogU3RhdGlzdGljKSB7XHJcbiAgICB0aGlzLmN0eF8gPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGF5cl8gPSAxO1xyXG5cclxuICBwcml2YXRlIHJlbmRlckRheSgpIHtcclxuICAgIGNvbnN0IGN2cyA9IHRoaXMuY2FudmFzO1xyXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHhfO1xyXG4gICAgY29uc3QgdyA9IGN2cy53aWR0aCArIDEwO1xyXG4gICAgY29uc3QgaCA9IGN2cy5oZWlnaHQ7XHJcblxyXG4gICAgXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBjb25zdCB1ID0gKHcgKiB0aGlzLmRheXJfKSAvIHRoaXMuc3RhdGlzdGljLmVsYXBzZWQgKlxyXG4gICAgICAgICAgU0lSTW9kZWwudGltZUZhY3RvciAqIFNJUk1vZGVsLmRheUZhY3RvcjtcclxuICAgICAgaWYgKHUgPCA1MCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRheXJfID09IDEpIHRoaXMuZGF5cl8gPSA1O1xyXG4gICAgICAgIGVsc2UgdGhpcy5kYXlyXyAqPSAyO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1ID0gKHcgKiB0aGlzLmRheXJfKSAvIHRoaXMuc3RhdGlzdGljLmVsYXBzZWQgKlxyXG4gICAgICAgIFNJUk1vZGVsLnRpbWVGYWN0b3IgKiBTSVJNb2RlbC5kYXlGYWN0b3I7XHJcbiAgICBjb25zdCBvcGFjID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKHUgLSA1MCkgLyA1MCkpO1xyXG4gICAgY29uc3QgbyA9IE1hdGguY2VpbCh3IC8gdSk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gMztcclxuICAgIGN0eC5mb250ID0gXCIxNnB4IEFyaWFsXCI7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG87IGkgKyspIHtcclxuICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgY29uc3QgZCA9IGkgKiB0aGlzLmRheXJfO1xyXG4gICAgICBpZiAodGhpcy5kYXlyXyA9PSAxKSB7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gKGQgJSA1ID8gb3BhYyA6IDEpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IChpICUgMiA/IG9wYWMgOiAxKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB4ID0gdSAqIGk7XHJcbiAgICAgIGN0eC50cmFuc2xhdGUoeCwgaCAtIDMwKTtcclxuICAgICAgY3R4LmZpbGxUZXh0KGQgKyAnJywgMCwgMjUpO1xyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIGN0eC5tb3ZlVG8oMCwgLTgpO1xyXG4gICAgICBjdHgubGluZVRvKDAsIDgpO1xyXG4gICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbmRlcjIoY2FsYzogKHByZXY6IGFueSwgbmV4dDogYW55KSA9PiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGN2cyA9IHRoaXMuY2FudmFzO1xyXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHhfO1xyXG4gICAgY29uc3QgdyA9IGN2cy53aWR0aCArIDEwO1xyXG4gICAgY29uc3QgaCA9IGN2cy5oZWlnaHQgLSAzMDtcclxuICAgIGNvbnN0IHN0ZXAgPSAodGhpcy5zdGF0aXN0aWMucmVjb3Jkcy5sZW5ndGggLSAxKSAvIE1BWF9TVEVQO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbygwLCBoKTtcclxuICAgIGxldCBsYXN0UyA9IDA7XHJcbiAgICBsZXQgbGFzdFkgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVhfU1RFUDsgaSArKykge1xyXG4gICAgICBjb25zdCBpZHggPSBpICogc3RlcDtcclxuICAgICAgbGFzdFMgPSBNYXRoLm1heChsYXN0UywgaWR4KTtcclxuICAgICAgY29uc3QgcHJldiA9IHRoaXMuc3RhdGlzdGljLnJlY29yZHNbTWF0aC5mbG9vcihpZHgpXTtcclxuICAgICAgY29uc3QgbmV4dCA9IHRoaXMuc3RhdGlzdGljLnJlY29yZHNbTWF0aC5jZWlsKGlkeCldO1xyXG4gICAgICBpZiAoIXByZXYgfHwgIW5leHQpIGJyZWFrO1xyXG4gICAgICBjb25zdCBzdW0gPSAocHJldlswXSArIHByZXZbMV0gKyBwcmV2WzJdICsgbmV4dFswXSArIG5leHRbMV0gKyBuZXh0WzJdKSAvIDI7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gY2FsYyhwcmV2LCBuZXh0KTtcclxuICAgICAgY29uc3QgeCA9IHcgLyBNQVhfU1RFUCAqIGk7XHJcbiAgICAgIGNvbnN0IHkgPSBoIC0gaCAvIHN1bSAqIHZhbHVlO1xyXG4gICAgICBsYXN0WSA9IHk7XHJcbiAgICAgIGN0eC5saW5lVG8oeCwgeSk7XHJcbiAgICB9XHJcbiAgICBjdHgubGluZVRvKHcsIGgpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICBjb25zdCBjdnMgPSB0aGlzLmNhbnZhcztcclxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XztcclxuICAgIGN2cy53aWR0aCA9IHRoaXMuYm94Lm9mZnNldFdpZHRoO1xyXG4gICAgY3ZzLmhlaWdodCA9IHRoaXMuYm94Lm9mZnNldEhlaWdodDtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiM0NDQzNDVcIjtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3ZzLndpZHRoLCBjdnMuaGVpZ2h0KTtcclxuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdnMud2lkdGgsIGN2cy5oZWlnaHQgLSAzMCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMzE2MDZlXCI7XHJcbiAgICB0aGlzLnJlbmRlcjIoKGEsIGIpID0+IChhWzBdICsgYlswXSkgLyAyICsgKGFbMV0gKyBiWzFdKSAvIDIpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiI2Y1Njc1NFwiO1xyXG4gICAgdGhpcy5yZW5kZXIyKChhLCBiKSA9PiAoYVsxXSArIGJbMV0pIC8gMik7XHJcbiAgICB0aGlzLnJlbmRlckRheSgpO1xyXG4gIH1cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9